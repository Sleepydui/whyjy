import{s as ge,d as tl,i as pr,e as hr,m as Wr,a as br,T as Oo,b as pe,r as L,c as k,f as ti,o as Ne,g as Xe,h as G,j as P,w as We,k as xe,l as be,F as De,n as He,v as sn,t as de,u as x,p as qu,q as ye,x as jr,y as Xt,z as oe,A as ke,B as Ge,C as Xu,D as qe,E as Xn,G as Zn,H as N,I as ie,J as nl,K as Fe,L as Se,M as wr,N as ft,O as Ie,P as io,Q as so,R as rl,S as ol,U as Zu,V as Qu,W as Ju,X as Et,Y as ni,Z as ec,_ as et,$ as Yr,a0 as lo,a1 as rn,a2 as tc,a3 as Ta,a4 as Vt,a5 as zn,a6 as nc,a7 as Br,a8 as rc,a9 as oc,aa as ac,ab as Ct,ac as ic,ad as sc,ae as lc,af as uc,ag as Sa,ah as cc,ai as qo,aj as In,ak as fc,al,am as il,an as sl,ao as $o,ap as dc,aq as ri,ar as pc,as as hc,at as vc,au as mc,av as gc,aw as oi,ax as ai,ay as ii,az as yc}from"./index-Bx8SvL3Q.js";import{t as bc,i as wc,a as ll,b as _c,c as si,d as Tc,e as Sc,f as Ec,_ as Qn,l as en,O as Cc,M as Oc,K as $c}from"./KeywordView-BUd_xWqx.js";const Mc=xc(kc);function xc(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:o,width:i,height:a}=t;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:o.length/i))>=0))throw new RangeError("invalid height");if(!i||!a||!n&&!r)return t;const l=n&&e(n),u=r&&e(r),s=o.slice();return l&&u?(Cn(l,s,o,i,a),Cn(l,o,s,i,a),Cn(l,s,o,i,a),On(u,o,s,i,a),On(u,s,o,i,a),On(u,o,s,i,a)):l?(Cn(l,o,s,i,a),Cn(l,s,o,i,a),Cn(l,o,s,i,a)):u&&(On(u,o,s,i,a),On(u,s,o,i,a),On(u,o,s,i,a)),t}}function Cn(e,t,n,r,o){for(let i=0,a=r*o;i<a;)e(t,n,i,i+=r,1)}function On(e,t,n,r,o){for(let i=0,a=r*o;i<r;++i)e(t,n,i,i+a,r)}function kc(e){const t=Math.floor(e);if(t===e)return Pc(e);const n=e-t,r=2*e+1;return(o,i,a,l,u)=>{if(!((l-=u)>=a))return;let s=t*i[a];const d=u*t,f=d+u;for(let c=a,h=a+d;c<h;c+=u)s+=i[Math.min(l,c)];for(let c=a,h=l;c<=h;c+=u)s+=i[Math.min(l,c+d)],o[c]=(s+n*(i[Math.max(a,c-f)]+i[Math.min(l,c+f)]))/r,s-=i[Math.max(a,c-d)]}}function Pc(e){const t=2*e+1;return(n,r,o,i,a)=>{if(!((i-=a)>=o))return;let l=e*r[o];const u=a*e;for(let s=o,d=o+u;s<d;s+=a)l+=r[Math.min(i,s)];for(let s=o,d=i;s<=d;s+=a)l+=r[Math.min(i,s+u)],n[s]=l/t,l-=r[Math.max(o,s-u)]}}function Ic(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function Rc(e,t){var n=0;return Float64Array.from(e,r=>n+=+r||0)}class Nn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let o=0;o<this._n&&o<32;o++){const i=n[o],a=t+i,l=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);l&&(n[r++]=l),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,o,i,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,o=t[--n],a=r+o,i=o-(a-r),!i););n>0&&(i<0&&t[n-1]<0||i>0&&t[n-1]>0)&&(o=i*2,r=a+o,o==r-a&&(a=r))}return a}}class Ac extends Map{constructor(t,n=Lc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(li(this,t))}has(t){return super.has(li(this,t))}set(t,n){return super.set(Dc(this,t),n)}delete(t){return super.delete(Fc(this,t))}}function li({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Dc({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Fc({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Lc(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zc(e){return e}function ui(e,t,...n){return Nc(e,zc,t,n)}function Nc(e,t,n,r){return function o(i,a){if(a>=r.length)return n(i);const l=new Ac,u=r[a++];let s=-1;for(const d of i){const f=u(d,++s,i),c=l.get(f);c?c.push(d):l.set(f,[d])}for(const[d,f]of l)l.set(d,o(f,a));return t(l)}(e,0)}function Uc(e,t,n){let r;for(;;){const o=bc(e,t,n);if(o===r||o===0||!isFinite(o))return[e,t];o>0?(e=Math.floor(e/o)*o,t=Math.ceil(t/o)*o):o<0&&(e=Math.ceil(e*o)/o,t=Math.floor(t*o)/o),r=o}}function Bc(e){return Math.max(1,Math.ceil(Math.log(Ic(e))/Math.LN2)+1)}function Vc(e){return e}var Hc=1,ci=1e-6;function Wc(e){return"translate("+e+",0)"}function jc(e){return t=>+e(t)}function Yc(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Kc(){return!this.__axis}function Gc(e,t){var n=[],r=null,o=null,i=6,a=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=-1,d="y",f=Wc;function c(h){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),y=o??(t.tickFormat?t.tickFormat.apply(t,n):Vc),v=Math.max(i,0)+l,p=t.range(),g=+p[0]+u,E=+p[p.length-1]+u,C=(t.bandwidth?Yc:jc)(t.copy(),u),T=h.selection?h.selection():h,b=T.selectAll(".domain").data([null]),w=T.selectAll(".tick").data(m,t).order(),O=w.exit(),_=w.enter().append("g").attr("class","tick"),$=w.select("line"),R=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(_),$=$.merge(_.append("line").attr("stroke","currentColor").attr(d+"2",s*i)),R=R.merge(_.append("text").attr("fill","currentColor").attr(d,s*v).attr("dy","0em")),h!==T&&(b=b.transition(h),w=w.transition(h),$=$.transition(h),R=R.transition(h),O=O.transition(h).attr("opacity",ci).attr("transform",function(B){return isFinite(B=C(B))?f(B+u):this.getAttribute("transform")}),_.attr("opacity",ci).attr("transform",function(B){var V=this.parentNode.__axis;return f((V&&isFinite(V=V(B))?V:C(B))+u)})),O.remove(),b.attr("d",a?"M"+g+","+s*a+"V"+u+"H"+E+"V"+s*a:"M"+g+","+u+"H"+E),w.attr("opacity",1).attr("transform",function(B){return f(C(B)+u)}),$.attr(d+"2",s*i),R.attr(d,s*v).text(y),T.filter(Kc).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),T.each(function(){this.__axis=C})}return c.scale=function(h){return arguments.length?(t=h,c):t},c.ticks=function(){return n=Array.from(arguments),c},c.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),c):n.slice()},c.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),c):r&&r.slice()},c.tickFormat=function(h){return arguments.length?(o=h,c):o},c.tickSize=function(h){return arguments.length?(i=a=+h,c):i},c.tickSizeInner=function(h){return arguments.length?(i=+h,c):i},c.tickSizeOuter=function(h){return arguments.length?(a=+h,c):a},c.tickPadding=function(h){return arguments.length?(l=+h,c):l},c.offset=function(h){return arguments.length?(u=+h,c):u},c}function qc(e){return Gc(Hc,e)}function Xc(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ht(e,t){if(e=Xc(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Xo={capture:!0,passive:!1};function Zo(e){e.preventDefault(),e.stopImmediatePropagation()}function ul(e){var t=e.document.documentElement,n=ge(e).on("dragstart.drag",Zo,Xo);"onselectstart"in t?n.on("selectstart.drag",Zo,Xo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function cl(e,t){var n=e.document.documentElement,r=ge(e).on("dragstart.drag",null);t&&(r.on("click.drag",Zo,Xo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Zc=1e-12;function fi(e){return((e=Math.exp(e))+1/e)/2}function Qc(e){return((e=Math.exp(e))-1/e)/2}function Jc(e){return((e=Math.exp(2*e))-1)/(e+1)}const ef=function e(t,n,r){function o(i,a){var l=i[0],u=i[1],s=i[2],d=a[0],f=a[1],c=a[2],h=d-l,m=f-u,y=h*h+m*m,v,p;if(y<Zc)p=Math.log(c/s)/t,v=function(w){return[l+w*h,u+w*m,s*Math.exp(t*w*p)]};else{var g=Math.sqrt(y),E=(c*c-s*s+r*y)/(2*s*n*g),C=(c*c-s*s-r*y)/(2*c*n*g),T=Math.log(Math.sqrt(E*E+1)-E),b=Math.log(Math.sqrt(C*C+1)-C);p=(b-T)/t,v=function(w){var O=w*p,_=fi(T),$=s/(n*g)*(_*Jc(t*O+T)-Qc(T));return[l+$*h,u+$*m,s*_/fi(t*O+T)]}}return v.duration=p*1e3*t/Math.SQRT2,v}return o.rho=function(i){var a=Math.max(.001,+i),l=a*a,u=l*l;return e(a,l,u)},o}(Math.SQRT2,2,4),Mo=e=>()=>e;function tf(e,{sourceEvent:t,target:n,selection:r,mode:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function nf(e){e.stopImmediatePropagation()}function xo(e){e.preventDefault(),e.stopImmediatePropagation()}var di={name:"drag"},ko={name:"space"},$n={name:"handle"},Mn={name:"center"};const{abs:pi,max:Ze,min:Qe}=Math;function hi(e){return[+e[0],+e[1]]}function vi(e){return[hi(e[0]),hi(e[1])]}var Vr={name:"x",handles:["w","e"].map(Qo),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Po={},Pt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},gi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},rf={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},of={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Qo(e){return{type:e}}function af(e){return!e.ctrlKey&&!e.button}function sf(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function lf(){return navigator.maxTouchPoints||"ontouchstart"in this}function Io(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function uf(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function cf(){return ff(Vr)}function ff(e){var t=sf,n=af,r=lf,o=!0,i=tl("start","brush","end"),a=6,l;function u(v){var p=v.property("__brush",y).selectAll(".overlay").data([Qo("overlay")]);p.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Pt.overlay).merge(p).each(function(){var E=Io(this).extent;ge(this).attr("x",E[0][0]).attr("y",E[0][1]).attr("width",E[1][0]-E[0][0]).attr("height",E[1][1]-E[0][1])}),v.selectAll(".selection").data([Qo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Pt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var g=v.selectAll(".handle").data(e.handles,function(E){return E.type});g.exit().remove(),g.enter().append("rect").attr("class",function(E){return"handle handle--"+E.type}).attr("cursor",function(E){return Pt[E.type]}),v.each(s).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",c).filter(r).on("touchstart.brush",c).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(v,p,g){v.tween?v.on("start.brush",function(E){d(this,arguments).beforestart().start(E)}).on("interrupt.brush end.brush",function(E){d(this,arguments).end(E)}).tween("brush",function(){var E=this,C=E.__brush,T=d(E,arguments),b=C.selection,w=e.input(typeof p=="function"?p.apply(this,arguments):p,C.extent),O=wc(b,w);function _($){C.selection=$===1&&w===null?null:O($),s.call(E),T.brush()}return b!==null&&w!==null?_:_(1)}):v.each(function(){var E=this,C=arguments,T=E.__brush,b=e.input(typeof p=="function"?p.apply(E,C):p,T.extent),w=d(E,C).beforestart();pr(E),T.selection=b===null?null:b,s.call(E),w.start(g).brush(g).end(g)})},u.clear=function(v,p){u.move(v,null,p)};function s(){var v=ge(this),p=Io(this).selection;p?(v.selectAll(".selection").style("display",null).attr("x",p[0][0]).attr("y",p[0][1]).attr("width",p[1][0]-p[0][0]).attr("height",p[1][1]-p[0][1]),v.selectAll(".handle").style("display",null).attr("x",function(g){return g.type[g.type.length-1]==="e"?p[1][0]-a/2:p[0][0]-a/2}).attr("y",function(g){return g.type[0]==="s"?p[1][1]-a/2:p[0][1]-a/2}).attr("width",function(g){return g.type==="n"||g.type==="s"?p[1][0]-p[0][0]+a:a}).attr("height",function(g){return g.type==="e"||g.type==="w"?p[1][1]-p[0][1]+a:a})):v.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(v,p,g){var E=v.__brush.emitter;return E&&(!g||!E.clean)?E:new f(v,p,g)}function f(v,p,g){this.that=v,this.args=p,this.state=v.__brush,this.active=0,this.clean=g}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(v,p){return this.starting?(this.starting=!1,this.emit("start",v,p)):this.emit("brush",v),this},brush:function(v,p){return this.emit("brush",v,p),this},end:function(v,p){return--this.active===0&&(delete this.state.emitter,this.emit("end",v,p)),this},emit:function(v,p,g){var E=ge(this.that).datum();i.call(v,this.that,new tf(v,{sourceEvent:p,target:u,selection:e.output(this.state.selection),mode:g,dispatch:i}),E)}};function c(v){if(l&&!v.touches||!n.apply(this,arguments))return;var p=this,g=v.target.__data__.type,E=(o&&v.metaKey?g="overlay":g)==="selection"?di:o&&v.altKey?Mn:$n,C=e===Po?null:rf[g],T=e===Vr?null:of[g],b=Io(p),w=b.extent,O=b.selection,_=w[0][0],$,R,B=w[0][1],V,S,z=w[1][0],M,I,Y=w[1][1],K,j,J=0,ee=0,Ce,ce=C&&T&&o&&v.shiftKey,ve,Me,ne=Array.from(v.touches||[v],Q=>{const fe=Q.identifier;return Q=ht(Q,p),Q.point0=Q.slice(),Q.identifier=fe,Q});pr(p);var se=d(p,arguments,!0).beforestart();if(g==="overlay"){O&&(Ce=!0);const Q=[ne[0],ne[1]||ne[0]];b.selection=O=[[$=e===Po?_:Qe(Q[0][0],Q[1][0]),V=e===Vr?B:Qe(Q[0][1],Q[1][1])],[M=e===Po?z:Ze(Q[0][0],Q[1][0]),K=e===Vr?Y:Ze(Q[0][1],Q[1][1])]],ne.length>1&&we(v)}else $=O[0][0],V=O[0][1],M=O[1][0],K=O[1][1];R=$,S=V,I=M,j=K;var X=ge(p).attr("pointer-events","none"),re=X.selectAll(".overlay").attr("cursor",Pt[g]);if(v.touches)se.moved=U,se.ended=me;else{var ae=ge(v.view).on("mousemove.brush",U,!0).on("mouseup.brush",me,!0);o&&ae.on("keydown.brush",Ae,!0).on("keyup.brush",Re,!0),ul(v.view)}s.call(p),se.start(v,E.name);function U(Q){for(const fe of Q.changedTouches||[Q])for(const Le of ne)Le.identifier===fe.identifier&&(Le.cur=ht(fe,p));if(ce&&!ve&&!Me&&ne.length===1){const fe=ne[0];pi(fe.cur[0]-fe[0])>pi(fe.cur[1]-fe[1])?Me=!0:ve=!0}for(const fe of ne)fe.cur&&(fe[0]=fe.cur[0],fe[1]=fe.cur[1]);Ce=!0,xo(Q),we(Q)}function we(Q){const fe=ne[0],Le=fe.point0;var Te;switch(J=fe[0]-Le[0],ee=fe[1]-Le[1],E){case ko:case di:{C&&(J=Ze(_-$,Qe(z-M,J)),R=$+J,I=M+J),T&&(ee=Ze(B-V,Qe(Y-K,ee)),S=V+ee,j=K+ee);break}case $n:{ne[1]?(C&&(R=Ze(_,Qe(z,ne[0][0])),I=Ze(_,Qe(z,ne[1][0])),C=1),T&&(S=Ze(B,Qe(Y,ne[0][1])),j=Ze(B,Qe(Y,ne[1][1])),T=1)):(C<0?(J=Ze(_-$,Qe(z-$,J)),R=$+J,I=M):C>0&&(J=Ze(_-M,Qe(z-M,J)),R=$,I=M+J),T<0?(ee=Ze(B-V,Qe(Y-V,ee)),S=V+ee,j=K):T>0&&(ee=Ze(B-K,Qe(Y-K,ee)),S=V,j=K+ee));break}case Mn:{C&&(R=Ze(_,Qe(z,$-J*C)),I=Ze(_,Qe(z,M+J*C))),T&&(S=Ze(B,Qe(Y,V-ee*T)),j=Ze(B,Qe(Y,K+ee*T)));break}}I<R&&(C*=-1,Te=$,$=M,M=Te,Te=R,R=I,I=Te,g in mi&&re.attr("cursor",Pt[g=mi[g]])),j<S&&(T*=-1,Te=V,V=K,K=Te,Te=S,S=j,j=Te,g in gi&&re.attr("cursor",Pt[g=gi[g]])),b.selection&&(O=b.selection),ve&&(R=O[0][0],I=O[1][0]),Me&&(S=O[0][1],j=O[1][1]),(O[0][0]!==R||O[0][1]!==S||O[1][0]!==I||O[1][1]!==j)&&(b.selection=[[R,S],[I,j]],s.call(p),se.brush(Q,E.name))}function me(Q){if(nf(Q),Q.touches){if(Q.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else cl(Q.view,Ce),ae.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);X.attr("pointer-events","all"),re.attr("cursor",Pt.overlay),b.selection&&(O=b.selection),uf(O)&&(b.selection=null,s.call(p)),se.end(Q,E.name)}function Ae(Q){switch(Q.keyCode){case 16:{ce=C&&T;break}case 18:{E===$n&&(C&&(M=I-J*C,$=R+J*C),T&&(K=j-ee*T,V=S+ee*T),E=Mn,we(Q));break}case 32:{(E===$n||E===Mn)&&(C<0?M=I-J:C>0&&($=R-J),T<0?K=j-ee:T>0&&(V=S-ee),E=ko,re.attr("cursor",Pt.selection),we(Q));break}default:return}xo(Q)}function Re(Q){switch(Q.keyCode){case 16:{ce&&(ve=Me=ce=!1,we(Q));break}case 18:{E===Mn&&(C<0?M=I:C>0&&($=R),T<0?K=j:T>0&&(V=S),E=$n,we(Q));break}case 32:{E===ko&&(Q.altKey?(C&&(M=I-J*C,$=R+J*C),T&&(K=j-ee*T,V=S+ee*T),E=Mn):(C<0?M=I:C>0&&($=R),T<0?K=j:T>0&&(V=S),E=$n),re.attr("cursor",Pt[g]),we(Q));break}default:return}xo(Q)}}function h(v){d(this,arguments).moved(v)}function m(v){d(this,arguments).ended(v)}function y(){var v=this.__brush||{selection:null};return v.extent=vi(t.apply(this,arguments)),v.dim=e,v}return u.extent=function(v){return arguments.length?(t=typeof v=="function"?v:Mo(vi(v)),u):t},u.filter=function(v){return arguments.length?(n=typeof v=="function"?v:Mo(!!v),u):n},u.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Mo(!!v),u):r},u.handleSize=function(v){return arguments.length?(a=+v,u):a},u.keyModifiers=function(v){return arguments.length?(o=!!v,u):o},u.on=function(){var v=i.on.apply(i,arguments);return v===i?u:v},u}const Jo=Math.PI,ea=2*Jo,hn=1e-6,df=ea-hn;function fl(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function pf(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fl;const n=10**t;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class hf{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fl:pf(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,i,a){this._append`C${+t},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,r,o,i){if(t=+t,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,l=this._y1,u=r-t,s=o-n,d=a-t,f=l-n,c=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(c>hn)if(!(Math.abs(f*u-s*d)>hn)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,m=o-l,y=u*u+s*s,v=h*h+m*m,p=Math.sqrt(y),g=Math.sqrt(c),E=i*Math.tan((Jo-Math.acos((y+c-v)/(2*p*g)))/2),C=E/g,T=E/p;Math.abs(C-1)>hn&&this._append`L${t+C*d},${n+C*f}`,this._append`A${i},${i},0,0,${+(f*h>d*m)},${this._x1=t+T*u},${this._y1=n+T*s}`}}arc(t,n,r,o,i,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(o),u=r*Math.sin(o),s=t+l,d=n+u,f=1^a,c=a?o-i:i-o;this._x1===null?this._append`M${s},${d}`:(Math.abs(this._x1-s)>hn||Math.abs(this._y1-d)>hn)&&this._append`L${s},${d}`,r&&(c<0&&(c=c%ea+ea),c>df?this._append`A${r},${r},0,1,${f},${t-l},${n-u}A${r},${r},0,1,${f},${this._x1=s},${this._y1=d}`:c>hn&&this._append`A${r},${r},0,${+(c>=Jo)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}var vf=Array.prototype,dl=vf.slice;function mf(e,t){return e-t}function gf(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}const Qt=e=>()=>e;function yf(e,t){for(var n=-1,r=t.length,o;++n<r;)if(o=bf(e,t[n]))return o;return 0}function bf(e,t){for(var n=t[0],r=t[1],o=-1,i=0,a=e.length,l=a-1;i<a;l=i++){var u=e[i],s=u[0],d=u[1],f=e[l],c=f[0],h=f[1];if(wf(u,f,t))return 0;d>r!=h>r&&n<(c-s)*(r-d)/(h-d)+s&&(o=-o)}return o}function wf(e,t,n){var r;return _f(e,t,n)&&Tf(e[r=+(e[0]===t[0])],n[r],t[r])}function _f(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Tf(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function Sf(){}var It=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function yi(){var e=1,t=1,n=Bc,r=u;function o(s){var d=n(s);if(Array.isArray(d))d=d.slice().sort(mf);else{const f=hr(s,Ef);for(d=ll(...Uc(f[0],f[1],d),d);d[d.length-1]>=f[1];)d.pop();for(;d[1]<f[0];)d.shift()}return d.map(f=>i(s,f))}function i(s,d){const f=d==null?NaN:+d;if(isNaN(f))throw new Error(`invalid value: ${d}`);var c=[],h=[];return a(s,f,function(m){r(m,s,f),gf(m)>0?c.push([m]):h.push(m)}),h.forEach(function(m){for(var y=0,v=c.length,p;y<v;++y)if(yf((p=c[y])[0],m)!==-1){p.push(m);return}}),{type:"MultiPolygon",value:d,coordinates:c}}function a(s,d,f){var c=new Array,h=new Array,m,y,v,p,g,E;for(m=y=-1,p=dn(s[0],d),It[p<<1].forEach(C);++m<e-1;)v=p,p=dn(s[m+1],d),It[v|p<<1].forEach(C);for(It[p<<0].forEach(C);++y<t-1;){for(m=-1,p=dn(s[y*e+e],d),g=dn(s[y*e],d),It[p<<1|g<<2].forEach(C);++m<e-1;)v=p,p=dn(s[y*e+e+m+1],d),E=g,g=dn(s[y*e+m+1],d),It[v|p<<1|g<<2|E<<3].forEach(C);It[p|g<<3].forEach(C)}for(m=-1,g=s[y*e]>=d,It[g<<2].forEach(C);++m<e-1;)E=g,g=dn(s[y*e+m+1],d),It[g<<2|E<<3].forEach(C);It[g<<3].forEach(C);function C(T){var b=[T[0][0]+m,T[0][1]+y],w=[T[1][0]+m,T[1][1]+y],O=l(b),_=l(w),$,R;($=h[O])?(R=c[_])?(delete h[$.end],delete c[R.start],$===R?($.ring.push(w),f($.ring)):c[$.start]=h[R.end]={start:$.start,end:R.end,ring:$.ring.concat(R.ring)}):(delete h[$.end],$.ring.push(w),h[$.end=_]=$):($=c[_])?(R=h[O])?(delete c[$.start],delete h[R.end],$===R?($.ring.push(w),f($.ring)):c[R.start]=h[$.end]={start:R.start,end:$.end,ring:R.ring.concat($.ring)}):(delete c[$.start],$.ring.unshift(b),c[$.start=O]=$):c[O]=h[_]={start:O,end:_,ring:[b,w]}}}function l(s){return s[0]*2+s[1]*(e+1)*4}function u(s,d,f){s.forEach(function(c){var h=c[0],m=c[1],y=h|0,v=m|0,p=Ro(d[v*e+y]);h>0&&h<e&&y===h&&(c[0]=bi(h,Ro(d[v*e+y-1]),p,f)),m>0&&m<t&&v===m&&(c[1]=bi(m,Ro(d[(v-1)*e+y]),p,f))})}return o.contour=i,o.size=function(s){if(!arguments.length)return[e,t];var d=Math.floor(s[0]),f=Math.floor(s[1]);if(!(d>=0&&f>=0))throw new Error("invalid size");return e=d,t=f,o},o.thresholds=function(s){return arguments.length?(n=typeof s=="function"?s:Array.isArray(s)?Qt(dl.call(s)):Qt(s),o):n},o.smooth=function(s){return arguments.length?(r=s?u:Sf,o):r===u},o}function Ef(e){return isFinite(e)?e:NaN}function dn(e,t){return e==null?!1:+e>=t}function Ro(e){return e==null||isNaN(e=+e)?-1/0:e}function bi(e,t,n,r){const o=r-t,i=n-t,a=isFinite(o)||isFinite(i)?o/i:Math.sign(o)/Math.sign(i);return isNaN(a)?e:e+a-.5}function Cf(e){return e[0]}function Of(e){return e[1]}function $f(){return 1}function Mf(){var e=Cf,t=Of,n=$f,r=960,o=500,i=20,a=2,l=i*3,u=r+l*2>>a,s=o+l*2>>a,d=Qt(20);function f(g){var E=new Float32Array(u*s),C=Math.pow(2,-a),T=-1;for(const V of g){var b=(e(V,++T,g)+l)*C,w=(t(V,T,g)+l)*C,O=+n(V,T,g);if(O&&b>=0&&b<u&&w>=0&&w<s){var _=Math.floor(b),$=Math.floor(w),R=b-_-.5,B=w-$-.5;E[_+$*u]+=(1-R)*(1-B)*O,E[_+1+$*u]+=R*(1-B)*O,E[_+1+($+1)*u]+=R*B*O,E[_+($+1)*u]+=(1-R)*B*O}}return Mc({data:E,width:u,height:s},i*C),E}function c(g){var E=f(g),C=d(E),T=Math.pow(2,2*a);return Array.isArray(C)||(C=ll(Number.MIN_VALUE,Wr(E)/T,C)),yi().size([u,s]).thresholds(C.map(b=>b*T))(E).map((b,w)=>(b.value=+C[w],h(b)))}c.contours=function(g){var E=f(g),C=yi().size([u,s]),T=Math.pow(2,2*a),b=w=>{w=+w;var O=h(C.contour(E,w*T));return O.value=w,O};return Object.defineProperty(b,"max",{get:()=>Wr(E)/T}),b};function h(g){return g.coordinates.forEach(m),g}function m(g){g.forEach(y)}function y(g){g.forEach(v)}function v(g){g[0]=g[0]*Math.pow(2,a)-l,g[1]=g[1]*Math.pow(2,a)-l}function p(){return l=i*3,u=r+l*2>>a,s=o+l*2>>a,c}return c.x=function(g){return arguments.length?(e=typeof g=="function"?g:Qt(+g),c):e},c.y=function(g){return arguments.length?(t=typeof g=="function"?g:Qt(+g),c):t},c.weight=function(g){return arguments.length?(n=typeof g=="function"?g:Qt(+g),c):n},c.size=function(g){if(!arguments.length)return[r,o];var E=+g[0],C=+g[1];if(!(E>=0&&C>=0))throw new Error("invalid size");return r=E,o=C,p()},c.cellSize=function(g){if(!arguments.length)return 1<<a;if(!((g=+g)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(g)/Math.LN2),p()},c.thresholds=function(g){return arguments.length?(d=typeof g=="function"?g:Array.isArray(g)?Qt(dl.call(g)):Qt(g),c):d},c.bandwidth=function(g){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((g=+g)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*g*g+1)-1)/2,p()},c}var xf=Math.PI,kf=xf*2,Pf=Math.abs,Ea=Math.sqrt;function mt(){}function Kr(e,t){e&&_i.hasOwnProperty(e.type)&&_i[e.type](e,t)}var wi={Feature:function(e,t){Kr(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)Kr(n[r].geometry,t)}},_i={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ta(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)ta(n[r],t,0)},Polygon:function(e,t){Ti(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)Ti(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)Kr(n[r],t)}};function ta(e,t,n){var r=-1,o=e.length-n,i;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function Ti(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ta(e[n],t,1);t.polygonEnd()}function tr(e,t){e&&wi.hasOwnProperty(e.type)?wi[e.type](e,t):Kr(e,t)}const If=e=>e;var Ao=new Nn,na=new Nn,pl,hl,ra,oa,Dt={point:mt,lineStart:mt,lineEnd:mt,polygonStart:function(){Dt.lineStart=Rf,Dt.lineEnd=Df},polygonEnd:function(){Dt.lineStart=Dt.lineEnd=Dt.point=mt,Ao.add(Pf(na)),na=new Nn},result:function(){var e=Ao/2;return Ao=new Nn,e}};function Rf(){Dt.point=Af}function Af(e,t){Dt.point=vl,pl=ra=e,hl=oa=t}function vl(e,t){na.add(oa*e-ra*t),ra=e,oa=t}function Df(){vl(pl,hl)}var Un=1/0,Gr=Un,_r=-Un,qr=_r,Si={point:Ff,lineStart:mt,lineEnd:mt,polygonStart:mt,polygonEnd:mt,result:function(){var e=[[Un,Gr],[_r,qr]];return _r=qr=-(Gr=Un=1/0),e}};function Ff(e,t){e<Un&&(Un=e),e>_r&&(_r=e),t<Gr&&(Gr=t),t>qr&&(qr=t)}var aa=0,ia=0,lr=0,Xr=0,Zr=0,Dn=0,sa=0,la=0,ur=0,ml,gl,Tt,St,lt={point:mn,lineStart:Ei,lineEnd:Ci,polygonStart:function(){lt.lineStart=Nf,lt.lineEnd=Uf},polygonEnd:function(){lt.point=mn,lt.lineStart=Ei,lt.lineEnd=Ci},result:function(){var e=ur?[sa/ur,la/ur]:Dn?[Xr/Dn,Zr/Dn]:lr?[aa/lr,ia/lr]:[NaN,NaN];return aa=ia=lr=Xr=Zr=Dn=sa=la=ur=0,e}};function mn(e,t){aa+=e,ia+=t,++lr}function Ei(){lt.point=Lf}function Lf(e,t){lt.point=zf,mn(Tt=e,St=t)}function zf(e,t){var n=e-Tt,r=t-St,o=Ea(n*n+r*r);Xr+=o*(Tt+e)/2,Zr+=o*(St+t)/2,Dn+=o,mn(Tt=e,St=t)}function Ci(){lt.point=mn}function Nf(){lt.point=Bf}function Uf(){yl(ml,gl)}function Bf(e,t){lt.point=yl,mn(ml=Tt=e,gl=St=t)}function yl(e,t){var n=e-Tt,r=t-St,o=Ea(n*n+r*r);Xr+=o*(Tt+e)/2,Zr+=o*(St+t)/2,Dn+=o,o=St*e-Tt*t,sa+=o*(Tt+e),la+=o*(St+t),ur+=o*3,mn(Tt=e,St=t)}function bl(e){this._context=e}bl.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,kf);break}}},result:mt};var ua=new Nn,Do,wl,_l,cr,fr,Tr={point:mt,lineStart:function(){Tr.point=Vf},lineEnd:function(){Do&&Tl(wl,_l),Tr.point=mt},polygonStart:function(){Do=!0},polygonEnd:function(){Do=null},result:function(){var e=+ua;return ua=new Nn,e}};function Vf(e,t){Tr.point=Tl,wl=cr=e,_l=fr=t}function Tl(e,t){cr-=e,fr-=t,ua.add(Ea(cr*cr+fr*fr)),cr=e,fr=t}let Oi,Qr,$i,Mi;class xi{constructor(t){this._append=t==null?Sl:Hf(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==$i||this._append!==Qr){const r=this._radius,o=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,$i=r,Qr=this._append,Mi=this._,this._=o}this._+=Mi;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Sl(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Hf(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Sl;if(t!==Oi){const n=10**t;Oi=t,Qr=function(o){let i=1;this._+=o[0];for(const a=o.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}return Qr}function ki(e,t){let n=3,r=4.5,o,i;function a(l){return l&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),tr(l,o(i))),i.result()}return a.area=function(l){return tr(l,o(Dt)),Dt.result()},a.measure=function(l){return tr(l,o(Tr)),Tr.result()},a.bounds=function(l){return tr(l,o(Si)),Si.result()},a.centroid=function(l){return tr(l,o(lt)),lt.result()},a.projection=function(l){return arguments.length?(o=l==null?(e=null,If):(e=l).stream,a):e},a.context=function(l){return arguments.length?(i=l==null?(t=null,new xi(n)):new bl(t=l),typeof r!="function"&&i.pointRadius(r),a):t},a.pointRadius=function(l){return arguments.length?(r=typeof l=="function"?l:(i.pointRadius(+l),+l),a):r},a.digits=function(l){if(!arguments.length)return n;if(l==null)n=null;else{const u=Math.floor(l);if(!(u>=0))throw new RangeError(`invalid digits: ${l}`);n=u}return t===null&&(i=new xi(n)),a},a.projection(e).digits(n).context(t)}function Wf(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],i=e[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),e[n]=t.floor(o),e[r]=t.ceil(i),e}const Fo=new Date,Lo=new Date;function Be(e,t,n,r){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{const a=o(i),l=o.ceil(i);return i-a<l-i?a:l},o.offset=(i,a)=>(t(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,l)=>{const u=[];if(i=o.ceil(i),l=l==null?1:Math.floor(l),!(i<a)||!(l>0))return u;let s;do u.push(s=new Date(+i)),t(i,l),e(i);while(s<i&&i<a);return u},o.filter=i=>Be(a=>{if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!i(a););else for(;--l>=0;)for(;t(a,1),!i(a););}),n&&(o.count=(i,a)=>(Fo.setTime(+i),Lo.setTime(+a),e(Fo),e(Lo),Math.floor(n(Fo,Lo))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}const Jr=Be(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jr.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Be(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Jr);Jr.range;const Lt=1e3,ut=Lt*60,zt=ut*60,Ht=zt*24,Ca=Ht*7,Pi=Ht*30,zo=Ht*365,Fn=Be(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Lt)},(e,t)=>(t-e)/Lt,e=>e.getUTCSeconds());Fn.range;const Oa=Be(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Lt)},(e,t)=>{e.setTime(+e+t*ut)},(e,t)=>(t-e)/ut,e=>e.getMinutes());Oa.range;const jf=Be(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ut)},(e,t)=>(t-e)/ut,e=>e.getUTCMinutes());jf.range;const $a=Be(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Lt-e.getMinutes()*ut)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getHours());$a.range;const Yf=Be(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zt)},(e,t)=>(t-e)/zt,e=>e.getUTCHours());Yf.range;const vt=Be(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ut)/Ht,e=>e.getDate()-1);vt.range;const Ma=Be(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ht,e=>e.getUTCDate()-1);Ma.range;const Kf=Be(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ht,e=>Math.floor(e/Ht));Kf.range;function bn(e){return Be(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ut)/Ca)}const uo=bn(0),Bn=bn(1),Gf=bn(2),qf=bn(3),Vn=bn(4),Xf=bn(5),Zf=bn(6);uo.range;Bn.range;Gf.range;qf.range;Vn.range;Xf.range;Zf.range;function wn(e){return Be(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ca)}const El=wn(0),eo=wn(1),Qf=wn(2),Jf=wn(3),Hn=wn(4),ed=wn(5),td=wn(6);El.range;eo.range;Qf.range;Jf.range;Hn.range;ed.range;td.range;const Ft=Be(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ft.range;const nd=Be(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nd.range;const yt=Be(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Be(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});yt.range;const gn=Be(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Be(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});gn.range;function rd(e,t,n,r,o,i){const a=[[Fn,1,Lt],[Fn,5,5*Lt],[Fn,15,15*Lt],[Fn,30,30*Lt],[i,1,ut],[i,5,5*ut],[i,15,15*ut],[i,30,30*ut],[o,1,zt],[o,3,3*zt],[o,6,6*zt],[o,12,12*zt],[r,1,Ht],[r,2,2*Ht],[n,1,Ca],[t,1,Pi],[t,3,3*Pi],[e,1,zo]];function l(s,d,f){const c=d<s;c&&([s,d]=[d,s]);const h=f&&typeof f.range=="function"?f:u(s,d,f),m=h?h.range(s,+d+1):[];return c?m.reverse():m}function u(s,d,f){const c=Math.abs(d-s)/f,h=_c(([,,v])=>v).right(a,c);if(h===a.length)return e.every(si(s/zo,d/zo,f));if(h===0)return Jr.every(Math.max(si(s,d,f),1));const[m,y]=a[c/a[h-1][2]<a[h][2]/c?h-1:h];return m.every(y)}return[l,u]}const[od,ad]=rd(yt,Ft,uo,vt,$a,Oa);function No(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Uo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function id(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,s=rr(o),d=or(o),f=rr(i),c=or(i),h=rr(a),m=or(a),y=rr(l),v=or(l),p=rr(u),g=or(u),E={a:I,A:Y,b:K,B:j,c:null,d:Li,e:Li,f:xd,g:Nd,G:Bd,H:Od,I:$d,j:Md,L:Cl,m:kd,M:Pd,p:J,q:ee,Q:Ui,s:Bi,S:Id,u:Rd,U:Ad,V:Dd,w:Fd,W:Ld,x:null,X:null,y:zd,Y:Ud,Z:Vd,"%":Ni},C={a:Ce,A:ce,b:ve,B:Me,c:null,d:zi,e:zi,f:Yd,g:np,G:op,H:Hd,I:Wd,j:jd,L:$l,m:Kd,M:Gd,p:ne,q:se,Q:Ui,s:Bi,S:qd,u:Xd,U:Zd,V:Qd,w:Jd,W:ep,x:null,X:null,y:tp,Y:rp,Z:ap,"%":Ni},T={a:$,A:R,b:B,B:V,c:S,d:Di,e:Di,f:Td,g:Ai,G:Ri,H:Fi,I:Fi,j:yd,L:_d,m:gd,M:bd,p:_,q:md,Q:Ed,s:Cd,S:wd,u:fd,U:dd,V:pd,w:cd,W:hd,x:z,X:M,y:Ai,Y:Ri,Z:vd,"%":Sd};E.x=b(n,E),E.X=b(r,E),E.c=b(t,E),C.x=b(n,C),C.X=b(r,C),C.c=b(t,C);function b(X,re){return function(ae){var U=[],we=-1,me=0,Ae=X.length,Re,Q,fe;for(ae instanceof Date||(ae=new Date(+ae));++we<Ae;)X.charCodeAt(we)===37&&(U.push(X.slice(me,we)),(Q=Ii[Re=X.charAt(++we)])!=null?Re=X.charAt(++we):Q=Re==="e"?" ":"0",(fe=re[Re])&&(Re=fe(ae,Q)),U.push(Re),me=we+1);return U.push(X.slice(me,we)),U.join("")}}function w(X,re){return function(ae){var U=nr(1900,void 0,1),we=O(U,X,ae+="",0),me,Ae;if(we!=ae.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(re&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(me=Uo(nr(U.y,0,1)),Ae=me.getUTCDay(),me=Ae>4||Ae===0?eo.ceil(me):eo(me),me=Ma.offset(me,(U.V-1)*7),U.y=me.getUTCFullYear(),U.m=me.getUTCMonth(),U.d=me.getUTCDate()+(U.w+6)%7):(me=No(nr(U.y,0,1)),Ae=me.getDay(),me=Ae>4||Ae===0?Bn.ceil(me):Bn(me),me=vt.offset(me,(U.V-1)*7),U.y=me.getFullYear(),U.m=me.getMonth(),U.d=me.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),Ae="Z"in U?Uo(nr(U.y,0,1)).getUTCDay():No(nr(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(Ae+5)%7:U.w+U.U*7-(Ae+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Uo(U)):No(U)}}function O(X,re,ae,U){for(var we=0,me=re.length,Ae=ae.length,Re,Q;we<me;){if(U>=Ae)return-1;if(Re=re.charCodeAt(we++),Re===37){if(Re=re.charAt(we++),Q=T[Re in Ii?re.charAt(we++):Re],!Q||(U=Q(X,ae,U))<0)return-1}else if(Re!=ae.charCodeAt(U++))return-1}return U}function _(X,re,ae){var U=s.exec(re.slice(ae));return U?(X.p=d.get(U[0].toLowerCase()),ae+U[0].length):-1}function $(X,re,ae){var U=h.exec(re.slice(ae));return U?(X.w=m.get(U[0].toLowerCase()),ae+U[0].length):-1}function R(X,re,ae){var U=f.exec(re.slice(ae));return U?(X.w=c.get(U[0].toLowerCase()),ae+U[0].length):-1}function B(X,re,ae){var U=p.exec(re.slice(ae));return U?(X.m=g.get(U[0].toLowerCase()),ae+U[0].length):-1}function V(X,re,ae){var U=y.exec(re.slice(ae));return U?(X.m=v.get(U[0].toLowerCase()),ae+U[0].length):-1}function S(X,re,ae){return O(X,t,re,ae)}function z(X,re,ae){return O(X,n,re,ae)}function M(X,re,ae){return O(X,r,re,ae)}function I(X){return a[X.getDay()]}function Y(X){return i[X.getDay()]}function K(X){return u[X.getMonth()]}function j(X){return l[X.getMonth()]}function J(X){return o[+(X.getHours()>=12)]}function ee(X){return 1+~~(X.getMonth()/3)}function Ce(X){return a[X.getUTCDay()]}function ce(X){return i[X.getUTCDay()]}function ve(X){return u[X.getUTCMonth()]}function Me(X){return l[X.getUTCMonth()]}function ne(X){return o[+(X.getUTCHours()>=12)]}function se(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var re=b(X+="",E);return re.toString=function(){return X},re},parse:function(X){var re=w(X+="",!1);return re.toString=function(){return X},re},utcFormat:function(X){var re=b(X+="",C);return re.toString=function(){return X},re},utcParse:function(X){var re=w(X+="",!0);return re.toString=function(){return X},re}}}var Ii={"-":"",_:" ",0:"0"},je=/^\s*\d+/,sd=/^%/,ld=/[\\^$*+?|[\]().{}]/g;function _e(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function ud(e){return e.replace(ld,"\\$&")}function rr(e){return new RegExp("^(?:"+e.map(ud).join("|")+")","i")}function or(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cd(e,t,n){var r=je.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function fd(e,t,n){var r=je.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dd(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function pd(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function hd(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ri(e,t,n){var r=je.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ai(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vd(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function md(e,t,n){var r=je.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function gd(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Di(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function yd(e,t,n){var r=je.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Fi(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function bd(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function wd(e,t,n){var r=je.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function _d(e,t,n){var r=je.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Td(e,t,n){var r=je.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sd(e,t,n){var r=sd.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ed(e,t,n){var r=je.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Cd(e,t,n){var r=je.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Li(e,t){return _e(e.getDate(),t,2)}function Od(e,t){return _e(e.getHours(),t,2)}function $d(e,t){return _e(e.getHours()%12||12,t,2)}function Md(e,t){return _e(1+vt.count(yt(e),e),t,3)}function Cl(e,t){return _e(e.getMilliseconds(),t,3)}function xd(e,t){return Cl(e,t)+"000"}function kd(e,t){return _e(e.getMonth()+1,t,2)}function Pd(e,t){return _e(e.getMinutes(),t,2)}function Id(e,t){return _e(e.getSeconds(),t,2)}function Rd(e){var t=e.getDay();return t===0?7:t}function Ad(e,t){return _e(uo.count(yt(e)-1,e),t,2)}function Ol(e){var t=e.getDay();return t>=4||t===0?Vn(e):Vn.ceil(e)}function Dd(e,t){return e=Ol(e),_e(Vn.count(yt(e),e)+(yt(e).getDay()===4),t,2)}function Fd(e){return e.getDay()}function Ld(e,t){return _e(Bn.count(yt(e)-1,e),t,2)}function zd(e,t){return _e(e.getFullYear()%100,t,2)}function Nd(e,t){return e=Ol(e),_e(e.getFullYear()%100,t,2)}function Ud(e,t){return _e(e.getFullYear()%1e4,t,4)}function Bd(e,t){var n=e.getDay();return e=n>=4||n===0?Vn(e):Vn.ceil(e),_e(e.getFullYear()%1e4,t,4)}function Vd(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function zi(e,t){return _e(e.getUTCDate(),t,2)}function Hd(e,t){return _e(e.getUTCHours(),t,2)}function Wd(e,t){return _e(e.getUTCHours()%12||12,t,2)}function jd(e,t){return _e(1+Ma.count(gn(e),e),t,3)}function $l(e,t){return _e(e.getUTCMilliseconds(),t,3)}function Yd(e,t){return $l(e,t)+"000"}function Kd(e,t){return _e(e.getUTCMonth()+1,t,2)}function Gd(e,t){return _e(e.getUTCMinutes(),t,2)}function qd(e,t){return _e(e.getUTCSeconds(),t,2)}function Xd(e){var t=e.getUTCDay();return t===0?7:t}function Zd(e,t){return _e(El.count(gn(e)-1,e),t,2)}function Ml(e){var t=e.getUTCDay();return t>=4||t===0?Hn(e):Hn.ceil(e)}function Qd(e,t){return e=Ml(e),_e(Hn.count(gn(e),e)+(gn(e).getUTCDay()===4),t,2)}function Jd(e){return e.getUTCDay()}function ep(e,t){return _e(eo.count(gn(e)-1,e),t,2)}function tp(e,t){return _e(e.getUTCFullYear()%100,t,2)}function np(e,t){return e=Ml(e),_e(e.getUTCFullYear()%100,t,2)}function rp(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function op(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Hn(e):Hn.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function ap(){return"+0000"}function Ni(){return"%"}function Ui(e){return+e}function Bi(e){return Math.floor(+e/1e3)}var xn,xl;ip({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ip(e){return xn=id(e),xl=xn.format,xn.parse,xn.utcFormat,xn.utcParse,xn}function sp(e){return new Date(e)}function lp(e){return e instanceof Date?+e:+new Date(+e)}function kl(e,t,n,r,o,i,a,l,u,s){var d=Sc(),f=d.invert,c=d.domain,h=s(".%L"),m=s(":%S"),y=s("%I:%M"),v=s("%I %p"),p=s("%a %d"),g=s("%b %d"),E=s("%B"),C=s("%Y");function T(b){return(u(b)<b?h:l(b)<b?m:a(b)<b?y:i(b)<b?v:r(b)<b?o(b)<b?p:g:n(b)<b?E:C)(b)}return d.invert=function(b){return new Date(f(b))},d.domain=function(b){return arguments.length?c(Array.from(b,lp)):c().map(sp)},d.ticks=function(b){var w=c();return e(w[0],w[w.length-1],b??10)},d.tickFormat=function(b,w){return w==null?T:s(w)},d.nice=function(b){var w=c();return(!b||typeof b.range!="function")&&(b=t(w[0],w[w.length-1],b??10)),b?c(Wf(w,b)):d},d.copy=function(){return Ec(d,kl(e,t,n,r,o,i,a,l,u,s))},d}function to(){return Tc.apply(kl(od,ad,yt,Ft,uo,vt,$a,Oa,Fn,xl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ve(e){return function(){return e}}function Pl(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new hf(t)}function Il(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Rl(e){this._context=e}Rl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Al(e){return new Rl(e)}function Dl(e){return e[0]}function Fl(e){return e[1]}function up(e,t){var n=Ve(!0),r=null,o=Al,i=null,a=Pl(l);e=typeof e=="function"?e:e===void 0?Dl:Ve(e),t=typeof t=="function"?t:t===void 0?Fl:Ve(t);function l(u){var s,d=(u=Il(u)).length,f,c=!1,h;for(r==null&&(i=o(h=a())),s=0;s<=d;++s)!(s<d&&n(f=u[s],s,u))===c&&((c=!c)?i.lineStart():i.lineEnd()),c&&i.point(+e(f,s,u),+t(f,s,u));if(h)return i=null,h+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ve(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ve(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ve(!!u),l):n},l.curve=function(u){return arguments.length?(o=u,r!=null&&(i=o(r)),l):o},l.context=function(u){return arguments.length?(u==null?r=i=null:i=o(r=u),l):r},l}function Vi(e,t,n){var r=null,o=Ve(!0),i=null,a=Al,l=null,u=Pl(s);e=typeof e=="function"?e:e===void 0?Dl:Ve(+e),t=typeof t=="function"?t:Ve(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Fl:Ve(+n);function s(f){var c,h,m,y=(f=Il(f)).length,v,p=!1,g,E=new Array(y),C=new Array(y);for(i==null&&(l=a(g=u())),c=0;c<=y;++c){if(!(c<y&&o(v=f[c],c,f))===p)if(p=!p)h=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=c-1;m>=h;--m)l.point(E[m],C[m]);l.lineEnd(),l.areaEnd()}p&&(E[c]=+e(v,c,f),C[c]=+t(v,c,f),l.point(r?+r(v,c,f):E[c],n?+n(v,c,f):C[c]))}if(g)return l=null,g+""||null}function d(){return up().defined(o).curve(a).context(i)}return s.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ve(+f),r=null,s):e},s.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ve(+f),s):e},s.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ve(+f),s):r},s.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ve(+f),n=null,s):t},s.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ve(+f),s):t},s.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ve(+f),s):n},s.lineX0=s.lineY0=function(){return d().x(e).y(t)},s.lineY1=function(){return d().x(e).y(n)},s.lineX1=function(){return d().x(r).y(t)},s.defined=function(f){return arguments.length?(o=typeof f=="function"?f:Ve(!!f),s):o},s.curve=function(f){return arguments.length?(a=f,i!=null&&(l=a(i)),s):a},s.context=function(f){return arguments.length?(f==null?i=l=null:l=a(i=f),s):i},s}const Dr=e=>()=>e;function cp(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Bo(e){e.stopImmediatePropagation()}function ar(e){e.preventDefault(),e.stopImmediatePropagation()}function fp(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function dp(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Hi(){return this.__zoom||br}function pp(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function hp(){return navigator.maxTouchPoints||"ontouchstart"in this}function vp(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Ll(){var e=fp,t=dp,n=vp,r=pp,o=hp,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,u=ef,s=tl("start","zoom","end"),d,f,c,h=500,m=150,y=0,v=10;function p(S){S.property("__zoom",Hi).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",$).filter(o).on("touchstart.zoom",R).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(S,z,M,I){var Y=S.selection?S.selection():S;Y.property("__zoom",Hi),S!==Y?T(S,z,M,I):Y.interrupt().each(function(){b(this,arguments).event(I).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},p.scaleBy=function(S,z,M,I){p.scaleTo(S,function(){var Y=this.__zoom.k,K=typeof z=="function"?z.apply(this,arguments):z;return Y*K},M,I)},p.scaleTo=function(S,z,M,I){p.transform(S,function(){var Y=t.apply(this,arguments),K=this.__zoom,j=M==null?C(Y):typeof M=="function"?M.apply(this,arguments):M,J=K.invert(j),ee=typeof z=="function"?z.apply(this,arguments):z;return n(E(g(K,ee),j,J),Y,a)},M,I)},p.translateBy=function(S,z,M,I){p.transform(S,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),a)},null,I)},p.translateTo=function(S,z,M,I,Y){p.transform(S,function(){var K=t.apply(this,arguments),j=this.__zoom,J=I==null?C(K):typeof I=="function"?I.apply(this,arguments):I;return n(br.translate(J[0],J[1]).scale(j.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof M=="function"?-M.apply(this,arguments):-M),K,a)},I,Y)};function g(S,z){return z=Math.max(i[0],Math.min(i[1],z)),z===S.k?S:new Oo(z,S.x,S.y)}function E(S,z,M){var I=z[0]-M[0]*S.k,Y=z[1]-M[1]*S.k;return I===S.x&&Y===S.y?S:new Oo(S.k,I,Y)}function C(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function T(S,z,M,I){S.on("start.zoom",function(){b(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(I).end()}).tween("zoom",function(){var Y=this,K=arguments,j=b(Y,K).event(I),J=t.apply(Y,K),ee=M==null?C(J):typeof M=="function"?M.apply(Y,K):M,Ce=Math.max(J[1][0]-J[0][0],J[1][1]-J[0][1]),ce=Y.__zoom,ve=typeof z=="function"?z.apply(Y,K):z,Me=u(ce.invert(ee).concat(Ce/ce.k),ve.invert(ee).concat(Ce/ve.k));return function(ne){if(ne===1)ne=ve;else{var se=Me(ne),X=Ce/se[2];ne=new Oo(X,ee[0]-se[0]*X,ee[1]-se[1]*X)}j.zoom(null,ne)}})}function b(S,z,M){return!M&&S.__zooming||new w(S,z)}function w(S,z){this.that=S,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,z),this.taps=0}w.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,z){return this.mouse&&S!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var z=ge(this.that).datum();s.call(S,this.that,new cp(S,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:s}),z)}};function O(S,...z){if(!e.apply(this,arguments))return;var M=b(this,z).event(S),I=this.__zoom,Y=Math.max(i[0],Math.min(i[1],I.k*Math.pow(2,r.apply(this,arguments)))),K=ht(S);if(M.wheel)(M.mouse[0][0]!==K[0]||M.mouse[0][1]!==K[1])&&(M.mouse[1]=I.invert(M.mouse[0]=K)),clearTimeout(M.wheel);else{if(I.k===Y)return;M.mouse=[K,I.invert(K)],pr(this),M.start()}ar(S),M.wheel=setTimeout(j,m),M.zoom("mouse",n(E(g(I,Y),M.mouse[0],M.mouse[1]),M.extent,a));function j(){M.wheel=null,M.end()}}function _(S,...z){if(c||!e.apply(this,arguments))return;var M=S.currentTarget,I=b(this,z,!0).event(S),Y=ge(S.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",Ce,!0),K=ht(S,M),j=S.clientX,J=S.clientY;ul(S.view),Bo(S),I.mouse=[K,this.__zoom.invert(K)],pr(this),I.start();function ee(ce){if(ar(ce),!I.moved){var ve=ce.clientX-j,Me=ce.clientY-J;I.moved=ve*ve+Me*Me>y}I.event(ce).zoom("mouse",n(E(I.that.__zoom,I.mouse[0]=ht(ce,M),I.mouse[1]),I.extent,a))}function Ce(ce){Y.on("mousemove.zoom mouseup.zoom",null),cl(ce.view,I.moved),ar(ce),I.event(ce).end()}}function $(S,...z){if(e.apply(this,arguments)){var M=this.__zoom,I=ht(S.changedTouches?S.changedTouches[0]:S,this),Y=M.invert(I),K=M.k*(S.shiftKey?.5:2),j=n(E(g(M,K),I,Y),t.apply(this,z),a);ar(S),l>0?ge(this).transition().duration(l).call(T,j,I,S):ge(this).call(p.transform,j,I,S)}}function R(S,...z){if(e.apply(this,arguments)){var M=S.touches,I=M.length,Y=b(this,z,S.changedTouches.length===I).event(S),K,j,J,ee;for(Bo(S),j=0;j<I;++j)J=M[j],ee=ht(J,this),ee=[ee,this.__zoom.invert(ee),J.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==ee[2]&&(Y.touch1=ee,Y.taps=0):(Y.touch0=ee,K=!0,Y.taps=1+!!d);d&&(d=clearTimeout(d)),K&&(Y.taps<2&&(f=ee[0],d=setTimeout(function(){d=null},h)),pr(this),Y.start())}}function B(S,...z){if(this.__zooming){var M=b(this,z).event(S),I=S.changedTouches,Y=I.length,K,j,J,ee;for(ar(S),K=0;K<Y;++K)j=I[K],J=ht(j,this),M.touch0&&M.touch0[2]===j.identifier?M.touch0[0]=J:M.touch1&&M.touch1[2]===j.identifier&&(M.touch1[0]=J);if(j=M.that.__zoom,M.touch1){var Ce=M.touch0[0],ce=M.touch0[1],ve=M.touch1[0],Me=M.touch1[1],ne=(ne=ve[0]-Ce[0])*ne+(ne=ve[1]-Ce[1])*ne,se=(se=Me[0]-ce[0])*se+(se=Me[1]-ce[1])*se;j=g(j,Math.sqrt(ne/se)),J=[(Ce[0]+ve[0])/2,(Ce[1]+ve[1])/2],ee=[(ce[0]+Me[0])/2,(ce[1]+Me[1])/2]}else if(M.touch0)J=M.touch0[0],ee=M.touch0[1];else return;M.zoom("touch",n(E(j,J,ee),M.extent,a))}}function V(S,...z){if(this.__zooming){var M=b(this,z).event(S),I=S.changedTouches,Y=I.length,K,j;for(Bo(S),c&&clearTimeout(c),c=setTimeout(function(){c=null},h),K=0;K<Y;++K)j=I[K],M.touch0&&M.touch0[2]===j.identifier?delete M.touch0:M.touch1&&M.touch1[2]===j.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(j=ht(j,this),Math.hypot(f[0]-j[0],f[1]-j[1])<v)){var J=ge(this).on("dblclick.zoom");J&&J.apply(this,arguments)}}}return p.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:Dr(+S),p):r},p.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Dr(!!S),p):e},p.touchable=function(S){return arguments.length?(o=typeof S=="function"?S:Dr(!!S),p):o},p.extent=function(S){return arguments.length?(t=typeof S=="function"?S:Dr([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),p):t},p.scaleExtent=function(S){return arguments.length?(i[0]=+S[0],i[1]=+S[1],p):[i[0],i[1]]},p.translateExtent=function(S){return arguments.length?(a[0][0]=+S[0][0],a[1][0]=+S[1][0],a[0][1]=+S[0][1],a[1][1]=+S[1][1],p):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},p.constrain=function(S){return arguments.length?(n=S,p):n},p.duration=function(S){return arguments.length?(l=+S,p):l},p.interpolate=function(S){return arguments.length?(u=S,p):u},p.on=function(){var S=s.on.apply(s,arguments);return S===s?p:S},p.clickDistance=function(S){return arguments.length?(y=(S=+S)*S,p):Math.sqrt(y)},p.tapDistance=function(S){return arguments.length?(v=+S,p):v},p}const co=e=>(Xn("data-v-0025b778"),e=e(),Zn(),e),mp={class:"tabs"},gp=["tab-id","onClick"],yp={class:"control-container"},bp={class:"button-label"},wp=co(()=>P("div",{class:"arrows"},[P("span",null,"  ")],-1)),_p=["onMouseover","onClick"],Tp={class:"title-row"},Sp={class:"title"},Ep=["onClick"],Cp={class:"detail-row"},Op={class:"time detail"},$p={class:"quality detail"},Mp={class:"keyword detail"},xp={class:"topic detail"},kp={key:0,class:"expanded-content"},Pp={class:"content-text"},Ip={key:1,class:"tab-contents"},Rp={key:0,class:"url-container"},Ap=["src"],Dp=co(()=>P("i",{class:"fa fa-sticky-note-o"},null,-1)),Fp=[Dp],Lp={class:"input-popup"},zp={class:"button-container"},Np=co(()=>P("i",{class:"fa fa-check"},null,-1)),Up=[Np],Bp=co(()=>P("i",{class:"fa fa-close"},null,-1)),Vp=[Bp],Hp={class:"item"},Wp={class:"title-row"},jp={class:"title"},Yp=["onClick"],Kp={class:"detail-row"},Gp={class:"detail-container"},qp={class:"detail"},Xp={class:"detail"},Zp=["onClick"],Qp={key:0,class:"expanded-content"},Jp=pe({__name:"TheResourceView",props:{data:{},searchQuery:{},timeGrainSelected:{},qualityThreshold:{},hoverPageID:{}},emits:["update:hoverPageID"],setup(e,{emit:t}){const n=L(null),r=e,o=t,i=w=>{o("update:hoverPageID",w)},a=L(parseFloat(getComputedStyle(document.documentElement).fontSize)),l=()=>{a.value=parseFloat(getComputedStyle(document.documentElement).fontSize)},u=L(!1),s=L(""),d=L(1),f=["","",""],c=L("time"),h=L(null),m=L([]),y=()=>{c.value=c.value==="time"?"quality":"time"},v=k(()=>r.data.map(w=>({...w,expanded:!1}))),p=k(()=>w=>r.searchQuery.length===0?!0:r.searchQuery.some(O=>O[0]==="#"?w.keywords.includes(O.slice(1)):w.title.includes(O))),g=L(c.value==="time"?ti(v.value.filter(p.value),(w,O)=>-w.date[0].getTime()+O.date[0].getTime()):ti(v.value.filter(p.value),(w,O)=>O.quality-w.quality));function E(w){h.value=w,d.value=2}const C=k(()=>({864e5:w=>`${w.getFullYear()}${w.getMonth()+1}${w.getDate()}`,2592e6:w=>`${w.getFullYear()}${w.getMonth()+1}`,31536e6:w=>`${w.getFullYear()}`})[r.timeGrainSelected]);function T(){const w=m.value.length===0?0:m.value[m.value.length-1].id+1;m.value.push({id:w,page:h.value,content:s.value,time:new Date().toLocaleString()}),u.value=!1,s.value=""}function b(w){w.expanded=!w.expanded,qe(()=>{})}return watch(()=>c.value,()=>{c.value==="time"?g.value.sort((w,O)=>-w.date[0].getTime()+O.date[0].getTime()):g.value.sort((w,O)=>O.quality-w.quality)}),watch(()=>[r.searchQuery,v.value],()=>{g.value=v.value.filter(p.value),c.value==="time"?g.value.sort((w,O)=>-w.date[0].getTime()+O.date[0].getTime()):g.value.sort((w,O)=>O.quality-w.quality),d.value=1}),Ne(()=>{window.addEventListener("resize",l)}),Xe(()=>{window.removeEventListener("resize",l)}),(w,O)=>{const _=Xt("RecycleScroller");return N(),G("div",{ref_key:"resourceView",ref:n,class:"resource-view",style:{position:"absolute"}},[P("div",mp,[(N(),G(De,null,He([1,2,3],$=>P("button",{key:$,class:oe(["tab-button",{active:d.value===$}]),"tab-id":$,onClick:R=>d.value=$},de(f[$-1]),11,gp)),64))]),We(P("div",yp,[P("div",{class:"control-button",onClick:y},[P("span",bp,de(c.value==="time"?"":""),1),wp])],512),[[sn,d.value===1]]),d.value===1?(N(),xe(x(qu),{key:0,items:g.value,class:"virtual-scroller","min-item-size":3.875*a.value},{default:ye(({item:$,index:R,active:B})=>[ke(x(Xu),{item:$,active:B,"size-dependencies":[$.expanded],"data-index":R,class:"item-wrapper"},{default:ye(()=>[P("div",{class:oe(["item",{highlighted:$.quality>r.qualityThreshold}]),onMouseover:V=>i($.id),onMouseleave:O[0]||(O[0]=V=>i(null)),onClick:V=>E($)},[P("div",Tp,[P("div",Sp,de($.title),1),P("div",{class:"arrow",onClick:Ge(V=>b($),["stop"])},[P("i",{class:oe($.expanded?"fa fa-angle-up":"fa fa-angle-down")},null,2)],8,Ep)]),P("div",Cp,[P("div",Op,de(":"+C.value($.date[0])),1),P("div",$p,de(":"+$.quality.toFixed(2)),1),P("div",Mp,de(":"+$.keywords.join(", ")),1),P("div",xp,de(":"+($.topic+1)),1)]),$.expanded?(N(),G("div",kp,[P("div",Pp,de($.intro),1)])):be("",!0)],42,_p)]),_:2},1032,["item","active","size-dependencies","data-index"])]),_:1},8,["items","min-item-size"])):d.value===2?(N(),G("div",Ip,[h.value?(N(),G("div",Rp,[P("iframe",{src:h.value.url,width:"100%",height:"100%"},null,8,Ap),P("button",{class:"floating-button button",onClick:O[1]||(O[1]=$=>u.value=!0)},Fp),We(P("div",Lp,[We(P("textarea",{"onUpdate:modelValue":O[2]||(O[2]=$=>s.value=$),class:"input-textarea",placeholder:"..."},null,512),[[jr,s.value]]),P("div",zp,[P("button",{class:"check-button button",onClick:T},Up),P("button",{class:"check-button button",onClick:O[3]||(O[3]=$=>u.value=!1)},Vp)])],512),[[sn,u.value]])])):be("",!0)])):d.value===3?(N(),xe(_,{items:m.value,"item-size":3.875*a.value,class:"virtual-scroller note-scroller","key-field":"id",key:m.value.length},{default:ye(({index:$,item:R})=>{var B,V;return[P("div",Hp,[P("div",Wp,[P("div",jp,de((B=R.page)==null?void 0:B.title),1),P("div",{class:"arrow",onClick:Ge(S=>b(R),["stop"])},[P("i",{class:oe(R.expanded?"fa fa-angle-up":"fa fa-angle-down")},null,2)],8,Yp)]),P("div",Kp,[P("div",Gp,[P("div",qp,de(": "+R.time),1),P("div",Xp,de(": "+((V=R.page)==null?void 0:V.topic)),1)]),P("div",{class:"detail delete-button",onClick:Ge(S=>m.value.splice($,1),["stop"])},de(""),8,Zp)]),R.expanded?(N(),G("div",Qp,de(R.content),1)):be("",!0)])]}),_:1},8,["items","item-size"])):be("",!0)],512)}}}),eh=Qn(Jp,[["__scopeId","data-v-0025b778"]]),th=e=>(Xn("data-v-719da6e8"),e=e(),Zn(),e),nh={key:0,class:"timeline-title-container-container"},rh={class:"timeline-title-container"},oh=th(()=>P("div",{class:"timeline-title-button"},null,-1)),ah={class:"timeline-title-text"},ih=["height"],sh=["width","height"],lh=["transform"],uh=["x2"],ch=["transform"],fh=["transform"],dh=["y2"],ph=["x","y","font-size"],hh=["x1","x2","y2"],vh=["width","height","onClick"],mh=["transform"],gh=["y2"],yh=["x","y","font-size"],bh=["x1","x2","y2"],wh=["width","height","onClick"],_h=["transform","onClick"],Th=["x1","x2","y2"],Sh=["x2"],Eh=["x","y"],Ch=["transform"],Oh=pe({__name:"BaseTimeline",props:{width:{},currentRange:{},selectRange:{},type:{default:"basic"},dynastyType:{default:"basic"},dynastyList:{default:()=>[]},eventList:{default:()=>[]},eraList:{default:()=>[]},enableBrush:{type:Boolean,default:!0},enableZoom:{type:Boolean,default:!0},timeGrain:{default:null},showTitle:{type:Boolean,default:!0},heightScale:{default:1}},emits:["update:currentRange","update:selectRange"],setup(e,{emit:t}){const n=e,r=t,o=H=>{r("update:currentRange",H)},i=H=>{(h.value.round(H[0]).getTime()!==n.selectRange[0].getTime()||h.value.round(H[1]).getTime()!==n.selectRange[1].getTime())&&r("update:selectRange",H)},a=L(parseFloat(getComputedStyle(document.documentElement).fontSize)),l=()=>{a.value=parseFloat(getComputedStyle(document.documentElement).fontSize)},u=n.currentRange,s={basic:[""],dynasty:["",""],event:["",""],"dynasty event":["","",""]},d={:"time-axis",:"dynasty-axes",:"event-axes"},f=k(()=>Object.fromEntries(Object.entries(s).map(([H,le])=>[H,Rc([0,...le.map($e=>$e===""&&n.dynastyType==="era"?$.value:_.value)])]))),c={864e5:H=>`${H.getFullYear()}${H.getMonth()+1}${H.getDate()}`,2592e6:H=>`${H.getFullYear()}${H.getMonth()+1}`,31536e6:H=>`${H.getFullYear()}`},h=k(()=>({864e5:vt,2592e6:Ft,31536e6:yt})[E.value]),m=Ft.every(6),y=Ft.every(3),v=Bn.every(2),p=Bn.every(1),g=new Date().getTimezoneOffset()*60*1e3,E=L(n.timeGrain??864e5),C=k(()=>n.timeGrain===null),T=L(5),b=L(1.25),w=L(.75),O=k(()=>Math.max(.4,Math.min(2,n.heightScale))),_=k(()=>O.value*3.125*a.value),$=k(()=>O.value*4.375*a.value),R=L(200),B=k(()=>f.value[n.type][f.value[n.type].length-1]),V=L(null),S=L(null),z=L(null),M=L(null),I=k(()=>c[E.value]),Y=k(()=>Q(n.currentRange,T.value)),K=to().domain([n.currentRange[0],n.currentRange[1]]).range([0,R.value]),j=k(()=>to().domain([n.currentRange[0],n.currentRange[1]]).range([0,R.value])),J=k(()=>qc(j.value).tickFormat(I.value).tickValues(Y.value).tickSize(.4375*O.value*a.value).tickPadding((1.125*O.value-.375)*a.value)),ee=cf().extent([[0,0],[R.value,B.value]]).on("start brush",H=>{var le;return(le=H.sourceEvent)==null?void 0:le.stopPropagation()}).on("end",fe),Ce=Ll().on("zoom",Le).filter(H=>H.type!=="dblclick").scaleExtent([.8,1/0]).translateExtent([[0,0],[R.value,0]]);let ce=null,ve=null;const Me=H=>f.value[n.type][H],ne=H=>j.value(H.end)-j.value(H.start),se=H=>ne(H)/2,X=k(()=>(n.dynastyType==="era"?.78125:1)*O.value*a.value),re=k(()=>2.84375*O.value*a.value),ae=k(()=>1.125*O.value*a.value),U=k(()=>.75*O.value*a.value),we=k(()=>1.125*Math.min(O.value,1)*a.value),me=k(()=>.75*Math.min(O.value,1)*a.value),Ae=k(()=>(ae.value-we.value)/2),Re=k(()=>(U.value-me.value)/2);function Q(H,le){const $e=H[1].getTime()-H[0].getTime();switch(E.value){case 31536e6:return en().domain([H[0].getFullYear(),H[1].getFullYear()+1]).ticks(le).map(D=>{const F=new Date(D,0,1);return F.setFullYear(D===0?1:D),F});case 2592e6:{const D=Math.floor($e/(le*2592e6));return D>4?m.range(m.floor(H[0]),H[1]):D>1?y.range(y.floor(H[0]),H[1]):Ft.range(Ft.floor(H[0]),H[1])}case 864e5:{const D=Math.floor($e/(le*864e5));return D>10?v.range(p.floor(H[0]),H[1]):D>4?p.range(p.floor(H[0]),H[1]):D>1?vt.range(vt.floor(H[0]),H[1]).filter(F=>(F.getTime()-g-(F.getTime()%1e5===0?0:-343e3))%(3*864e5)===0):vt.range(vt.floor(H[0]),H[1])}}}function fe(H){var $e;($e=H.sourceEvent)==null||$e.stopPropagation();const le=H.selection;i(le?[j.value.invert(le[0]),j.value.invert(le[1])].map(h.value.round):[...n.currentRange])}function Le(H){const le=H.transform;o([K.invert(le.invertX(0)),K.invert(le.invertX(R.value))])}function Te(H){const le=br.scale(R.value/(K(H[1])-K(H[0]))).translate(-K(H[0]),0);ge(S.value).call(Ce.transform,le)}function at(H,le){ge(M.value).call(ee.move,[j.value(H),j.value(le)])}function Kt(){if(!S.value)return;const H=S.value.querySelectorAll(".event-axis .tick-label");let le=-1/0;H.forEach($e=>{const D=$e.closest(".event-axis");if(!D)return;const{left:F,right:W}=$e.getBoundingClientRect();F<le?D.style.display="none":(D.style.display="",le=W)})}function Gt(H){const le=H[1].getTime()-H[0].getTime();switch(E.value){case 31536e6:le<T.value*w.value*2592e6?E.value=864e5:le<T.value*w.value*31536e6&&(E.value=2592e6);break;case 2592e6:le>T.value*b.value*31536e6?E.value=31536e6:le<T.value*w.value*2592e6&&(E.value=864e5);break;case 864e5:le>T.value*b.value*31536e6?E.value=31536e6:le>T.value*b.value*2592e6&&(E.value=2592e6);break}}return ie(()=>[J.value],()=>{ge(V.value).select(".time-axis .d3-axis").call(J.value),M.value&&ge(M.value).call(ee.move,[j.value(n.selectRange[0]),j.value(n.selectRange[1])])}),ie(()=>[n.type,n.dynastyType],()=>{qe(()=>{ge(V.value).select(".time-axis .d3-axis").call(J.value)})}),ie(()=>[B.value,R.value],()=>{M.value&&(ee.extent([[0,0],[R.value,_.value]]),ge(M.value).call(ee).call(ee.move,[j.value(n.selectRange[0]),j.value(n.selectRange[1])])),n.enableZoom&&(Ce.translateExtent([[0,0],[R.value,0]]),ge(z.value).call(Ce))}),ie(()=>n.timeGrain,()=>{n.timeGrain!==null&&(E.value=n.timeGrain)}),Ne(()=>{if(window.addEventListener("resize",l),ie(()=>C.value,H=>{H?ce=ie(()=>n.currentRange,Gt,{immediate:!0}):(ce==null||ce(),ce=null)},{immediate:!0}),ge(V.value).select(".time-axis .d3-axis").call(J.value),n.enableZoom&&ge(z.value).call(Ce),M.value){const H=ge(M.value);H.call(ee),H.on("dblclick.brush",null).on("wheel.brush",null)}ve=new ResizeObserver(H=>{const le=H[0].contentRect.width;R.value=le,K.range([0,le])}),ve.observe(V.value)}),nl(()=>{qe(Kt)}),Xe(()=>{window.removeEventListener("resize",l),ve==null||ve.disconnect()}),(H,le)=>(N(),G("div",{style:Fe({width:typeof H.width=="number"?`${H.width}px`:H.width}),class:"timeline-container"},[H.showTitle?(N(),G("div",nh,[Se(H.$slots,"extra-title",{},void 0,!0),P("div",rh,[(N(!0),G(De,null,He(s[H.type],($e,D)=>(N(),G("div",{key:D,style:Fe({height:($e===""&&H.dynastyType==="era"?$.value:_.value)+"px","min-height":($e===""&&H.dynastyType==="era"?$.value:_.value)+"px"}),class:"timeline-title"},[oh,P("div",ah,de($e),1)],4))),128))])])):be("",!0),P("div",{class:"timeline-svg-container",ref_key:"svgContainerRef",ref:z},[Se(H.$slots,"extra-axis",{svgWidth:R.value,xScale:j.value,currentGrain:E.value},void 0,!0),(N(),G("svg",{ref_key:"svgRef",ref:V,class:"timeline-svg",height:B.value},[P("g",{class:"container",ref_key:"containerRef",ref:S},[P("rect",{width:R.value,height:B.value,fill:"transparent",class:"background",onDblclick:le[0]||(le[0]=$e=>Te(x(u)))},null,40,sh),(N(!0),G(De,null,He(s[H.type],($e,D)=>(N(),G("g",{key:D,class:oe(["x-axis",d[$e]]),transform:`translate(0, ${Me(D)})`},[P("line",{x1:0,x2:R.value,y1:"0",y2:"0",class:"axis-line"},null,8,uh),$e===""?(N(),G("g",{key:0,class:"d3-axis",transform:`translate(0, ${_.value})`},null,8,ch)):$e===""?(N(),G(De,{key:1},[(N(!0),G(De,null,He(H.dynastyList,(F,W)=>(N(),G("g",{class:"dynasty-axis",key:W,transform:`translate(${j.value(F.start)}, ${X.value})`},[P("line",{x1:"0",x2:0,y1:"0",y2:ae.value,class:"split-line"},null,8,dh),P("text",{x:se(F),y:Ae.value,class:"axis-lable","font-size":we.value},de(F.label),9,ph),P("line",{x1:ne(F),x2:ne(F),y1:"0",y2:ae.value,class:"split-line"},null,8,hh),P("rect",{x:"0",y:"0",width:ne(F),height:ae.value,class:"click-layer",onClick:te=>at(F.start,F.end)},null,8,vh)],8,fh))),128)),H.dynastyType==="era"?(N(!0),G(De,{key:0},He(H.eraList,(F,W)=>(N(),G("g",{class:"era-axis",key:W,transform:`translate(${j.value(F.start)}, ${re.value})`},[P("line",{x1:"0",x2:0,y1:"0",y2:U.value,class:"split-line"},null,8,gh),We(P("text",{x:se(F),y:Re.value,"font-size":me.value,class:"axis-lable"},de(F.label),9,yh),[[sn,ne(F)>F.label.length*a.value]]),P("line",{x1:ne(F),x2:ne(F),y1:"0",y2:U.value,class:"split-line"},null,8,bh),P("rect",{x:"0",y:"0",width:ne(F),height:U.value,class:"click-layer",onClick:te=>at(F.start,F.end)},null,8,wh)],8,mh))),128)):be("",!0)],64)):$e===""?(N(!0),G(De,{key:2},He(H.eventList,(F,W)=>(N(),G("g",{class:"event-axis",key:W,transform:`translate(${j.value(F.start)}, 0)`,onClick:te=>at(F.start,F.end)},[P("line",{x1:se(F),x2:se(F),y1:"0",y2:.4375*O.value*a.value,class:"tick-line"},null,8,Th),P("line",{x1:"0",x2:ne(F),y1:"0",y2:"0",class:"tick-line"},null,8,Sh),P("text",{x:se(F),y:1.5625*O.value*a.value,class:"tick-label","dominant-baseline":"middle","text-anchor":"middle"},de(F.label),9,Eh)],8,_h))),128)):be("",!0)],10,lh))),128))],512),H.enableBrush?(N(),G("g",{key:0,class:"brush",ref_key:"brushLayerRef",ref:M,transform:`translate(0, ${Me(s[H.type].length-1)})`},null,8,Ch)):be("",!0)],8,ih))],512)],4))}}),Wi=Qn(Oh,[["__scopeId","data-v-719da6e8"]]),zl=e=>(Xn("data-v-4d4be991"),e=e(),Zn(),e),$h={class:"double-timeline-container"},Mh=zl(()=>P("div",{class:"timeline-title-warper"},[P("div",{class:"timeline-title"},[P("div",{class:"timeline-title-button"}),P("div",{class:"timeline-title-text"},de(""))]),P("div",{class:"timeline-subtitle"},de(""))],-1)),xh={class:"extra-axis-container"},kh=["height"],Ph=["d"],Ih=["d"],Rh=["width","height"],Ah=["x"],Dh=["x"],Fh=["x2"],Lh=zl(()=>P("div",{class:"timeline-title-warper"},[P("div",{class:"timeline-title"},[P("div",{class:"timeline-title-button"}),P("div",{class:"timeline-title-text"},de(""))])],-1)),zh={width:"100%",height:"5rem",class:"extra-axis-svg"},Nh=["d"],Uh=["transform"],Bh=["x2"],Vh=["x"],Hh=["x"],Wh=pe({__name:"NewNewTimelineView",props:{width:{},currentRange:{},selectRange:{},currentGrain:{},data:{},qualityThreshold:{},hoverPageId:{},topics:{},dynastyList:{default:()=>[]},eventList:{default:()=>[]},eraList:{default:()=>[]},autoGrain:{type:Boolean,default:!0}},emits:["update:currentRange","update:selectRange","update:currentGrain"],setup(e,{emit:t}){const n=e,r=t,o=L(parseFloat(getComputedStyle(document.documentElement).fontSize)),i=()=>{o.value=parseFloat(getComputedStyle(document.documentElement).fontSize)},a=L(31536e6),l=L(to()),u=L(to()),s=k(()=>({864e5:vt,2592e6:Ft,31536e6:yt})[a.value]),d=k(()=>n.data.map(_=>({..._,date:_.date.map(s.value.floor)}))),f=k(()=>{const[_,$]=hr(d.value.flatMap(R=>R.date)).map(R=>R.getTime());return[_,$]}),c=k(()=>{const _=ui(d.value.flatMap(R=>R.date).map(R=>R.getTime()),R=>R.length,R=>R),$=new Date(f.value[0]);return Array.from({length:Math.round((f.value[1]-f.value[0])/a.value)+1},(R,B)=>({time:s.value.offset($,B),count:_.get(s.value.offset($,B).getTime())||0})).map(R=>({time:s.value.round(new Date(R.time)),count:R.count}))}),h=k(()=>c.value.slice(Math.max(0,s.value.count(c.value[0].time,n.currentRange[0])),s.value.count(c.value[0].time,n.currentRange[1])+2)),m=k(()=>en().domain([0,Math.max(Wr(c.value,_=>_.count),1)]).range([5*o.value,0])),y=k(()=>m.value.ticks(4)),v=k(()=>Vi().x(_=>l.value(_.time)).y0(5*o.value).y1(_=>m.value(_.count))),p=k(()=>n.topics.map((_,$)=>{const R=new Date(f.value[0]),B=d.value.filter(z=>z.topic===$),V=ui(B.flatMap(z=>z.date.map(M=>({index:s.value.count(R,M),highlight:z.quality>n.qualityThreshold?[z.id]:[]}))),z=>({count:z.length,highlight:z.flatMap(M=>M.highlight)}),z=>z.index),S=Array.from({length:Math.round((f.value[1]-f.value[0])/a.value)+1},(z,M)=>{var I,Y;return{time:s.value.offset(R,M),count:((I=V.get(M))==null?void 0:I.count)??0,highlight:((Y=V.get(M))==null?void 0:Y.highlight)??[]}});return{topic:_,index:$,data:S,dataNum:B.length,highlightNum:B.filter(z=>z.quality>n.qualityThreshold).length}})),g=k(()=>p.value.map(_=>_.data.length?{..._,data:_.data.slice(Math.max(0,s.value.count(_.data[0].time,n.selectRange[0])),s.value.count(_.data[0].time,n.selectRange[1])+2)}:_)),E=k(()=>en().domain([0,Math.max(Wr(g.value.flatMap(_=>_.data),_=>_.count),1)]).range([13.75/3*o.value,0])),C=k(()=>Vi().x(_=>u.value(_.time)).y0(13.75/3*o.value).y1(_=>E.value(_.count))),T=k(()=>n.topics.map(_=>{if(_.topic!=null){const $=[...new Set(Object.values(_.topic))].sort((B,V)=>B-V),R=new Map;return $.forEach((B,V)=>R.set(B,V+1)),{name:_.name,topic:Object.entries(_.topic).map(B=>[B[0],R.get(B[1])])}}else return{name:_.name,topic:_.name.split(" ").reverse().map(($,R)=>[$,R+1])}}));function b(_){return a.value=_,n.autoGrain&&r("update:currentGrain",_),""}function w(_){return l.value=_,""}function O(_){return u.value=_,""}return Ne(()=>{window.addEventListener("resize",i),n.currentRange[0].getTime()===n.currentRange[1].getTime()&&r("update:currentRange",[new Date(f.value[0]),new Date(f.value[1])])}),Xe(()=>{window.removeEventListener("resize",i)}),(_,$)=>(N(),G("div",$h,[ke(Wi,{width:_.width,"current-range":_.selectRange,"select-range":[new Date,new Date],"enable-zoom":!1,"enable-brush":!1,"time-grain":_.autoGrain?null:_.currentGrain,"show-title":!1,"height-scale":.6,class:"topic-timeline"},{"extra-title":ye(()=>[Mh]),"extra-axis":ye(({svgWidth:R,xScale:B})=>[wr(de(O(B))+" ",1),P("div",xh,[(N(!0),G(De,null,He(g.value,(V,S)=>(N(),G("svg",{width:"100%",height:13.75/3*o.value,key:V.index,class:"extra-axis-svg"},[P("path",{d:C.value(V.data),fill:"#9A8F8E"},null,8,Ph),P("path",{d:C.value(V.data.map(z=>({time:z.time,count:z.highlight.length}))),fill:"#BEB7B6"},null,8,Ih),(N(),G("foreignObject",{x:"0",y:"0",width:10*o.value,height:27.5/9*o.value,class:"word-cloud-container"},[ke(x(Cc),{style:{height:"100%",width:"100%"},words:T.value[S].topic,"font-family":"SourceHanSansCN-Medium",color:"rgb(48,32,27,0.5)"},null,8,["words"])],8,Rh)),P("text",{x:R-.3125*o.value,y:"2.291667rem","text-anchor":"end","dominant-baseline":"baseline",class:"timeline-label-text"},de(""+(S+1)),9,Ah),P("text",{x:R-.3125*o.value,y:"2.291667rem","text-anchor":"end","dominant-baseline":"hanging",class:"timeline-label-text"},de(V.highlightNum+"/"+V.dataNum),9,Dh),P("line",{x1:"0",y1:"4.58333rem",x2:R,y2:"4.58333rem",class:"y-scale-line"},null,8,Fh)],8,kh))),128))])]),_:1},8,["width","current-range","select-range","time-grain"]),ke(Wi,{dynastyList:_.dynastyList,eraList:_.eraList,width:_.width,"event-list":_.eraList,"extra-axis-title":"","current-range":_.currentRange,"onUpdate:currentRange":$[0]||($[0]=R=>r("update:currentRange",R)),"select-range":_.selectRange,"onUpdate:selectRange":$[1]||($[1]=R=>r("update:selectRange",R)),type:"dynasty","dynasty-type":"era","show-title":!1,"height-scale":.8,"time-grain":_.autoGrain?null:_.currentGrain,class:"main-timeline"},{"extra-title":ye(()=>[Lh]),"extra-axis":ye(({svgWidth:R,xScale:B,currentGrain:V})=>[wr(de(b(V))+de(w(B))+" ",1),(N(),G("svg",zh,[P("path",{d:v.value(h.value),fill:"#9A8F8E"},null,8,Nh),(N(!0),G(De,null,He(y.value.slice(1),S=>(N(),G("g",{key:S,transform:`translate(0,${m.value(S)})`},[P("line",{x1:0,y1:0,x2:Math.max(R-2*o.value,0),y2:0,class:"y-scale-line"},null,8,Bh),P("text",{x:R,dx:"-0.25rem",y:"0","text-anchor":"end","dominant-baseline":"middle",class:"y-scale-text"},de(S),9,Vh)],8,Uh))),128)),P("text",{x:R,dx:"-0.25rem",y:"100%",dy:"-0.25rem","text-anchor":"end","dominant-baseline":"baseline",class:"y-scale-text"},de("(: )"),8,Hh)]))]),_:1},8,["dynastyList","eraList","width","event-list","current-range","select-range","time-grain"])]))}}),jh=Qn(Wh,[["__scopeId","data-v-4d4be991"]]),Vo="el",Yh="is-",pn=(e,t,n,r,o)=>{let i=`${e}-${t}`;return n&&(i+=`-${n}`),r&&(i+=`__${r}`),o&&(i+=`--${o}`),i},Kh=Symbol("namespaceContextKey"),xa=e=>{const t=ft()?Ie(Kh,L(Vo)):L(Vo);return k(()=>x(t)||Vo)},ot=(e,t)=>{const n=xa();return{namespace:n,b:(y="")=>pn(n.value,e,y,"",""),e:y=>y?pn(n.value,e,"",y,""):"",m:y=>y?pn(n.value,e,"","",y):"",be:(y,v)=>y&&v?pn(n.value,e,y,v,""):"",em:(y,v)=>y&&v?pn(n.value,e,"",y,v):"",bm:(y,v)=>y&&v?pn(n.value,e,y,"",v):"",bem:(y,v,p)=>y&&v&&p?pn(n.value,e,y,v,p):"",is:(y,...v)=>{const p=v.length>=1?v[0]:!0;return y&&p?`${Yh}${y}`:""},cssVar:y=>{const v={};for(const p in y)y[p]&&(v[`--${n.value}-${p}`]=y[p]);return v},cssVarName:y=>`--${n.value}-${y}`,cssVarBlock:y=>{const v={};for(const p in y)y[p]&&(v[`--${n.value}-${e}-${p}`]=y[p]);return v},cssVarBlockName:y=>`--${n.value}-${e}-${y}`}};var Nl=typeof global=="object"&&global&&global.Object===Object&&global,Gh=typeof self=="object"&&self&&self.Object===Object&&self,xt=Nl||Gh||Function("return this")(),$t=xt.Symbol,Ul=Object.prototype,qh=Ul.hasOwnProperty,Xh=Ul.toString,ir=$t?$t.toStringTag:void 0;function Zh(e){var t=qh.call(e,ir),n=e[ir];try{e[ir]=void 0;var r=!0}catch{}var o=Xh.call(e);return r&&(t?e[ir]=n:delete e[ir]),o}var Qh=Object.prototype,Jh=Qh.toString;function ev(e){return Jh.call(e)}var tv="[object Null]",nv="[object Undefined]",ji=$t?$t.toStringTag:void 0;function Jn(e){return e==null?e===void 0?nv:tv:ji&&ji in Object(e)?Zh(e):ev(e)}function Wn(e){return e!=null&&typeof e=="object"}var rv="[object Symbol]";function fo(e){return typeof e=="symbol"||Wn(e)&&Jn(e)==rv}function ov(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var bt=Array.isArray,Yi=$t?$t.prototype:void 0,Ki=Yi?Yi.toString:void 0;function Bl(e){if(typeof e=="string")return e;if(bt(e))return ov(e,Bl)+"";if(fo(e))return Ki?Ki.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var av=/\s/;function iv(e){for(var t=e.length;t--&&av.test(e.charAt(t)););return t}var sv=/^\s+/;function lv(e){return e&&e.slice(0,iv(e)+1).replace(sv,"")}function ln(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Gi=NaN,uv=/^[-+]0x[0-9a-f]+$/i,cv=/^0b[01]+$/i,fv=/^0o[0-7]+$/i,dv=parseInt;function qi(e){if(typeof e=="number")return e;if(fo(e))return Gi;if(ln(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ln(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lv(e);var n=cv.test(e);return n||fv.test(e)?dv(e.slice(2),n?2:8):uv.test(e)?Gi:+e}function Vl(e){return e}var pv="[object AsyncFunction]",hv="[object Function]",vv="[object GeneratorFunction]",mv="[object Proxy]";function Hl(e){if(!ln(e))return!1;var t=Jn(e);return t==hv||t==vv||t==pv||t==mv}var Ho=xt["__core-js_shared__"],Xi=function(){var e=/[^.]+$/.exec(Ho&&Ho.keys&&Ho.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gv(e){return!!Xi&&Xi in e}var yv=Function.prototype,bv=yv.toString;function _n(e){if(e!=null){try{return bv.call(e)}catch{}try{return e+""}catch{}}return""}var wv=/[\\^$.*+?()[\]{}|]/g,_v=/^\[object .+?Constructor\]$/,Tv=Function.prototype,Sv=Object.prototype,Ev=Tv.toString,Cv=Sv.hasOwnProperty,Ov=RegExp("^"+Ev.call(Cv).replace(wv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $v(e){if(!ln(e)||gv(e))return!1;var t=Hl(e)?Ov:_v;return t.test(_n(e))}function Mv(e,t){return e==null?void 0:e[t]}function Tn(e,t){var n=Mv(e,t);return $v(n)?n:void 0}var ca=Tn(xt,"WeakMap");function xv(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var kv=800,Pv=16,Iv=Date.now;function Rv(e){var t=0,n=0;return function(){var r=Iv(),o=Pv-(r-n);if(n=r,o>0){if(++t>=kv)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Av(e){return function(){return e}}var no=function(){try{var e=Tn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Dv=no?function(e,t){return no(e,"toString",{configurable:!0,enumerable:!1,value:Av(t),writable:!0})}:Vl,Fv=Rv(Dv);function Lv(e,t,n,r){e.length;for(var o=n+1;o--;)if(t(e[o],o,e))return o;return-1}var zv=9007199254740991,Nv=/^(?:0|[1-9]\d*)$/;function ka(e,t){var n=typeof e;return t=t??zv,!!t&&(n=="number"||n!="symbol"&&Nv.test(e))&&e>-1&&e%1==0&&e<t}function Uv(e,t,n){t=="__proto__"&&no?no(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Pa(e,t){return e===t||e!==e&&t!==t}var Bv=Object.prototype,Vv=Bv.hasOwnProperty;function Hv(e,t,n){var r=e[t];(!(Vv.call(e,t)&&Pa(r,n))||n===void 0&&!(t in e))&&Uv(e,t,n)}var Zi=Math.max;function Wv(e,t,n){return t=Zi(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Zi(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),xv(e,this,l)}}var jv=9007199254740991;function Ia(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jv}function Yv(e){return e!=null&&Ia(e.length)&&!Hl(e)}var Kv=Object.prototype;function Gv(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Kv;return e===n}function qv(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Xv="[object Arguments]";function Qi(e){return Wn(e)&&Jn(e)==Xv}var Wl=Object.prototype,Zv=Wl.hasOwnProperty,Qv=Wl.propertyIsEnumerable,Ra=Qi(function(){return arguments}())?Qi:function(e){return Wn(e)&&Zv.call(e,"callee")&&!Qv.call(e,"callee")};function Jv(){return!1}var jl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ji=jl&&typeof module=="object"&&module&&!module.nodeType&&module,em=Ji&&Ji.exports===jl,es=em?xt.Buffer:void 0,tm=es?es.isBuffer:void 0,fa=tm||Jv,nm="[object Arguments]",rm="[object Array]",om="[object Boolean]",am="[object Date]",im="[object Error]",sm="[object Function]",lm="[object Map]",um="[object Number]",cm="[object Object]",fm="[object RegExp]",dm="[object Set]",pm="[object String]",hm="[object WeakMap]",vm="[object ArrayBuffer]",mm="[object DataView]",gm="[object Float32Array]",ym="[object Float64Array]",bm="[object Int8Array]",wm="[object Int16Array]",_m="[object Int32Array]",Tm="[object Uint8Array]",Sm="[object Uint8ClampedArray]",Em="[object Uint16Array]",Cm="[object Uint32Array]",Pe={};Pe[gm]=Pe[ym]=Pe[bm]=Pe[wm]=Pe[_m]=Pe[Tm]=Pe[Sm]=Pe[Em]=Pe[Cm]=!0;Pe[nm]=Pe[rm]=Pe[vm]=Pe[om]=Pe[mm]=Pe[am]=Pe[im]=Pe[sm]=Pe[lm]=Pe[um]=Pe[cm]=Pe[fm]=Pe[dm]=Pe[pm]=Pe[hm]=!1;function Om(e){return Wn(e)&&Ia(e.length)&&!!Pe[Jn(e)]}function $m(e){return function(t){return e(t)}}var Yl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vr=Yl&&typeof module=="object"&&module&&!module.nodeType&&module,Mm=vr&&vr.exports===Yl,Wo=Mm&&Nl.process,ts=function(){try{var e=vr&&vr.require&&vr.require("util").types;return e||Wo&&Wo.binding&&Wo.binding("util")}catch{}}(),ns=ts&&ts.isTypedArray,Kl=ns?$m(ns):Om,xm=Object.prototype,km=xm.hasOwnProperty;function Pm(e,t){var n=bt(e),r=!n&&Ra(e),o=!n&&!r&&fa(e),i=!n&&!r&&!o&&Kl(e),a=n||r||o||i,l=a?qv(e.length,String):[],u=l.length;for(var s in e)km.call(e,s)&&!(a&&(s=="length"||o&&(s=="offset"||s=="parent")||i&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||ka(s,u)))&&l.push(s);return l}function Im(e,t){return function(n){return e(t(n))}}var Rm=Im(Object.keys,Object),Am=Object.prototype,Dm=Am.hasOwnProperty;function Fm(e){if(!Gv(e))return Rm(e);var t=[];for(var n in Object(e))Dm.call(e,n)&&n!="constructor"&&t.push(n);return t}function Gl(e){return Yv(e)?Pm(e):Fm(e)}var Lm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zm=/^\w*$/;function Aa(e,t){if(bt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||fo(e)?!0:zm.test(e)||!Lm.test(e)||t!=null&&e in Object(t)}var Sr=Tn(Object,"create");function Nm(){this.__data__=Sr?Sr(null):{},this.size=0}function Um(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Bm="__lodash_hash_undefined__",Vm=Object.prototype,Hm=Vm.hasOwnProperty;function Wm(e){var t=this.__data__;if(Sr){var n=t[e];return n===Bm?void 0:n}return Hm.call(t,e)?t[e]:void 0}var jm=Object.prototype,Ym=jm.hasOwnProperty;function Km(e){var t=this.__data__;return Sr?t[e]!==void 0:Ym.call(t,e)}var Gm="__lodash_hash_undefined__";function qm(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Sr&&t===void 0?Gm:t,this}function yn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yn.prototype.clear=Nm;yn.prototype.delete=Um;yn.prototype.get=Wm;yn.prototype.has=Km;yn.prototype.set=qm;function Xm(){this.__data__=[],this.size=0}function po(e,t){for(var n=e.length;n--;)if(Pa(e[n][0],t))return n;return-1}var Zm=Array.prototype,Qm=Zm.splice;function Jm(e){var t=this.__data__,n=po(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Qm.call(t,n,1),--this.size,!0}function eg(e){var t=this.__data__,n=po(t,e);return n<0?void 0:t[n][1]}function tg(e){return po(this.__data__,e)>-1}function ng(e,t){var n=this.__data__,r=po(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function jt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jt.prototype.clear=Xm;jt.prototype.delete=Jm;jt.prototype.get=eg;jt.prototype.has=tg;jt.prototype.set=ng;var Er=Tn(xt,"Map");function rg(){this.size=0,this.__data__={hash:new yn,map:new(Er||jt),string:new yn}}function og(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ho(e,t){var n=e.__data__;return og(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ag(e){var t=ho(this,e).delete(e);return this.size-=t?1:0,t}function ig(e){return ho(this,e).get(e)}function sg(e){return ho(this,e).has(e)}function lg(e,t){var n=ho(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Yt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yt.prototype.clear=rg;Yt.prototype.delete=ag;Yt.prototype.get=ig;Yt.prototype.has=sg;Yt.prototype.set=lg;var ug="Expected a function";function Da(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ug);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Da.Cache||Yt),n}Da.Cache=Yt;var cg=500;function fg(e){var t=Da(e,function(r){return n.size===cg&&n.clear(),r}),n=t.cache;return t}var dg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pg=/\\(\\)?/g,hg=fg(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(dg,function(n,r,o,i){t.push(o?i.replace(pg,"$1"):r||n)}),t});function vg(e){return e==null?"":Bl(e)}function vo(e,t){return bt(e)?e:Aa(e,t)?[e]:hg(vg(e))}function $r(e){if(typeof e=="string"||fo(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Fa(e,t){t=vo(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[$r(t[n++])];return n&&n==r?e:void 0}function on(e,t,n){var r=e==null?void 0:Fa(e,t);return r===void 0?n:r}function ql(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var rs=$t?$t.isConcatSpreadable:void 0;function mg(e){return bt(e)||Ra(e)||!!(rs&&e&&e[rs])}function gg(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=mg),o||(o=[]);++i<a;){var l=e[i];n(l)?ql(o,l):o[o.length]=l}return o}function yg(e){var t=e==null?0:e.length;return t?gg(e):[]}function bg(e){return Fv(Wv(e,void 0,yg),e+"")}function tn(){if(!arguments.length)return[];var e=arguments[0];return bt(e)?e:[e]}function wg(){this.__data__=new jt,this.size=0}function _g(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Tg(e){return this.__data__.get(e)}function Sg(e){return this.__data__.has(e)}var Eg=200;function Cg(e,t){var n=this.__data__;if(n instanceof jt){var r=n.__data__;if(!Er||r.length<Eg-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yt(r)}return n.set(e,t),this.size=n.size,this}function Ut(e){var t=this.__data__=new jt(e);this.size=t.size}Ut.prototype.clear=wg;Ut.prototype.delete=_g;Ut.prototype.get=Tg;Ut.prototype.has=Sg;Ut.prototype.set=Cg;function Og(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function $g(){return[]}var Mg=Object.prototype,xg=Mg.propertyIsEnumerable,os=Object.getOwnPropertySymbols,kg=os?function(e){return e==null?[]:(e=Object(e),Og(os(e),function(t){return xg.call(e,t)}))}:$g;function Pg(e,t,n){var r=t(e);return bt(e)?r:ql(r,n(e))}function as(e){return Pg(e,Gl,kg)}var da=Tn(xt,"DataView"),pa=Tn(xt,"Promise"),ha=Tn(xt,"Set"),is="[object Map]",Ig="[object Object]",ss="[object Promise]",ls="[object Set]",us="[object WeakMap]",cs="[object DataView]",Rg=_n(da),Ag=_n(Er),Dg=_n(pa),Fg=_n(ha),Lg=_n(ca),Jt=Jn;(da&&Jt(new da(new ArrayBuffer(1)))!=cs||Er&&Jt(new Er)!=is||pa&&Jt(pa.resolve())!=ss||ha&&Jt(new ha)!=ls||ca&&Jt(new ca)!=us)&&(Jt=function(e){var t=Jn(e),n=t==Ig?e.constructor:void 0,r=n?_n(n):"";if(r)switch(r){case Rg:return cs;case Ag:return is;case Dg:return ss;case Fg:return ls;case Lg:return us}return t});var fs=xt.Uint8Array,zg="__lodash_hash_undefined__";function Ng(e){return this.__data__.set(e,zg),this}function Ug(e){return this.__data__.has(e)}function ro(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Yt;++t<n;)this.add(e[t])}ro.prototype.add=ro.prototype.push=Ng;ro.prototype.has=Ug;function Bg(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Vg(e,t){return e.has(t)}var Hg=1,Wg=2;function Xl(e,t,n,r,o,i){var a=n&Hg,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var s=i.get(e),d=i.get(t);if(s&&d)return s==t&&d==e;var f=-1,c=!0,h=n&Wg?new ro:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var m=e[f],y=t[f];if(r)var v=a?r(y,m,f,t,e,i):r(m,y,f,e,t,i);if(v!==void 0){if(v)continue;c=!1;break}if(h){if(!Bg(t,function(p,g){if(!Vg(h,g)&&(m===p||o(m,p,n,r,i)))return h.push(g)})){c=!1;break}}else if(!(m===y||o(m,y,n,r,i))){c=!1;break}}return i.delete(e),i.delete(t),c}function jg(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function Yg(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Kg=1,Gg=2,qg="[object Boolean]",Xg="[object Date]",Zg="[object Error]",Qg="[object Map]",Jg="[object Number]",e0="[object RegExp]",t0="[object Set]",n0="[object String]",r0="[object Symbol]",o0="[object ArrayBuffer]",a0="[object DataView]",ds=$t?$t.prototype:void 0,jo=ds?ds.valueOf:void 0;function i0(e,t,n,r,o,i,a){switch(n){case a0:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case o0:return!(e.byteLength!=t.byteLength||!i(new fs(e),new fs(t)));case qg:case Xg:case Jg:return Pa(+e,+t);case Zg:return e.name==t.name&&e.message==t.message;case e0:case n0:return e==t+"";case Qg:var l=jg;case t0:var u=r&Kg;if(l||(l=Yg),e.size!=t.size&&!u)return!1;var s=a.get(e);if(s)return s==t;r|=Gg,a.set(e,t);var d=Xl(l(e),l(t),r,o,i,a);return a.delete(e),d;case r0:if(jo)return jo.call(e)==jo.call(t)}return!1}var s0=1,l0=Object.prototype,u0=l0.hasOwnProperty;function c0(e,t,n,r,o,i){var a=n&s0,l=as(e),u=l.length,s=as(t),d=s.length;if(u!=d&&!a)return!1;for(var f=u;f--;){var c=l[f];if(!(a?c in t:u0.call(t,c)))return!1}var h=i.get(e),m=i.get(t);if(h&&m)return h==t&&m==e;var y=!0;i.set(e,t),i.set(t,e);for(var v=a;++f<u;){c=l[f];var p=e[c],g=t[c];if(r)var E=a?r(g,p,c,t,e,i):r(p,g,c,e,t,i);if(!(E===void 0?p===g||o(p,g,n,r,i):E)){y=!1;break}v||(v=c=="constructor")}if(y&&!v){var C=e.constructor,T=t.constructor;C!=T&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof T=="function"&&T instanceof T)&&(y=!1)}return i.delete(e),i.delete(t),y}var f0=1,ps="[object Arguments]",hs="[object Array]",Fr="[object Object]",d0=Object.prototype,vs=d0.hasOwnProperty;function p0(e,t,n,r,o,i){var a=bt(e),l=bt(t),u=a?hs:Jt(e),s=l?hs:Jt(t);u=u==ps?Fr:u,s=s==ps?Fr:s;var d=u==Fr,f=s==Fr,c=u==s;if(c&&fa(e)){if(!fa(t))return!1;a=!0,d=!1}if(c&&!d)return i||(i=new Ut),a||Kl(e)?Xl(e,t,n,r,o,i):i0(e,t,u,n,r,o,i);if(!(n&f0)){var h=d&&vs.call(e,"__wrapped__"),m=f&&vs.call(t,"__wrapped__");if(h||m){var y=h?e.value():e,v=m?t.value():t;return i||(i=new Ut),o(y,v,n,r,i)}}return c?(i||(i=new Ut),c0(e,t,n,r,o,i)):!1}function mo(e,t,n,r,o){return e===t?!0:e==null||t==null||!Wn(e)&&!Wn(t)?e!==e&&t!==t:p0(e,t,n,r,mo,o)}var h0=1,v0=2;function m0(e,t,n,r){var o=n.length,i=o;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var l=a[0],u=e[l],s=a[1];if(a[2]){if(u===void 0&&!(l in e))return!1}else{var d=new Ut,f;if(!(f===void 0?mo(s,u,h0|v0,r,d):f))return!1}}return!0}function Zl(e){return e===e&&!ln(e)}function g0(e){for(var t=Gl(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Zl(o)]}return t}function Ql(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function y0(e){var t=g0(e);return t.length==1&&t[0][2]?Ql(t[0][0],t[0][1]):function(n){return n===e||m0(n,e,t)}}function b0(e,t){return e!=null&&t in Object(e)}function w0(e,t,n){t=vo(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=$r(t[r]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&Ia(o)&&ka(a,o)&&(bt(e)||Ra(e)))}function Jl(e,t){return e!=null&&w0(e,t,b0)}var _0=1,T0=2;function S0(e,t){return Aa(e)&&Zl(t)?Ql($r(e),t):function(n){var r=on(n,e);return r===void 0&&r===t?Jl(n,e):mo(t,r,_0|T0)}}function E0(e){return function(t){return t==null?void 0:t[e]}}function C0(e){return function(t){return Fa(t,e)}}function O0(e){return Aa(e)?E0($r(e)):C0(e)}function $0(e){return typeof e=="function"?e:e==null?Vl:typeof e=="object"?bt(e)?S0(e[0],e[1]):y0(e):O0(e)}var Yo=function(){return xt.Date.now()},M0="Expected a function",x0=Math.max,k0=Math.min;function P0(e,t,n){var r,o,i,a,l,u,s=0,d=!1,f=!1,c=!0;if(typeof e!="function")throw new TypeError(M0);t=qi(t)||0,ln(n)&&(d=!!n.leading,f="maxWait"in n,i=f?x0(qi(n.maxWait)||0,t):i,c="trailing"in n?!!n.trailing:c);function h(b){var w=r,O=o;return r=o=void 0,s=b,a=e.apply(O,w),a}function m(b){return s=b,l=setTimeout(p,t),d?h(b):a}function y(b){var w=b-u,O=b-s,_=t-w;return f?k0(_,i-O):_}function v(b){var w=b-u,O=b-s;return u===void 0||w>=t||w<0||f&&O>=i}function p(){var b=Yo();if(v(b))return g(b);l=setTimeout(p,y(b))}function g(b){return l=void 0,c&&r?h(b):(r=o=void 0,a)}function E(){l!==void 0&&clearTimeout(l),s=0,r=u=o=l=void 0}function C(){return l===void 0?a:g(Yo())}function T(){var b=Yo(),w=v(b);if(r=arguments,o=this,u=b,w){if(l===void 0)return m(u);if(f)return clearTimeout(l),l=setTimeout(p,t),h(u)}return l===void 0&&(l=setTimeout(p,t)),a}return T.cancel=E,T.flush=C,T}function I0(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r-1;return Lv(e,$0(t),o)}function va(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function mr(e,t){return mo(e,t)}function La(e){return e==null}function R0(e){return e===void 0}function A0(e,t,n,r){if(!ln(e))return e;t=vo(t,e);for(var o=-1,i=t.length,a=i-1,l=e;l!=null&&++o<i;){var u=$r(t[o]),s=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(o!=a){var d=l[u];s=void 0,s===void 0&&(s=ln(d)?d:ka(t[o+1])?[]:{})}Hv(l,u,s),l=l[u]}return e}function D0(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=Fa(e,a);n(l,a)&&A0(i,vo(a,e),l)}return i}function F0(e,t){return D0(e,t,function(n,r){return Jl(e,r)})}var L0=bg(function(e,t){return e==null?{}:F0(e,t)});const dr=e=>e===void 0,eu=e=>typeof e=="boolean",gt=e=>typeof e=="number",an=e=>typeof Element>"u"?!1:e instanceof Element,z0=e=>io(e)?!Number.isNaN(Number(e)):!1;var N0=Object.defineProperty,U0=Object.defineProperties,B0=Object.getOwnPropertyDescriptors,ms=Object.getOwnPropertySymbols,V0=Object.prototype.hasOwnProperty,H0=Object.prototype.propertyIsEnumerable,gs=(e,t,n)=>t in e?N0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W0=(e,t)=>{for(var n in t||(t={}))V0.call(t,n)&&gs(e,n,t[n]);if(ms)for(var n of ms(t))H0.call(t,n)&&gs(e,n,t[n]);return e},j0=(e,t)=>U0(e,B0(t));function Y0(e,t){var n;const r=so();return rl(()=>{r.value=e()},j0(W0({},t),{flush:(n=void 0)!=null?n:"sync"})),ol(r)}var ys;const tt=typeof window<"u",K0=e=>typeof e=="string",tu=()=>{},ma=tt&&((ys=window==null?void 0:window.navigator)==null?void 0:ys.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function nu(e){return typeof e=="function"?e():x(e)}function G0(e){return e}function go(e){return Zu()?(Qu(e),!0):!1}function q0(e,t=!0){ft()?Ne(e):t?e():qe(e)}function Nt(e){var t;const n=nu(e);return(t=n==null?void 0:n.$el)!=null?t:n}const yo=tt?window:void 0;function Bt(...e){let t,n,r,o;if(K0(e[0])||Array.isArray(e[0])?([n,r,o]=e,t=yo):[t,n,r,o]=e,!t)return tu;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],a=()=>{i.forEach(d=>d()),i.length=0},l=(d,f,c,h)=>(d.addEventListener(f,c,h),()=>d.removeEventListener(f,c,h)),u=ie(()=>[Nt(t),nu(o)],([d,f])=>{a(),d&&i.push(...n.flatMap(c=>r.map(h=>l(d,c,h,f))))},{immediate:!0,flush:"post"}),s=()=>{u(),a()};return go(s),s}let bs=!1;function X0(e,t,n={}){const{window:r=yo,ignore:o=[],capture:i=!0,detectIframe:a=!1}=n;if(!r)return;ma&&!bs&&(bs=!0,Array.from(r.document.body.children).forEach(c=>c.addEventListener("click",tu)));let l=!0;const u=c=>o.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(m=>m===c.target||c.composedPath().includes(m));{const m=Nt(h);return m&&(c.target===m||c.composedPath().includes(m))}}),d=[Bt(r,"click",c=>{const h=Nt(e);if(!(!h||h===c.target||c.composedPath().includes(h))){if(c.detail===0&&(l=!u(c)),!l){l=!0;return}t(c)}},{passive:!0,capture:i}),Bt(r,"pointerdown",c=>{const h=Nt(e);h&&(l=!c.composedPath().includes(h)&&!u(c))},{passive:!0}),a&&Bt(r,"blur",c=>{var h;const m=Nt(e);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(m!=null&&m.contains(r.document.activeElement))&&t(c)})].filter(Boolean);return()=>d.forEach(c=>c())}function ru(e,t=!1){const n=L(),r=()=>n.value=!!e();return r(),q0(r,t),n}const ws=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_s="__vueuse_ssr_handlers__";ws[_s]=ws[_s]||{};var Ts=Object.getOwnPropertySymbols,Z0=Object.prototype.hasOwnProperty,Q0=Object.prototype.propertyIsEnumerable,J0=(e,t)=>{var n={};for(var r in e)Z0.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ts)for(var r of Ts(e))t.indexOf(r)<0&&Q0.call(e,r)&&(n[r]=e[r]);return n};function nn(e,t,n={}){const r=n,{window:o=yo}=r,i=J0(r,["window"]);let a;const l=ru(()=>o&&"ResizeObserver"in o),u=()=>{a&&(a.disconnect(),a=void 0)},s=ie(()=>Nt(e),f=>{u(),l.value&&o&&f&&(a=new ResizeObserver(t),a.observe(f,i))},{immediate:!0,flush:"post"}),d=()=>{u(),s()};return go(d),{isSupported:l,stop:d}}var Ss=Object.getOwnPropertySymbols,ey=Object.prototype.hasOwnProperty,ty=Object.prototype.propertyIsEnumerable,ny=(e,t)=>{var n={};for(var r in e)ey.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ss)for(var r of Ss(e))t.indexOf(r)<0&&ty.call(e,r)&&(n[r]=e[r]);return n};function ry(e,t,n={}){const r=n,{window:o=yo}=r,i=ny(r,["window"]);let a;const l=ru(()=>o&&"MutationObserver"in o),u=()=>{a&&(a.disconnect(),a=void 0)},s=ie(()=>Nt(e),f=>{u(),l.value&&o&&f&&(a=new MutationObserver(t),a.observe(f,i))},{immediate:!0}),d=()=>{u(),s()};return go(d),{isSupported:l,stop:d}}var Es;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Es||(Es={}));var oy=Object.defineProperty,Cs=Object.getOwnPropertySymbols,ay=Object.prototype.hasOwnProperty,iy=Object.prototype.propertyIsEnumerable,Os=(e,t,n)=>t in e?oy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sy=(e,t)=>{for(var n in t||(t={}))ay.call(t,n)&&Os(e,n,t[n]);if(Cs)for(var n of Cs(t))iy.call(t,n)&&Os(e,n,t[n]);return e};const ly={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};sy({linear:G0},ly);class uy extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function cy(e,t){throw new uy(`[${e}] ${t}`)}const $s={current:0},Ms=L(0),fy=2e3,xs=Symbol("elZIndexContextKey"),dy=Symbol("zIndexContextKey"),py=e=>{const t=ft()?Ie(xs,$s):$s,n=ft()?Ie(dy,void 0):void 0,r=k(()=>{const a=x(n);return gt(a)?a:fy}),o=k(()=>r.value+Ms.value),i=()=>(t.current++,Ms.value=t.current,o.value);return!tt&&Ie(xs),{initialZIndex:r,currentZIndex:o,nextZIndex:i}};var hy={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const vy=e=>(t,n)=>my(t,n,x(e)),my=(e,t,n)=>on(n,e,e).replace(/\{(\w+)\}/g,(r,o)=>{var i;return`${(i=t==null?void 0:t[o])!=null?i:`{${o}}`}`}),gy=e=>{const t=k(()=>x(e).name),n=Ju(e)?e:L(e);return{lang:t,locale:n,t:vy(e)}},yy=Symbol("localeContextKey"),by=e=>{const t=Ie(yy,L());return gy(k(()=>t.value||hy))},ou="__epPropKey",Ee=e=>e,wy=e=>Et(e)&&!!e[ou],bo=(e,t)=>{if(!Et(e)||wy(e))return e;const{values:n,required:r,default:o,type:i,validator:a}=e,u={type:i,required:!!r,validator:n||a?s=>{let d=!1,f=[];if(n&&(f=Array.from(n),ni(e,"default")&&f.push(o),d||(d=f.includes(s))),a&&(d||(d=a(s))),!d&&f.length>0){const c=[...new Set(f)].map(h=>JSON.stringify(h)).join(", ");ec(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${c}], got value ${JSON.stringify(s)}.`)}return d}:void 0,[ou]:!0};return ni(e,"default")&&(u.default=o),u},Ye=e=>va(Object.entries(e).map(([t,n])=>[t,bo(n,t)])),au=["","default","small","large"],_y=bo({type:String,values:au,required:!1}),Ty=Symbol("size"),Sy=()=>{const e=Ie(Ty,{});return k(()=>x(e.size)||"")},Ey=Symbol("emptyValuesContextKey"),Cy=["",void 0,null],Oy=void 0,$y=Ye({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>et(e)?!e():!e}}),My=(e,t)=>{const n=ft()?Ie(Ey,L({})):L({}),r=k(()=>e.emptyValues||n.value.emptyValues||Cy),o=k(()=>et(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:et(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:Oy),i=a=>r.value.includes(a);return r.value.includes(o.value),{emptyValues:r,valueOnClear:o,isEmptyValue:i}},Rn="update:modelValue",iu="change";var Ke=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};function ga(e,t="px"){if(!e)return"";if(gt(e)||z0(e))return`${e}${t}`;if(io(e))return e}function xy(e,t){if(!tt)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const o=t.offsetTop+n.reduce((u,s)=>u+s.offsetTop,0),i=o+t.offsetHeight,a=e.scrollTop,l=a+e.clientHeight;o<a?e.scrollTop=o:i>l&&(e.scrollTop=i-e.clientHeight)}const Sn=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},su=e=>(e.install=Yr,e),ky=Ye({size:{type:Ee([Number,String])},color:{type:String}}),Py=pe({name:"ElIcon",inheritAttrs:!1}),Iy=pe({...Py,props:ky,setup(e){const t=e,n=ot("icon"),r=k(()=>{const{size:o,color:i}=t;return!o&&!i?{}:{fontSize:dr(o)?void 0:ga(o),"--color":i}});return(o,i)=>(N(),G("i",lo({class:x(n).b(),style:x(r)},o.$attrs),[Se(o.$slots,"default")],16))}});var Ry=Ke(Iy,[["__file","icon.vue"]]);const ya=Sn(Ry);/*! Element Plus Icons Vue v2.3.1 */var Ay=pe({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(N(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Dy=Ay,Fy=pe({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(N(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),P("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Ly=Fy,zy=pe({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(N(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),P("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),lu=zy,Ny=pe({name:"Close",__name:"close",setup(e){return(t,n)=>(N(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),ks=Ny,Uy=pe({name:"Loading",__name:"loading",setup(e){return(t,n)=>(N(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[P("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),By=Uy;const Ps=Ee([String,Object,Function]),Vy={validating:By,success:Ly,error:lu},Hy=Ye({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),wo=e=>L0(Hy,e),uu=Symbol("formContextKey"),oo=Symbol("formItemContextKey"),Is={prefix:Math.floor(Math.random()*1e4),current:0},Wy=Symbol("elIdInjection"),cu=()=>ft()?Ie(Wy,Is):Is,_o=e=>{const t=cu(),n=xa();return Y0(()=>x(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},jy=()=>{const e=Ie(uu,void 0),t=Ie(oo,void 0);return{form:e,formItem:t}},Yy=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=L(!1)),r||(r=L(!1));const o=L();let i;const a=k(()=>{var l;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((l=t.inputIds)==null?void 0:l.length)<=1)});return Ne(()=>{i=ie([rn(e,"id"),n],([l,u])=>{const s=l??(u?void 0:_o().value);s!==o.value&&(t!=null&&t.removeInputId&&(o.value&&t.removeInputId(o.value),!(r!=null&&r.value)&&!u&&s&&t.addInputId(s)),o.value=s)},{immediate:!0})}),tc(()=>{i&&i(),t!=null&&t.removeInputId&&o.value&&t.removeInputId(o.value)}),{isLabeledByFormItem:a,inputId:o}},Ky=e=>{const t=ft();return k(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},fu=(e,t={})=>{const n=L(void 0),r=t.prop?n:Ky("size"),o=t.global?n:Sy(),i=t.form?{size:void 0}:Ie(uu,void 0),a=t.formItem?{size:void 0}:Ie(oo,void 0);return k(()=>r.value||x(e)||(a==null?void 0:a.size)||(i==null?void 0:i.size)||o.value||"")};function Gy(e,{beforeFocus:t,afterFocus:n,beforeBlur:r,afterBlur:o}={}){const i=ft(),{emit:a}=i,l=so(),u=L(!1),s=c=>{et(t)&&t(c)||u.value||(u.value=!0,a("focus",c),n==null||n())},d=c=>{var h;et(r)&&r(c)||c.relatedTarget&&((h=l.value)!=null&&h.contains(c.relatedTarget))||(u.value=!1,a("blur",c),o==null||o())},f=()=>{var c,h;(c=l.value)!=null&&c.contains(document.activeElement)&&l.value!==document.activeElement||(h=e.value)==null||h.focus()};return ie(l,c=>{c&&c.setAttribute("tabindex","-1")}),Bt(l,"focus",s,!0),Bt(l,"blur",d,!0),Bt(l,"click",f,!0),{isFocused:u,wrapperRef:l,handleFocus:s,handleBlur:d}}const qy=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function Xy({afterComposition:e,emit:t}){const n=L(!1),r=l=>{t==null||t("compositionstart",l),n.value=!0},o=l=>{var u;t==null||t("compositionupdate",l);const s=(u=l.target)==null?void 0:u.value,d=s[s.length-1]||"";n.value=!qy(d)},i=l=>{t==null||t("compositionend",l),n.value&&(n.value=!1,qe(()=>e(l)))};return{isComposing:n,handleComposition:l=>{l.type==="compositionend"?i(l):o(l)},handleCompositionStart:r,handleCompositionUpdate:o,handleCompositionEnd:i}}const kn=4,Zy={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Qy=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),za=Symbol("scrollbarContextKey"),Jy=Ye({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),e1="Thumb",t1=pe({__name:"thumb",props:Jy,setup(e){const t=e,n=Ie(za),r=ot("scrollbar");n||cy(e1,"can not inject scrollbar context");const o=L(),i=L(),a=L({}),l=L(!1);let u=!1,s=!1,d=tt?document.onselectstart:null;const f=k(()=>Zy[t.vertical?"vertical":"horizontal"]),c=k(()=>Qy({size:t.size,move:t.move,bar:f.value})),h=k(()=>o.value[f.value.offset]**2/n.wrapElement[f.value.scrollSize]/t.ratio/i.value[f.value.offset]),m=b=>{var w;if(b.stopPropagation(),b.ctrlKey||[1,2].includes(b.button))return;(w=window.getSelection())==null||w.removeAllRanges(),v(b);const O=b.currentTarget;O&&(a.value[f.value.axis]=O[f.value.offset]-(b[f.value.client]-O.getBoundingClientRect()[f.value.direction]))},y=b=>{if(!i.value||!o.value||!n.wrapElement)return;const w=Math.abs(b.target.getBoundingClientRect()[f.value.direction]-b[f.value.client]),O=i.value[f.value.offset]/2,_=(w-O)*100*h.value/o.value[f.value.offset];n.wrapElement[f.value.scroll]=_*n.wrapElement[f.value.scrollSize]/100},v=b=>{b.stopImmediatePropagation(),u=!0,document.addEventListener("mousemove",p),document.addEventListener("mouseup",g),d=document.onselectstart,document.onselectstart=()=>!1},p=b=>{if(!o.value||!i.value||u===!1)return;const w=a.value[f.value.axis];if(!w)return;const O=(o.value.getBoundingClientRect()[f.value.direction]-b[f.value.client])*-1,_=i.value[f.value.offset]-w,$=(O-_)*100*h.value/o.value[f.value.offset];n.wrapElement[f.value.scroll]=$*n.wrapElement[f.value.scrollSize]/100},g=()=>{u=!1,a.value[f.value.axis]=0,document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",g),T(),s&&(l.value=!1)},E=()=>{s=!1,l.value=!!t.size},C=()=>{s=!0,l.value=u};Xe(()=>{T(),document.removeEventListener("mouseup",g)});const T=()=>{document.onselectstart!==d&&(document.onselectstart=d)};return Bt(rn(n,"scrollbarElement"),"mousemove",E),Bt(rn(n,"scrollbarElement"),"mouseleave",C),(b,w)=>(N(),xe(Ta,{name:x(r).b("fade"),persisted:""},{default:ye(()=>[We(P("div",{ref_key:"instance",ref:o,class:oe([x(r).e("bar"),x(r).is(x(f).key)]),onMousedown:y},[P("div",{ref_key:"thumb",ref:i,class:oe(x(r).e("thumb")),style:Fe(x(c)),onMousedown:m},null,38)],34),[[sn,b.always||l.value]])]),_:1},8,["name"]))}});var Rs=Ke(t1,[["__file","thumb.vue"]]);const n1=Ye({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),r1=pe({__name:"bar",props:n1,setup(e,{expose:t}){const n=e,r=Ie(za),o=L(0),i=L(0),a=L(""),l=L(""),u=L(1),s=L(1);return t({handleScroll:c=>{if(c){const h=c.offsetHeight-kn,m=c.offsetWidth-kn;i.value=c.scrollTop*100/h*u.value,o.value=c.scrollLeft*100/m*s.value}},update:()=>{const c=r==null?void 0:r.wrapElement;if(!c)return;const h=c.offsetHeight-kn,m=c.offsetWidth-kn,y=h**2/c.scrollHeight,v=m**2/c.scrollWidth,p=Math.max(y,n.minSize),g=Math.max(v,n.minSize);u.value=y/(h-y)/(p/(h-p)),s.value=v/(m-v)/(g/(m-g)),l.value=p+kn<h?`${p}px`:"",a.value=g+kn<m?`${g}px`:""}}),(c,h)=>(N(),G(De,null,[ke(Rs,{move:o.value,ratio:s.value,size:a.value,always:c.always},null,8,["move","ratio","size","always"]),ke(Rs,{move:i.value,ratio:u.value,size:l.value,vertical:"",always:c.always},null,8,["move","ratio","size","always"])],64))}});var o1=Ke(r1,[["__file","bar.vue"]]);const a1=Ye({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ee([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...wo(["ariaLabel","ariaOrientation"])}),i1={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(gt)},s1="ElScrollbar",l1=pe({name:s1}),u1=pe({...l1,props:a1,emits:i1,setup(e,{expose:t,emit:n}){const r=e,o=ot("scrollbar");let i,a,l=0,u=0;const s=L(),d=L(),f=L(),c=L(),h=k(()=>{const T={};return r.height&&(T.height=ga(r.height)),r.maxHeight&&(T.maxHeight=ga(r.maxHeight)),[r.wrapStyle,T]}),m=k(()=>[r.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!r.native}]),y=k(()=>[o.e("view"),r.viewClass]),v=()=>{var T;d.value&&((T=c.value)==null||T.handleScroll(d.value),l=d.value.scrollTop,u=d.value.scrollLeft,n("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))};function p(T,b){Et(T)?d.value.scrollTo(T):gt(T)&&gt(b)&&d.value.scrollTo(T,b)}const g=T=>{gt(T)&&(d.value.scrollTop=T)},E=T=>{gt(T)&&(d.value.scrollLeft=T)},C=()=>{var T;(T=c.value)==null||T.update()};return ie(()=>r.noresize,T=>{T?(i==null||i(),a==null||a()):({stop:i}=nn(f,C),a=Bt("resize",C))},{immediate:!0}),ie(()=>[r.maxHeight,r.height],()=>{r.native||qe(()=>{var T;C(),d.value&&((T=c.value)==null||T.handleScroll(d.value))})}),Vt(za,zn({scrollbarElement:s,wrapElement:d})),nc(()=>{d.value&&(d.value.scrollTop=l,d.value.scrollLeft=u)}),Ne(()=>{r.native||qe(()=>{C()})}),nl(()=>C()),t({wrapRef:d,update:C,scrollTo:p,setScrollTop:g,setScrollLeft:E,handleScroll:v}),(T,b)=>(N(),G("div",{ref_key:"scrollbarRef",ref:s,class:oe(x(o).b())},[P("div",{ref_key:"wrapRef",ref:d,class:oe(x(m)),style:Fe(x(h)),tabindex:T.tabindex,onScroll:v},[(N(),xe(Br(T.tag),{id:T.id,ref_key:"resizeRef",ref:f,class:oe(x(y)),style:Fe(T.viewStyle),role:T.role,"aria-label":T.ariaLabel,"aria-orientation":T.ariaOrientation},{default:ye(()=>[Se(T.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),T.native?be("v-if",!0):(N(),xe(o1,{key:0,ref_key:"barRef",ref:c,always:T.always,"min-size":T.minSize},null,8,["always","min-size"]))],2))}});var c1=Ke(u1,[["__file","scrollbar.vue"]]);const f1=Sn(c1),Na=Symbol("popper"),du=Symbol("popperContent"),d1=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],pu=Ye({role:{type:String,values:d1,default:"tooltip"}}),p1=pe({name:"ElPopper",inheritAttrs:!1}),h1=pe({...p1,props:pu,setup(e,{expose:t}){const n=e,r=L(),o=L(),i=L(),a=L(),l=k(()=>n.role),u={triggerRef:r,popperInstanceRef:o,contentRef:i,referenceRef:a,role:l};return t(u),Vt(Na,u),(s,d)=>Se(s.$slots,"default")}});var v1=Ke(h1,[["__file","popper.vue"]]);const hu=Ye({arrowOffset:{type:Number,default:5}}),m1=pe({name:"ElPopperArrow",inheritAttrs:!1}),g1=pe({...m1,props:hu,setup(e,{expose:t}){const n=e,r=ot("popper"),{arrowOffset:o,arrowRef:i,arrowStyle:a}=Ie(du,void 0);return ie(()=>n.arrowOffset,l=>{o.value=l}),Xe(()=>{i.value=void 0}),t({arrowRef:i}),(l,u)=>(N(),G("span",{ref_key:"arrowRef",ref:i,class:oe(x(r).e("arrow")),style:Fe(x(a)),"data-popper-arrow":""},null,6))}});var y1=Ke(g1,[["__file","arrow.vue"]]);const vu=Ye({virtualRef:{type:Ee(Object)},virtualTriggering:Boolean,onMouseenter:{type:Ee(Function)},onMouseleave:{type:Ee(Function)},onClick:{type:Ee(Function)},onKeydown:{type:Ee(Function)},onFocus:{type:Ee(Function)},onBlur:{type:Ee(Function)},onContextmenu:{type:Ee(Function)},id:String,open:Boolean}),mu=Symbol("elForwardRef"),b1=e=>{Vt(mu,{setForwardRef:n=>{e.value=n}})},w1=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),ba=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},_1="ElOnlyChild",T1=pe({name:_1,setup(e,{slots:t,attrs:n}){var r;const o=Ie(mu),i=w1((r=o==null?void 0:o.setForwardRef)!=null?r:Yr);return()=>{var a;const l=(a=t.default)==null?void 0:a.call(t,n);if(!l||l.length>1)return null;const u=gu(l);return u?We(rc(u,n),[[i]]):null}}});function gu(e){if(!e)return null;const t=e;for(const n of t){if(Et(n))switch(n.type){case ac:continue;case oc:case"svg":return As(n);case De:return gu(n.children);default:return n}return As(n)}return null}function As(e){const t=ot("only-child");return ke("span",{class:t.e("content")},[e])}const S1=pe({name:"ElPopperTrigger",inheritAttrs:!1}),E1=pe({...S1,props:vu,setup(e,{expose:t}){const n=e,{role:r,triggerRef:o}=Ie(Na,void 0);b1(o);const i=k(()=>l.value?n.id:void 0),a=k(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),l=k(()=>{if(r&&r.value!=="tooltip")return r.value}),u=k(()=>l.value?`${n.open}`:void 0);let s;const d=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Ne(()=>{ie(()=>n.virtualRef,f=>{f&&(o.value=Nt(f))},{immediate:!0}),ie(o,(f,c)=>{s==null||s(),s=void 0,an(f)&&(d.forEach(h=>{var m;const y=n[h];y&&(f.addEventListener(h.slice(2).toLowerCase(),y),(m=c==null?void 0:c.removeEventListener)==null||m.call(c,h.slice(2).toLowerCase(),y))}),ba(f)&&(s=ie([i,a,l,u],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((m,y)=>{La(h[y])?f.removeAttribute(m):f.setAttribute(m,h[y])})},{immediate:!0}))),an(c)&&ba(c)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>c.removeAttribute(h))},{immediate:!0})}),Xe(()=>{if(s==null||s(),s=void 0,o.value&&an(o.value)){const f=o.value;d.forEach(c=>{const h=n[c];h&&f.removeEventListener(c.slice(2).toLowerCase(),h)}),o.value=void 0}}),t({triggerRef:o}),(f,c)=>f.virtualTriggering?be("v-if",!0):(N(),xe(x(T1),lo({key:0},f.$attrs,{"aria-controls":x(i),"aria-describedby":x(a),"aria-expanded":x(u),"aria-haspopup":x(l)}),{default:ye(()=>[Se(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var C1=Ke(E1,[["__file","trigger.vue"]]);const Ko="focus-trap.focus-after-trapped",Go="focus-trap.focus-after-released",O1="focus-trap.focusout-prevented",Ds={cancelable:!0,bubbles:!1},$1={cancelable:!0,bubbles:!1},Fs="focusAfterTrapped",Ls="focusAfterReleased",M1=Symbol("elFocusTrap"),Ua=L(),To=L(0),Ba=L(0);let Lr=0;const yu=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},zs=(e,t)=>{for(const n of e)if(!x1(n,t))return n},x1=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},k1=e=>{const t=yu(e),n=zs(t,e),r=zs(t.reverse(),e);return[n,r]},P1=e=>e instanceof HTMLInputElement&&"select"in e,Rt=(e,t)=>{if(e&&e.focus){const n=document.activeElement;let r=!1;an(e)&&!ba(e)&&!e.getAttribute("tabindex")&&(e.setAttribute("tabindex","-1"),r=!0),e.focus({preventScroll:!0}),Ba.value=window.performance.now(),e!==n&&P1(e)&&t&&e.select(),an(e)&&r&&e.removeAttribute("tabindex")}};function Ns(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const I1=()=>{let e=[];return{push:r=>{const o=e[0];o&&r!==o&&o.pause(),e=Ns(e,r),e.unshift(r)},remove:r=>{var o,i;e=Ns(e,r),(i=(o=e[0])==null?void 0:o.resume)==null||i.call(o)}}},R1=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(Rt(r,t),document.activeElement!==n)return},Us=I1(),A1=()=>To.value>Ba.value,zr=()=>{Ua.value="pointer",To.value=window.performance.now()},Bs=()=>{Ua.value="keyboard",To.value=window.performance.now()},D1=()=>(Ne(()=>{Lr===0&&(document.addEventListener("mousedown",zr),document.addEventListener("touchstart",zr),document.addEventListener("keydown",Bs)),Lr++}),Xe(()=>{Lr--,Lr<=0&&(document.removeEventListener("mousedown",zr),document.removeEventListener("touchstart",zr),document.removeEventListener("keydown",Bs))}),{focusReason:Ua,lastUserFocusTimestamp:To,lastAutomatedFocusTimestamp:Ba}),Nr=e=>new CustomEvent(O1,{...$1,detail:e}),Ln={tab:"Tab",enter:"Enter",space:"Space",esc:"Escape",delete:"Delete",numpadEnter:"NumpadEnter"};let An=[];const Vs=e=>{e.code===Ln.esc&&An.forEach(t=>t(e))},F1=e=>{Ne(()=>{An.length===0&&document.addEventListener("keydown",Vs),tt&&An.push(e)}),Xe(()=>{An=An.filter(t=>t!==e),An.length===0&&tt&&document.removeEventListener("keydown",Vs)})},L1=pe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Fs,Ls,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=L();let r,o;const{focusReason:i}=D1();F1(m=>{e.trapped&&!a.paused&&t("release-requested",m)});const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},l=m=>{if(!e.loop&&!e.trapped||a.paused)return;const{code:y,altKey:v,ctrlKey:p,metaKey:g,currentTarget:E,shiftKey:C}=m,{loop:T}=e,b=y===Ln.tab&&!v&&!p&&!g,w=document.activeElement;if(b&&w){const O=E,[_,$]=k1(O);if(_&&$){if(!C&&w===$){const B=Nr({focusReason:i.value});t("focusout-prevented",B),B.defaultPrevented||(m.preventDefault(),T&&Rt(_,!0))}else if(C&&[_,O].includes(w)){const B=Nr({focusReason:i.value});t("focusout-prevented",B),B.defaultPrevented||(m.preventDefault(),T&&Rt($,!0))}}else if(w===O){const B=Nr({focusReason:i.value});t("focusout-prevented",B),B.defaultPrevented||m.preventDefault()}}};Vt(M1,{focusTrapRef:n,onKeydown:l}),ie(()=>e.focusTrapEl,m=>{m&&(n.value=m)},{immediate:!0}),ie([n],([m],[y])=>{m&&(m.addEventListener("keydown",l),m.addEventListener("focusin",d),m.addEventListener("focusout",f)),y&&(y.removeEventListener("keydown",l),y.removeEventListener("focusin",d),y.removeEventListener("focusout",f))});const u=m=>{t(Fs,m)},s=m=>t(Ls,m),d=m=>{const y=x(n);if(!y)return;const v=m.target,p=m.relatedTarget,g=v&&y.contains(v);e.trapped||p&&y.contains(p)||(r=p),g&&t("focusin",m),!a.paused&&e.trapped&&(g?o=v:Rt(o,!0))},f=m=>{const y=x(n);if(!(a.paused||!y))if(e.trapped){const v=m.relatedTarget;!La(v)&&!y.contains(v)&&setTimeout(()=>{if(!a.paused&&e.trapped){const p=Nr({focusReason:i.value});t("focusout-prevented",p),p.defaultPrevented||Rt(o,!0)}},0)}else{const v=m.target;v&&y.contains(v)||t("focusout",m)}};async function c(){await qe();const m=x(n);if(m){Us.push(a);const y=m.contains(document.activeElement)?r:document.activeElement;if(r=y,!m.contains(y)){const p=new Event(Ko,Ds);m.addEventListener(Ko,u),m.dispatchEvent(p),p.defaultPrevented||qe(()=>{let g=e.focusStartEl;io(g)||(Rt(g),document.activeElement!==g&&(g="first")),g==="first"&&R1(yu(m),!0),(document.activeElement===y||g==="container")&&Rt(m)})}}}function h(){const m=x(n);if(m){m.removeEventListener(Ko,u);const y=new CustomEvent(Go,{...Ds,detail:{focusReason:i.value}});m.addEventListener(Go,s),m.dispatchEvent(y),!y.defaultPrevented&&(i.value=="keyboard"||!A1()||m.contains(document.activeElement))&&Rt(r??document.body),m.removeEventListener(Go,s),Us.remove(a)}}return Ne(()=>{e.trapped&&c(),ie(()=>e.trapped,m=>{m?c():h()})}),Xe(()=>{e.trapped&&h(),n.value&&(n.value.removeEventListener("keydown",l),n.value.removeEventListener("focusin",d),n.value.removeEventListener("focusout",f),n.value=void 0)}),{onKeydown:l}}});function z1(e,t,n,r,o,i){return Se(e.$slots,"default",{handleKeydown:e.onKeydown})}var N1=Ke(L1,[["render",z1],["__file","focus-trap.vue"]]),nt="top",dt="bottom",pt="right",rt="left",Va="auto",Mr=[nt,dt,pt,rt],jn="start",Cr="end",U1="clippingParents",bu="viewport",sr="popper",B1="reference",Hs=Mr.reduce(function(e,t){return e.concat([t+"-"+jn,t+"-"+Cr])},[]),So=[].concat(Mr,[Va]).reduce(function(e,t){return e.concat([t,t+"-"+jn,t+"-"+Cr])},[]),V1="beforeRead",H1="read",W1="afterRead",j1="beforeMain",Y1="main",K1="afterMain",G1="beforeWrite",q1="write",X1="afterWrite",Z1=[V1,H1,W1,j1,Y1,K1,G1,q1,X1];function Mt(e){return e?(e.nodeName||"").toLowerCase():null}function wt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Yn(e){var t=wt(e).Element;return e instanceof t||e instanceof Element}function ct(e){var t=wt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ha(e){if(typeof ShadowRoot>"u")return!1;var t=wt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Q1(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!ct(i)||!Mt(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(a){var l=o[a];l===!1?i.removeAttribute(a):i.setAttribute(a,l===!0?"":l)}))})}function J1(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=a.reduce(function(u,s){return u[s]="",u},{});!ct(o)||!Mt(o)||(Object.assign(o.style,l),Object.keys(i).forEach(function(u){o.removeAttribute(u)}))})}}var wu={name:"applyStyles",enabled:!0,phase:"write",fn:Q1,effect:J1,requires:["computeStyles"]};function Ot(e){return e.split("-")[0]}var vn=Math.max,ao=Math.min,Kn=Math.round;function Gn(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,o=1;if(ct(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(r=Kn(n.width)/a||1),i>0&&(o=Kn(n.height)/i||1)}return{width:n.width/r,height:n.height/o,top:n.top/o,right:n.right/r,bottom:n.bottom/o,left:n.left/r,x:n.left/r,y:n.top/o}}function Wa(e){var t=Gn(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function _u(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ha(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wt(e){return wt(e).getComputedStyle(e)}function eb(e){return["table","td","th"].indexOf(Mt(e))>=0}function un(e){return((Yn(e)?e.ownerDocument:e.document)||window.document).documentElement}function Eo(e){return Mt(e)==="html"?e:e.assignedSlot||e.parentNode||(Ha(e)?e.host:null)||un(e)}function Ws(e){return!ct(e)||Wt(e).position==="fixed"?null:e.offsetParent}function tb(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&ct(e)){var r=Wt(e);if(r.position==="fixed")return null}var o=Eo(e);for(Ha(o)&&(o=o.host);ct(o)&&["html","body"].indexOf(Mt(o))<0;){var i=Wt(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function xr(e){for(var t=wt(e),n=Ws(e);n&&eb(n)&&Wt(n).position==="static";)n=Ws(n);return n&&(Mt(n)==="html"||Mt(n)==="body"&&Wt(n).position==="static")?t:n||tb(e)||t}function ja(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gr(e,t,n){return vn(e,ao(t,n))}function nb(e,t,n){var r=gr(e,t,n);return r>n?n:r}function Tu(){return{top:0,right:0,bottom:0,left:0}}function Su(e){return Object.assign({},Tu(),e)}function Eu(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var rb=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Su(typeof e!="number"?e:Eu(e,Mr))};function ob(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=Ot(n.placement),u=ja(l),s=[rt,pt].indexOf(l)>=0,d=s?"height":"width";if(!(!i||!a)){var f=rb(o.padding,n),c=Wa(i),h=u==="y"?nt:rt,m=u==="y"?dt:pt,y=n.rects.reference[d]+n.rects.reference[u]-a[u]-n.rects.popper[d],v=a[u]-n.rects.reference[u],p=xr(i),g=p?u==="y"?p.clientHeight||0:p.clientWidth||0:0,E=y/2-v/2,C=f[h],T=g-c[d]-f[m],b=g/2-c[d]/2+E,w=gr(C,b,T),O=u;n.modifiersData[r]=(t={},t[O]=w,t.centerOffset=w-b,t)}}function ab(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||!_u(t.elements.popper,o)||(t.elements.arrow=o))}var ib={name:"arrow",enabled:!0,phase:"main",fn:ob,effect:ab,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qn(e){return e.split("-")[1]}var sb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lb(e){var t=e.x,n=e.y,r=window,o=r.devicePixelRatio||1;return{x:Kn(t*o)/o||0,y:Kn(n*o)/o||0}}function js(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,l=e.position,u=e.gpuAcceleration,s=e.adaptive,d=e.roundOffsets,f=e.isFixed,c=a.x,h=c===void 0?0:c,m=a.y,y=m===void 0?0:m,v=typeof d=="function"?d({x:h,y}):{x:h,y};h=v.x,y=v.y;var p=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),E=rt,C=nt,T=window;if(s){var b=xr(n),w="clientHeight",O="clientWidth";if(b===wt(n)&&(b=un(n),Wt(b).position!=="static"&&l==="absolute"&&(w="scrollHeight",O="scrollWidth")),b=b,o===nt||(o===rt||o===pt)&&i===Cr){C=dt;var _=f&&b===T&&T.visualViewport?T.visualViewport.height:b[w];y-=_-r.height,y*=u?1:-1}if(o===rt||(o===nt||o===dt)&&i===Cr){E=pt;var $=f&&b===T&&T.visualViewport?T.visualViewport.width:b[O];h-=$-r.width,h*=u?1:-1}}var R=Object.assign({position:l},s&&sb),B=d===!0?lb({x:h,y}):{x:h,y};if(h=B.x,y=B.y,u){var V;return Object.assign({},R,(V={},V[C]=g?"0":"",V[E]=p?"0":"",V.transform=(T.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",V))}return Object.assign({},R,(t={},t[C]=g?y+"px":"",t[E]=p?h+"px":"",t.transform="",t))}function ub(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,l=n.roundOffsets,u=l===void 0?!0:l,s={placement:Ot(t.placement),variation:qn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,js(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,js(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Cu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ub,data:{}},Ur={passive:!0};function cb(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,a=r.resize,l=a===void 0?!0:a,u=wt(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&s.forEach(function(d){d.addEventListener("scroll",n.update,Ur)}),l&&u.addEventListener("resize",n.update,Ur),function(){i&&s.forEach(function(d){d.removeEventListener("scroll",n.update,Ur)}),l&&u.removeEventListener("resize",n.update,Ur)}}var Ou={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:cb,data:{}},fb={left:"right",right:"left",bottom:"top",top:"bottom"};function Hr(e){return e.replace(/left|right|bottom|top/g,function(t){return fb[t]})}var db={start:"end",end:"start"};function Ys(e){return e.replace(/start|end/g,function(t){return db[t]})}function Ya(e){var t=wt(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ka(e){return Gn(un(e)).left+Ya(e).scrollLeft}function pb(e){var t=wt(e),n=un(e),r=t.visualViewport,o=n.clientWidth,i=n.clientHeight,a=0,l=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,l=r.offsetTop)),{width:o,height:i,x:a+Ka(e),y:l}}function hb(e){var t,n=un(e),r=Ya(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=vn(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=vn(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+Ka(e),u=-r.scrollTop;return Wt(o||n).direction==="rtl"&&(l+=vn(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:l,y:u}}function Ga(e){var t=Wt(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function $u(e){return["html","body","#document"].indexOf(Mt(e))>=0?e.ownerDocument.body:ct(e)&&Ga(e)?e:$u(Eo(e))}function yr(e,t){var n;t===void 0&&(t=[]);var r=$u(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=wt(r),a=o?[i].concat(i.visualViewport||[],Ga(r)?r:[]):r,l=t.concat(a);return o?l:l.concat(yr(Eo(a)))}function wa(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function vb(e){var t=Gn(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Ks(e,t){return t===bu?wa(pb(e)):Yn(t)?vb(t):wa(hb(un(e)))}function mb(e){var t=yr(Eo(e)),n=["absolute","fixed"].indexOf(Wt(e).position)>=0,r=n&&ct(e)?xr(e):e;return Yn(r)?t.filter(function(o){return Yn(o)&&_u(o,r)&&Mt(o)!=="body"}):[]}function gb(e,t,n){var r=t==="clippingParents"?mb(e):[].concat(t),o=[].concat(r,[n]),i=o[0],a=o.reduce(function(l,u){var s=Ks(e,u);return l.top=vn(s.top,l.top),l.right=ao(s.right,l.right),l.bottom=ao(s.bottom,l.bottom),l.left=vn(s.left,l.left),l},Ks(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Mu(e){var t=e.reference,n=e.element,r=e.placement,o=r?Ot(r):null,i=r?qn(r):null,a=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,u;switch(o){case nt:u={x:a,y:t.y-n.height};break;case dt:u={x:a,y:t.y+t.height};break;case pt:u={x:t.x+t.width,y:l};break;case rt:u={x:t.x-n.width,y:l};break;default:u={x:t.x,y:t.y}}var s=o?ja(o):null;if(s!=null){var d=s==="y"?"height":"width";switch(i){case jn:u[s]=u[s]-(t[d]/2-n[d]/2);break;case Cr:u[s]=u[s]+(t[d]/2-n[d]/2);break}}return u}function Or(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.boundary,a=i===void 0?U1:i,l=n.rootBoundary,u=l===void 0?bu:l,s=n.elementContext,d=s===void 0?sr:s,f=n.altBoundary,c=f===void 0?!1:f,h=n.padding,m=h===void 0?0:h,y=Su(typeof m!="number"?m:Eu(m,Mr)),v=d===sr?B1:sr,p=e.rects.popper,g=e.elements[c?v:d],E=gb(Yn(g)?g:g.contextElement||un(e.elements.popper),a,u),C=Gn(e.elements.reference),T=Mu({reference:C,element:p,placement:o}),b=wa(Object.assign({},p,T)),w=d===sr?b:C,O={top:E.top-w.top+y.top,bottom:w.bottom-E.bottom+y.bottom,left:E.left-w.left+y.left,right:w.right-E.right+y.right},_=e.modifiersData.offset;if(d===sr&&_){var $=_[o];Object.keys(O).forEach(function(R){var B=[pt,dt].indexOf(R)>=0?1:-1,V=[nt,dt].indexOf(R)>=0?"y":"x";O[R]+=$[V]*B})}return O}function yb(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,s=u===void 0?So:u,d=qn(r),f=d?l?Hs:Hs.filter(function(m){return qn(m)===d}):Mr,c=f.filter(function(m){return s.indexOf(m)>=0});c.length===0&&(c=f);var h=c.reduce(function(m,y){return m[y]=Or(e,{placement:y,boundary:o,rootBoundary:i,padding:a})[Ot(y)],m},{});return Object.keys(h).sort(function(m,y){return h[m]-h[y]})}function bb(e){if(Ot(e)===Va)return[];var t=Hr(e);return[Ys(e),t,Ys(t)]}function wb(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!0:a,u=n.fallbackPlacements,s=n.padding,d=n.boundary,f=n.rootBoundary,c=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,y=n.allowedAutoPlacements,v=t.options.placement,p=Ot(v),g=p===v,E=u||(g||!m?[Hr(v)]:bb(v)),C=[v].concat(E).reduce(function(ce,ve){return ce.concat(Ot(ve)===Va?yb(t,{placement:ve,boundary:d,rootBoundary:f,padding:s,flipVariations:m,allowedAutoPlacements:y}):ve)},[]),T=t.rects.reference,b=t.rects.popper,w=new Map,O=!0,_=C[0],$=0;$<C.length;$++){var R=C[$],B=Ot(R),V=qn(R)===jn,S=[nt,dt].indexOf(B)>=0,z=S?"width":"height",M=Or(t,{placement:R,boundary:d,rootBoundary:f,altBoundary:c,padding:s}),I=S?V?pt:rt:V?dt:nt;T[z]>b[z]&&(I=Hr(I));var Y=Hr(I),K=[];if(i&&K.push(M[B]<=0),l&&K.push(M[I]<=0,M[Y]<=0),K.every(function(ce){return ce})){_=R,O=!1;break}w.set(R,K)}if(O)for(var j=m?3:1,J=function(ce){var ve=C.find(function(Me){var ne=w.get(Me);if(ne)return ne.slice(0,ce).every(function(se){return se})});if(ve)return _=ve,"break"},ee=j;ee>0;ee--){var Ce=J(ee);if(Ce==="break")break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}}var _b={name:"flip",enabled:!0,phase:"main",fn:wb,requiresIfExists:["offset"],data:{_skip:!1}};function Gs(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function qs(e){return[nt,pt,dt,rt].some(function(t){return e[t]>=0})}function Tb(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Or(t,{elementContext:"reference"}),l=Or(t,{altBoundary:!0}),u=Gs(a,r),s=Gs(l,o,i),d=qs(u),f=qs(s);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:s,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var Sb={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Tb};function Eb(e,t,n){var r=Ot(e),o=[rt,nt].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*o,[rt,pt].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function Cb(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,a=So.reduce(function(d,f){return d[f]=Eb(f,t.rects,i),d},{}),l=a[t.placement],u=l.x,s=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=s),t.modifiersData[r]=a}var Ob={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Cb};function $b(e){var t=e.state,n=e.name;t.modifiersData[n]=Mu({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var xu={name:"popperOffsets",enabled:!0,phase:"read",fn:$b,data:{}};function Mb(e){return e==="x"?"y":"x"}function xb(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,l=a===void 0?!1:a,u=n.boundary,s=n.rootBoundary,d=n.altBoundary,f=n.padding,c=n.tether,h=c===void 0?!0:c,m=n.tetherOffset,y=m===void 0?0:m,v=Or(t,{boundary:u,rootBoundary:s,padding:f,altBoundary:d}),p=Ot(t.placement),g=qn(t.placement),E=!g,C=ja(p),T=Mb(C),b=t.modifiersData.popperOffsets,w=t.rects.reference,O=t.rects.popper,_=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,$=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(b){if(i){var V,S=C==="y"?nt:rt,z=C==="y"?dt:pt,M=C==="y"?"height":"width",I=b[C],Y=I+v[S],K=I-v[z],j=h?-O[M]/2:0,J=g===jn?w[M]:O[M],ee=g===jn?-O[M]:-w[M],Ce=t.elements.arrow,ce=h&&Ce?Wa(Ce):{width:0,height:0},ve=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Tu(),Me=ve[S],ne=ve[z],se=gr(0,w[M],ce[M]),X=E?w[M]/2-j-se-Me-$.mainAxis:J-se-Me-$.mainAxis,re=E?-w[M]/2+j+se+ne+$.mainAxis:ee+se+ne+$.mainAxis,ae=t.elements.arrow&&xr(t.elements.arrow),U=ae?C==="y"?ae.clientTop||0:ae.clientLeft||0:0,we=(V=R==null?void 0:R[C])!=null?V:0,me=I+X-we-U,Ae=I+re-we,Re=gr(h?ao(Y,me):Y,I,h?vn(K,Ae):K);b[C]=Re,B[C]=Re-I}if(l){var Q,fe=C==="x"?nt:rt,Le=C==="x"?dt:pt,Te=b[T],at=T==="y"?"height":"width",Kt=Te+v[fe],Gt=Te-v[Le],H=[nt,rt].indexOf(p)!==-1,le=(Q=R==null?void 0:R[T])!=null?Q:0,$e=H?Kt:Te-w[at]-O[at]-le+$.altAxis,D=H?Te+w[at]+O[at]-le-$.altAxis:Gt,F=h&&H?nb($e,Te,D):gr(h?$e:Kt,Te,h?D:Gt);b[T]=F,B[T]=F-Te}t.modifiersData[r]=B}}var kb={name:"preventOverflow",enabled:!0,phase:"main",fn:xb,requiresIfExists:["offset"]};function Pb(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ib(e){return e===wt(e)||!ct(e)?Ya(e):Pb(e)}function Rb(e){var t=e.getBoundingClientRect(),n=Kn(t.width)/e.offsetWidth||1,r=Kn(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Ab(e,t,n){n===void 0&&(n=!1);var r=ct(t),o=ct(t)&&Rb(t),i=un(t),a=Gn(e,o),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Mt(t)!=="body"||Ga(i))&&(l=Ib(t)),ct(t)?(u=Gn(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=Ka(i))),{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function Db(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var u=t.get(l);u&&o(u)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function Fb(e){var t=Db(e);return Z1.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function Lb(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function zb(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Xs={placement:"bottom",modifiers:[],strategy:"absolute"};function Zs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function qa(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?Xs:o;return function(a,l,u){u===void 0&&(u=i);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xs,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,c={state:s,setOptions:function(y){var v=typeof y=="function"?y(s.options):y;m(),s.options=Object.assign({},i,s.options,v),s.scrollParents={reference:Yn(a)?yr(a):a.contextElement?yr(a.contextElement):[],popper:yr(l)};var p=Fb(zb([].concat(r,s.options.modifiers)));return s.orderedModifiers=p.filter(function(g){return g.enabled}),h(),c.update()},forceUpdate:function(){if(!f){var y=s.elements,v=y.reference,p=y.popper;if(Zs(v,p)){s.rects={reference:Ab(v,xr(p),s.options.strategy==="fixed"),popper:Wa(p)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(O){return s.modifiersData[O.name]=Object.assign({},O.data)});for(var g=0;g<s.orderedModifiers.length;g++){if(s.reset===!0){s.reset=!1,g=-1;continue}var E=s.orderedModifiers[g],C=E.fn,T=E.options,b=T===void 0?{}:T,w=E.name;typeof C=="function"&&(s=C({state:s,options:b,name:w,instance:c})||s)}}}},update:Lb(function(){return new Promise(function(y){c.forceUpdate(),y(s)})}),destroy:function(){m(),f=!0}};if(!Zs(a,l))return c;c.setOptions(u).then(function(y){!f&&u.onFirstUpdate&&u.onFirstUpdate(y)});function h(){s.orderedModifiers.forEach(function(y){var v=y.name,p=y.options,g=p===void 0?{}:p,E=y.effect;if(typeof E=="function"){var C=E({state:s,name:v,instance:c,options:g}),T=function(){};d.push(C||T)}})}function m(){d.forEach(function(y){return y()}),d=[]}return c}}qa();var Nb=[Ou,xu,Cu,wu];qa({defaultModifiers:Nb});var Ub=[Ou,xu,Cu,wu,Ob,_b,kb,ib,Sb],Bb=qa({defaultModifiers:Ub});const Vb=["fixed","absolute"],Hb=Ye({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ee(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:So,default:"bottom"},popperOptions:{type:Ee(Object),default:()=>({})},strategy:{type:String,values:Vb,default:"absolute"}}),ku=Ye({...Hb,id:String,style:{type:Ee([String,Array,Object])},className:{type:Ee([String,Array,Object])},effect:{type:Ee(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ee([String,Array,Object])},popperStyle:{type:Ee([String,Array,Object])},referenceEl:{type:Ee(Object)},triggerTargetEl:{type:Ee(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...wo(["ariaLabel"])}),Wb={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},jb=(e,t)=>{const n=L(!1),r=L();return{focusStartRef:r,trapped:n,onFocusAfterReleased:s=>{var d;((d=s.detail)==null?void 0:d.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:s=>{e.visible&&!n.value&&(s.target&&(r.value=s.target),n.value=!0)},onFocusoutPrevented:s=>{e.trapping||(s.detail.focusReason==="pointer"&&s.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},Yb=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:o}=e,i={placement:n,strategy:r,...o,modifiers:[...Gb(e),...t]};return qb(i,o==null?void 0:o.modifiers),i},Kb=e=>{if(tt)return Nt(e)};function Gb(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function qb(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const Xb=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:u})=>{const s=Zb(u);Object.assign(a.value,s)},requires:["computeStyles"]},o=k(()=>{const{onFirstUpdate:u,placement:s,strategy:d,modifiers:f}=x(n);return{onFirstUpdate:u,placement:s||"bottom",strategy:d||"absolute",modifiers:[...f||[],r,{name:"applyStyles",enabled:!1}]}}),i=so(),a=L({styles:{popper:{position:x(o).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return ie(o,u=>{const s=x(i);s&&s.setOptions(u)},{deep:!0}),ie([e,t],([u,s])=>{l(),!(!u||!s)&&(i.value=Bb(u,s,x(o)))}),Xe(()=>{l()}),{state:k(()=>{var u;return{...((u=x(i))==null?void 0:u.state)||{}}}),styles:k(()=>x(a).styles),attributes:k(()=>x(a).attributes),update:()=>{var u;return(u=x(i))==null?void 0:u.update()},forceUpdate:()=>{var u;return(u=x(i))==null?void 0:u.forceUpdate()},instanceRef:k(()=>x(i))}};function Zb(e){const t=Object.keys(e.elements),n=va(t.map(o=>[o,e.styles[o]||{}])),r=va(t.map(o=>[o,e.attributes[o]]));return{styles:n,attributes:r}}const Qb=0,Jb=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:o}=Ie(Na,void 0),i=L(),a=L(),l=k(()=>({name:"eventListeners",enabled:!!e.visible})),u=k(()=>{var p;const g=x(i),E=(p=x(a))!=null?p:Qb;return{name:"arrow",enabled:!R0(g),options:{element:g,padding:E}}}),s=k(()=>({onFirstUpdate:()=>{m()},...Yb(e,[x(u),x(l)])})),d=k(()=>Kb(e.referenceEl)||x(r)),{attributes:f,state:c,styles:h,update:m,forceUpdate:y,instanceRef:v}=Xb(d,n,s);return ie(v,p=>t.value=p),Ne(()=>{ie(()=>{var p;return(p=x(d))==null?void 0:p.getBoundingClientRect()},()=>{m()})}),{attributes:f,arrowRef:i,contentRef:n,instanceRef:v,state:c,styles:h,role:o,forceUpdate:y,update:m}},ew=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:o}=py(),i=ot("popper"),a=k(()=>x(t).popper),l=L(gt(e.zIndex)?e.zIndex:o()),u=k(()=>[i.b(),i.is("pure",e.pure),i.is(e.effect),e.popperClass]),s=k(()=>[{zIndex:x(l)},x(n).popper,e.popperStyle||{}]),d=k(()=>r.value==="dialog"?"false":void 0),f=k(()=>x(n).arrow||{});return{ariaModal:d,arrowStyle:f,contentAttrs:a,contentClass:u,contentStyle:s,contentZIndex:l,updateZIndex:()=>{l.value=gt(e.zIndex)?e.zIndex:o()}}},tw=pe({name:"ElPopperContent"}),nw=pe({...tw,props:ku,emits:Wb,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:o,trapped:i,onFocusAfterReleased:a,onFocusAfterTrapped:l,onFocusInTrap:u,onFocusoutPrevented:s,onReleaseRequested:d}=jb(r,n),{attributes:f,arrowRef:c,contentRef:h,styles:m,instanceRef:y,role:v,update:p}=Jb(r),{ariaModal:g,arrowStyle:E,contentAttrs:C,contentClass:T,contentStyle:b,updateZIndex:w}=ew(r,{styles:m,attributes:f,role:v}),O=Ie(oo,void 0),_=L();Vt(du,{arrowStyle:E,arrowRef:c,arrowOffset:_}),O&&Vt(oo,{...O,addInputId:Yr,removeInputId:Yr});let $;const R=(V=!0)=>{p(),V&&w()},B=()=>{R(!1),r.visible&&r.focusOnShow?i.value=!0:r.visible===!1&&(i.value=!1)};return Ne(()=>{ie(()=>r.triggerTargetEl,(V,S)=>{$==null||$(),$=void 0;const z=x(V||h.value),M=x(S||h.value);an(z)&&($=ie([v,()=>r.ariaLabel,g,()=>r.id],I=>{["role","aria-label","aria-modal","id"].forEach((Y,K)=>{La(I[K])?z.removeAttribute(Y):z.setAttribute(Y,I[K])})},{immediate:!0})),M!==z&&an(M)&&["role","aria-label","aria-modal","id"].forEach(I=>{M.removeAttribute(I)})},{immediate:!0}),ie(()=>r.visible,B,{immediate:!0})}),Xe(()=>{$==null||$(),$=void 0}),t({popperContentRef:h,popperInstanceRef:y,updatePopper:R,contentStyle:b}),(V,S)=>(N(),G("div",lo({ref_key:"contentRef",ref:h},x(C),{style:x(b),class:x(T),tabindex:"-1",onMouseenter:z=>V.$emit("mouseenter",z),onMouseleave:z=>V.$emit("mouseleave",z)}),[ke(x(N1),{trapped:x(i),"trap-on-focus-in":!0,"focus-trap-el":x(h),"focus-start-el":x(o),onFocusAfterTrapped:x(l),onFocusAfterReleased:x(a),onFocusin:x(u),onFocusoutPrevented:x(s),onReleaseRequested:x(d)},{default:ye(()=>[Se(V.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var rw=Ke(nw,[["__file","content.vue"]]);const ow=Sn(v1),Xa=Symbol("elTooltip");function Qs(){let e;const t=(r,o)=>{n(),e=window.setTimeout(r,o)},n=()=>window.clearTimeout(e);return go(()=>n()),{registerTimeout:t,cancelTimeout:n}}const aw=Ye({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),iw=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:o})=>{const{registerTimeout:i}=Qs(),{registerTimeout:a,cancelTimeout:l}=Qs();return{onOpen:d=>{i(()=>{r(d);const f=x(n);gt(f)&&f>0&&a(()=>{o(d)},f)},x(e))},onClose:d=>{l(),i(()=>{o(d)},x(t))}}},Za=Ye({...aw,...ku,appendTo:{type:Ee([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Ee(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...wo(["ariaLabel"])}),Pu=Ye({...vu,disabled:Boolean,trigger:{type:Ee([String,Array]),default:"hover"},triggerKeys:{type:Ee(Array),default:()=>[Ln.enter,Ln.numpadEnter,Ln.space]}}),sw=bo({type:Ee(Boolean),default:null}),lw=bo({type:Ee(Function)}),uw=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],o={[e]:sw,[n]:lw};return{useModelToggle:({indicator:a,toggleReason:l,shouldHideWhenRouteChanges:u,shouldProceed:s,onShow:d,onHide:f})=>{const c=ft(),{emit:h}=c,m=c.props,y=k(()=>et(m[n])),v=k(()=>m[e]===null),p=w=>{a.value!==!0&&(a.value=!0,l&&(l.value=w),et(d)&&d(w))},g=w=>{a.value!==!1&&(a.value=!1,l&&(l.value=w),et(f)&&f(w))},E=w=>{if(m.disabled===!0||et(s)&&!s())return;const O=y.value&&tt;O&&h(t,!0),(v.value||!O)&&p(w)},C=w=>{if(m.disabled===!0||!tt)return;const O=y.value&&tt;O&&h(t,!1),(v.value||!O)&&g(w)},T=w=>{eu(w)&&(m.disabled&&w?y.value&&h(t,!1):a.value!==w&&(w?p():g()))},b=()=>{a.value?C():E()};return ie(()=>m[e],T),u&&c.appContext.config.globalProperties.$route!==void 0&&ie(()=>({...c.proxy.$route}),()=>{u.value&&a.value&&C()}),Ne(()=>{T(m[e])}),{hide:C,show:E,toggle:b,hasUpdateHandler:y}},useModelToggleProps:o,useModelToggleEmits:r}},{useModelToggleProps:cw,useModelToggleEmits:fw,useModelToggle:dw}=uw("visible"),pw=Ye({...pu,...cw,...Za,...Pu,...hu,showArrow:{type:Boolean,default:!0}}),hw=[...fw,"before-show","before-hide","show","hide","open","close"],vw=(e,t)=>Ct(e)?e.includes(t):e===t,Pn=(e,t,n)=>r=>{vw(x(e),t)&&n(r)},At=(e,t,{checkForDefaultPrevented:n=!0}={})=>o=>{const i=e==null?void 0:e(o);if(n===!1||!i)return t==null?void 0:t(o)},mw=pe({name:"ElTooltipTrigger"}),gw=pe({...mw,props:Pu,setup(e,{expose:t}){const n=e,r=ot("tooltip"),{controlled:o,id:i,open:a,onOpen:l,onClose:u,onToggle:s}=Ie(Xa,void 0),d=L(null),f=()=>{if(x(o)||n.disabled)return!0},c=rn(n,"trigger"),h=At(f,Pn(c,"hover",l)),m=At(f,Pn(c,"hover",u)),y=At(f,Pn(c,"click",C=>{C.button===0&&s(C)})),v=At(f,Pn(c,"focus",l)),p=At(f,Pn(c,"focus",u)),g=At(f,Pn(c,"contextmenu",C=>{C.preventDefault(),s(C)})),E=At(f,C=>{const{code:T}=C;n.triggerKeys.includes(T)&&(C.preventDefault(),s(C))});return t({triggerRef:d}),(C,T)=>(N(),xe(x(C1),{id:x(i),"virtual-ref":C.virtualRef,open:x(a),"virtual-triggering":C.virtualTriggering,class:oe(x(r).e("trigger")),onBlur:x(p),onClick:x(y),onContextmenu:x(g),onFocus:x(v),onMouseenter:x(h),onMouseleave:x(m),onKeydown:x(E)},{default:ye(()=>[Se(C.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var yw=Ke(gw,[["__file","trigger.vue"]]);const bw=Ye({to:{type:Ee([String,Object]),required:!0},disabled:Boolean}),ww=pe({__name:"teleport",props:bw,setup(e){return(t,n)=>t.disabled?Se(t.$slots,"default",{key:0}):(N(),xe(ic,{key:1,to:t.to},[Se(t.$slots,"default")],8,["to"]))}});var _w=Ke(ww,[["__file","teleport.vue"]]);const Tw=Sn(_w),Iu=()=>{const e=xa(),t=cu(),n=k(()=>`${e.value}-popper-container-${t.prefix}`),r=k(()=>`#${n.value}`);return{id:n,selector:r}},Sw=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},Ew=()=>{const{id:e,selector:t}=Iu();return sc(()=>{tt&&(document.body.querySelector(t.value)||Sw(e.value))}),{id:e,selector:t}},Cw=pe({name:"ElTooltipContent",inheritAttrs:!1}),Ow=pe({...Cw,props:Za,setup(e,{expose:t}){const n=e,{selector:r}=Iu(),o=ot("tooltip"),i=L();let a;const{controlled:l,id:u,open:s,trigger:d,onClose:f,onOpen:c,onShow:h,onHide:m,onBeforeShow:y,onBeforeHide:v}=Ie(Xa,void 0),p=k(()=>n.transition||`${o.namespace.value}-fade-in-linear`),g=k(()=>n.persistent);Xe(()=>{a==null||a()});const E=k(()=>x(g)?!0:x(s)),C=k(()=>n.disabled?!1:x(s)),T=k(()=>n.appendTo||r.value),b=k(()=>{var I;return(I=n.style)!=null?I:{}}),w=L(!0),O=()=>{m(),M()&&Rt(document.body),w.value=!0},_=()=>{if(x(l))return!0},$=At(_,()=>{n.enterable&&x(d)==="hover"&&c()}),R=At(_,()=>{x(d)==="hover"&&f()}),B=()=>{var I,Y;(Y=(I=i.value)==null?void 0:I.updatePopper)==null||Y.call(I),y==null||y()},V=()=>{v==null||v()},S=()=>{h(),a=X0(k(()=>{var I;return(I=i.value)==null?void 0:I.popperContentRef}),()=>{if(x(l))return;x(d)!=="hover"&&f()})},z=()=>{n.virtualTriggering||f()},M=I=>{var Y;const K=(Y=i.value)==null?void 0:Y.popperContentRef,j=(I==null?void 0:I.relatedTarget)||document.activeElement;return K==null?void 0:K.contains(j)};return ie(()=>x(s),I=>{I?w.value=!1:a==null||a()},{flush:"post"}),ie(()=>n.content,()=>{var I,Y;(Y=(I=i.value)==null?void 0:I.updatePopper)==null||Y.call(I)}),t({contentRef:i,isFocusInsideContent:M}),(I,Y)=>(N(),xe(x(Tw),{disabled:!I.teleported,to:x(T)},{default:ye(()=>[ke(Ta,{name:x(p),onAfterLeave:O,onBeforeEnter:B,onAfterEnter:S,onBeforeLeave:V},{default:ye(()=>[x(E)?We((N(),xe(x(rw),lo({key:0,id:x(u),ref_key:"contentRef",ref:i},I.$attrs,{"aria-label":I.ariaLabel,"aria-hidden":w.value,"boundaries-padding":I.boundariesPadding,"fallback-placements":I.fallbackPlacements,"gpu-acceleration":I.gpuAcceleration,offset:I.offset,placement:I.placement,"popper-options":I.popperOptions,strategy:I.strategy,effect:I.effect,enterable:I.enterable,pure:I.pure,"popper-class":I.popperClass,"popper-style":[I.popperStyle,x(b)],"reference-el":I.referenceEl,"trigger-target-el":I.triggerTargetEl,visible:x(C),"z-index":I.zIndex,onMouseenter:x($),onMouseleave:x(R),onBlur:z,onClose:x(f)}),{default:ye(()=>[Se(I.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[sn,x(C)]]):be("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var $w=Ke(Ow,[["__file","content.vue"]]);const Mw=pe({name:"ElTooltip"}),xw=pe({...Mw,props:pw,emits:hw,setup(e,{expose:t,emit:n}){const r=e;Ew();const o=_o(),i=L(),a=L(),l=()=>{var p;const g=x(i);g&&((p=g.popperInstanceRef)==null||p.update())},u=L(!1),s=L(),{show:d,hide:f,hasUpdateHandler:c}=dw({indicator:u,toggleReason:s}),{onOpen:h,onClose:m}=iw({showAfter:rn(r,"showAfter"),hideAfter:rn(r,"hideAfter"),autoClose:rn(r,"autoClose"),open:d,close:f}),y=k(()=>eu(r.visible)&&!c.value);Vt(Xa,{controlled:y,id:o,open:ol(u),trigger:rn(r,"trigger"),onOpen:p=>{h(p)},onClose:p=>{m(p)},onToggle:p=>{x(u)?m(p):h(p)},onShow:()=>{n("show",s.value)},onHide:()=>{n("hide",s.value)},onBeforeShow:()=>{n("before-show",s.value)},onBeforeHide:()=>{n("before-hide",s.value)},updatePopper:l}),ie(()=>r.disabled,p=>{p&&u.value&&(u.value=!1)});const v=p=>{var g;return(g=a.value)==null?void 0:g.isFocusInsideContent(p)};return lc(()=>u.value&&f()),t({popperRef:i,contentRef:a,isFocusInsideContent:v,updatePopper:l,onOpen:h,onClose:m,hide:f}),(p,g)=>(N(),xe(x(ow),{ref_key:"popperRef",ref:i,role:p.role},{default:ye(()=>[ke(yw,{disabled:p.disabled,trigger:p.trigger,"trigger-keys":p.triggerKeys,"virtual-ref":p.virtualRef,"virtual-triggering":p.virtualTriggering},{default:ye(()=>[p.$slots.default?Se(p.$slots,"default",{key:0}):be("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ke($w,{ref_key:"contentRef",ref:a,"aria-label":p.ariaLabel,"boundaries-padding":p.boundariesPadding,content:p.content,disabled:p.disabled,effect:p.effect,enterable:p.enterable,"fallback-placements":p.fallbackPlacements,"hide-after":p.hideAfter,"gpu-acceleration":p.gpuAcceleration,offset:p.offset,persistent:p.persistent,"popper-class":p.popperClass,"popper-style":p.popperStyle,placement:p.placement,"popper-options":p.popperOptions,pure:p.pure,"raw-content":p.rawContent,"reference-el":p.referenceEl,"trigger-target-el":p.triggerTargetEl,"show-after":p.showAfter,strategy:p.strategy,teleported:p.teleported,transition:p.transition,"virtual-triggering":p.virtualTriggering,"z-index":p.zIndex,"append-to":p.appendTo},{default:ye(()=>[Se(p.$slots,"content",{},()=>[p.rawContent?(N(),G("span",{key:0,innerHTML:p.content},null,8,["innerHTML"])):(N(),G("span",{key:1},de(p.content),1))]),p.showArrow?(N(),xe(x(y1),{key:0,"arrow-offset":p.arrowOffset},null,8,["arrow-offset"])):be("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var kw=Ke(xw,[["__file","tooltip.vue"]]);const Pw=Sn(kw),Iw=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),_a=Ye({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:au},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Rw={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},Aw=pe({name:"ElTag"}),Dw=pe({...Aw,props:_a,emits:Rw,setup(e,{emit:t}){const n=e,r=fu(),o=ot("tag"),i=k(()=>{const{type:s,hit:d,effect:f,closable:c,round:h}=n;return[o.b(),o.is("closable",c),o.m(s||"primary"),o.m(r.value),o.m(f),o.is("hit",d),o.is("round",h)]}),a=s=>{t("close",s)},l=s=>{t("click",s)},u=s=>{var d,f,c;(c=(f=(d=s==null?void 0:s.component)==null?void 0:d.subTree)==null?void 0:f.component)!=null&&c.bum&&(s.component.subTree.component.bum=null)};return(s,d)=>s.disableTransitions?(N(),G("span",{key:0,class:oe(x(i)),style:Fe({backgroundColor:s.color}),onClick:l},[P("span",{class:oe(x(o).e("content"))},[Se(s.$slots,"default")],2),s.closable?(N(),xe(x(ya),{key:0,class:oe(x(o).e("close")),onClick:Ge(a,["stop"])},{default:ye(()=>[ke(x(ks))]),_:1},8,["class","onClick"])):be("v-if",!0)],6)):(N(),xe(Ta,{key:1,name:`${x(o).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:u},{default:ye(()=>[P("span",{class:oe(x(i)),style:Fe({backgroundColor:s.color}),onClick:l},[P("span",{class:oe(x(o).e("content"))},[Se(s.$slots,"default")],2),s.closable?(N(),xe(x(ya),{key:0,class:oe(x(o).e("close")),onClick:Ge(a,["stop"])},{default:ye(()=>[ke(x(ks))]),_:1},8,["class","onClick"])):be("v-if",!0)],6)]),_:3},8,["name"]))}});var Fw=Ke(Dw,[["__file","tag.vue"]]);const Lw=Sn(Fw),Zt=new Map;if(tt){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const n of Zt.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}})}function Js(e,t){let n=[];return Ct(t.arg)?n=t.arg:an(t.arg)&&n.push(t.arg),function(r,o){const i=t.instance.popperRef,a=r.target,l=o==null?void 0:o.target,u=!t||!t.instance,s=!a||!l,d=e.contains(a)||e.contains(l),f=e===a,c=n.length&&n.some(m=>m==null?void 0:m.contains(a))||n.length&&n.includes(l),h=i&&(i.contains(a)||i.contains(l));u||s||d||f||c||h||t.value(r,o)}}const zw={beforeMount(e,t){Zt.has(e)||Zt.set(e,[]),Zt.get(e).push({documentHandler:Js(e,t),bindingFn:t.value})},updated(e,t){Zt.has(e)||Zt.set(e,[]);const n=Zt.get(e),r=n.findIndex(i=>i.bindingFn===t.oldValue),o={documentHandler:Js(e,t),bindingFn:t.value};r>=0?n.splice(r,1,o):n.push(o)},unmounted(e){Zt.delete(e)}};function Nw(){const e=so(),t=L(0),n=11,r=k(()=>({minWidth:`${Math.max(t.value,n)}px`}));return nn(e,()=>{var i,a;t.value=(a=(i=e.value)==null?void 0:i.getBoundingClientRect().width)!=null?a:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:r}}const Ru=Symbol("ElSelectGroup"),Co=Symbol("ElSelect");function Uw(e,t){const n=Ie(Co),r=Ie(Ru,{disabled:!1}),o=k(()=>d(tn(n.props.modelValue),e.value)),i=k(()=>{var h;if(n.props.multiple){const m=tn((h=n.props.modelValue)!=null?h:[]);return!o.value&&m.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=k(()=>e.label||(Et(e.value)?"":e.value)),l=k(()=>e.value||e.label||""),u=k(()=>e.disabled||t.groupDisabled||i.value),s=ft(),d=(h=[],m)=>{if(Et(e.value)){const y=n.props.valueKey;return h&&h.some(v=>uc(on(v,y))===on(m,y))}else return h&&h.includes(m)},f=()=>{!e.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(s.proxy))},c=h=>{const m=new RegExp(Iw(h),"i");t.visible=m.test(a.value)||e.created};return ie(()=>a.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),ie(()=>e.value,(h,m)=>{const{remote:y,valueKey:v}=n.props;if((y?h!==m:!mr(h,m))&&(n.onOptionDestroy(m,s.proxy),n.onOptionCreate(s.proxy)),!e.created&&!y){if(v&&Et(h)&&Et(m)&&h[v]===m[v])return;n.setSelected()}}),ie(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:a,currentValue:l,itemSelected:o,isDisabled:u,hoverItem:f,updateOption:c}}const Bw=pe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=ot("select"),n=_o(),r=k(()=>[t.be("dropdown","item"),t.is("disabled",x(l)),t.is("selected",x(a)),t.is("hovering",x(c))]),o=zn({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:i,itemSelected:a,isDisabled:l,select:u,hoverItem:s,updateOption:d}=Uw(e,o),{visible:f,hover:c}=Sa(o),h=ft().proxy;u.onOptionCreate(h),Xe(()=>{const y=h.value,{selected:v}=u.states,p=v.some(g=>g.value===h.value);qe(()=>{u.states.cachedOptions.get(y)===h&&!p&&u.states.cachedOptions.delete(y)}),u.onOptionDestroy(y,h)});function m(){l.value||u.handleOptionSelect(h)}return{ns:t,id:n,containerKls:r,currentLabel:i,itemSelected:a,isDisabled:l,select:u,hoverItem:s,updateOption:d,visible:f,hover:c,selectOptionClick:m,states:o}}});function Vw(e,t,n,r,o,i){return We((N(),G("li",{id:e.id,class:oe(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:Ge(e.selectOptionClick,["stop"])},[Se(e.$slots,"default",{},()=>[P("span",null,de(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[sn,e.visible]])}var Qa=Ke(Bw,[["render",Vw],["__file","option.vue"]]);const Hw=pe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Ie(Co),t=ot("select"),n=k(()=>e.props.popperClass),r=k(()=>e.props.multiple),o=k(()=>e.props.fitInputWidth),i=L("");function a(){var l;i.value=`${(l=e.selectRef)==null?void 0:l.offsetWidth}px`}return Ne(()=>{a(),nn(e.selectRef,a)}),{ns:t,minWidth:i,popperClass:n,isMultiple:r,isFitInputWidth:o}}});function Ww(e,t,n,r,o,i){return N(),G("div",{class:oe([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Fe({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(N(),G("div",{key:0,class:oe(e.ns.be("dropdown","header"))},[Se(e.$slots,"header")],2)):be("v-if",!0),Se(e.$slots,"default"),e.$slots.footer?(N(),G("div",{key:1,class:oe(e.ns.be("dropdown","footer"))},[Se(e.$slots,"footer")],2)):be("v-if",!0)],6)}var jw=Ke(Hw,[["render",Ww],["__file","select-dropdown.vue"]]);const Yw=(e,t)=>{const{t:n}=by(),r=_o(),o=ot("select"),i=ot("input"),a=zn({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),l=L(null),u=L(null),s=L(null),d=L(null),f=L(null),c=L(null),h=L(null),m=L(null),y=L(null),v=L(null),p=L(null),{isComposing:g,handleCompositionStart:E,handleCompositionUpdate:C,handleCompositionEnd:T}=Xy({afterComposition:A=>F(A)}),{wrapperRef:b,isFocused:w,handleBlur:O}=Gy(f,{beforeFocus(){return M.value},afterFocus(){e.automaticDropdown&&!_.value&&(_.value=!0,a.menuVisibleOnFocus=!0)},beforeBlur(A){var q,he;return((q=s.value)==null?void 0:q.isFocusInsideContent(A))||((he=d.value)==null?void 0:he.isFocusInsideContent(A))},afterBlur(){_.value=!1,a.menuVisibleOnFocus=!1}}),_=L(!1),$=L(),{form:R,formItem:B}=jy(),{inputId:V}=Yy(e,{formItemContext:B}),{valueOnClear:S,isEmptyValue:z}=My(e),M=k(()=>e.disabled||(R==null?void 0:R.disabled)),I=k(()=>Ct(e.modelValue)?e.modelValue.length>0:!z(e.modelValue)),Y=k(()=>{var A;return(A=R==null?void 0:R.statusIcon)!=null?A:!1}),K=k(()=>e.clearable&&!M.value&&a.inputHovering&&I.value),j=k(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),J=k(()=>o.is("reverse",j.value&&_.value)),ee=k(()=>(B==null?void 0:B.validateState)||""),Ce=k(()=>Vy[ee.value]),ce=k(()=>e.remote?300:0),ve=k(()=>e.remote&&!a.inputValue&&a.options.size===0),Me=k(()=>e.loading?e.loadingText||n("el.select.loading"):e.filterable&&a.inputValue&&a.options.size>0&&ne.value===0?e.noMatchText||n("el.select.noMatch"):a.options.size===0?e.noDataText||n("el.select.noData"):null),ne=k(()=>se.value.filter(A=>A.visible).length),se=k(()=>{const A=Array.from(a.options.values()),q=[];return a.optionValues.forEach(he=>{const Ue=A.findIndex(st=>st.value===he);Ue>-1&&q.push(A[Ue])}),q.length>=A.length?q:A}),X=k(()=>Array.from(a.cachedOptions.values())),re=k(()=>{const A=se.value.filter(q=>!q.created).some(q=>q.currentLabel===a.inputValue);return e.filterable&&e.allowCreate&&a.inputValue!==""&&!A}),ae=()=>{e.filterable&&et(e.filterMethod)||e.filterable&&e.remote&&et(e.remoteMethod)||se.value.forEach(A=>{var q;(q=A.updateOption)==null||q.call(A,a.inputValue)})},U=fu(),we=k(()=>["small"].includes(U.value)?"small":"default"),me=k({get(){return _.value&&!ve.value},set(A){_.value=A}}),Ae=k(()=>{if(e.multiple&&!dr(e.modelValue))return tn(e.modelValue).length===0&&!a.inputValue;const A=Ct(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||dr(A)?!a.inputValue:!0}),Re=k(()=>{var A;const q=(A=e.placeholder)!=null?A:n("el.select.placeholder");return e.multiple||!I.value?q:a.selectedLabel}),Q=k(()=>ma?null:"mouseenter");ie(()=>e.modelValue,(A,q)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(a.inputValue="",fe("")),Te(),!mr(A,q)&&e.validateEvent&&(B==null||B.validate("change").catch(he=>void 0))},{flush:"post",deep:!0}),ie(()=>_.value,A=>{A?fe(a.inputValue):(a.inputValue="",a.previousQuery=null,a.isBeforeHide=!0),t("visible-change",A)}),ie(()=>a.options.entries(),()=>{tt&&(Te(),e.defaultFirstOption&&(e.filterable||e.remote)&&ne.value&&Le())},{flush:"post"}),ie(()=>a.hoveringIndex,A=>{gt(A)&&A>-1?$.value=se.value[A]||{}:$.value={},se.value.forEach(q=>{q.hover=$.value===q})}),rl(()=>{a.isBeforeHide||ae()});const fe=A=>{a.previousQuery===A||g.value||(a.previousQuery=A,e.filterable&&et(e.filterMethod)?e.filterMethod(A):e.filterable&&e.remote&&et(e.remoteMethod)&&e.remoteMethod(A),e.defaultFirstOption&&(e.filterable||e.remote)&&ne.value?qe(Le):qe(Kt))},Le=()=>{const A=se.value.filter(st=>st.visible&&!st.disabled&&!st.states.groupDisabled),q=A.find(st=>st.created),he=A[0],Ue=se.value.map(st=>st.value);a.hoveringIndex=_t(Ue,q||he)},Te=()=>{if(e.multiple)a.selectedLabel="";else{const q=Ct(e.modelValue)?e.modelValue[0]:e.modelValue,he=at(q);a.selectedLabel=he.currentLabel,a.selected=[he];return}const A=[];dr(e.modelValue)||tn(e.modelValue).forEach(q=>{A.push(at(q))}),a.selected=A},at=A=>{let q;const he=cc(A);for(let En=a.cachedOptions.size-1;En>=0;En--){const qt=X.value[En];if(he?on(qt.value,e.valueKey)===on(A,e.valueKey):qt.value===A){q={value:A,currentLabel:qt.currentLabel,get isDisabled(){return qt.isDisabled}};break}}if(q)return q;const Ue=he?A.label:A??"";return{value:A,currentLabel:Ue}},Kt=()=>{a.hoveringIndex=se.value.findIndex(A=>a.selected.some(q=>Rr(q)===Rr(A)))},Gt=()=>{a.selectionWidth=u.value.getBoundingClientRect().width},H=()=>{a.collapseItemWidth=v.value.getBoundingClientRect().width},le=()=>{var A,q;(q=(A=s.value)==null?void 0:A.updatePopper)==null||q.call(A)},$e=()=>{var A,q;(q=(A=d.value)==null?void 0:A.updatePopper)==null||q.call(A)},D=()=>{a.inputValue.length>0&&!_.value&&(_.value=!0),fe(a.inputValue)},F=A=>{if(a.inputValue=A.target.value,e.remote)W();else return D()},W=P0(()=>{D()},ce.value),te=A=>{mr(e.modelValue,A)||t(iu,A)},Z=A=>I0(A,q=>{const he=a.cachedOptions.get(q);return he&&!he.disabled&&!he.states.groupDisabled}),ue=A=>{if(e.multiple&&A.code!==Ln.delete&&A.target.value.length<=0){const q=tn(e.modelValue).slice(),he=Z(q);if(he<0)return;const Ue=q[he];q.splice(he,1),t(Rn,q),te(q),t("remove-tag",Ue)}},Oe=(A,q)=>{const he=a.selected.indexOf(q);if(he>-1&&!M.value){const Ue=tn(e.modelValue).slice();Ue.splice(he,1),t(Rn,Ue),te(Ue),t("remove-tag",q.value)}A.stopPropagation(),Ir()},ze=A=>{A.stopPropagation();const q=e.multiple?[]:S.value;if(e.multiple)for(const he of a.selected)he.isDisabled&&q.push(he.value);t(Rn,q),te(q),a.hoveringIndex=-1,_.value=!1,t("clear"),Ir()},Je=A=>{var q;if(e.multiple){const he=tn((q=e.modelValue)!=null?q:[]).slice(),Ue=_t(he,A);Ue>-1?he.splice(Ue,1):(e.multipleLimit<=0||he.length<e.multipleLimit)&&he.push(A.value),t(Rn,he),te(he),A.created&&fe(""),e.filterable&&!e.reserveKeyword&&(a.inputValue="")}else t(Rn,A.value),te(A.value),_.value=!1;Ir(),!_.value&&qe(()=>{it(A)})},_t=(A=[],q)=>dr(q)?-1:Et(q.value)?A.findIndex(he=>mr(on(he,e.valueKey),Rr(q))):A.indexOf(q.value),it=A=>{var q,he,Ue,st,En;const qt=Ct(A)?A[0]:A;let Ar=null;if(qt!=null&&qt.value){const er=se.value.filter(Gu=>Gu.value===qt.value);er.length>0&&(Ar=er[0].$el)}if(s.value&&Ar){const er=(st=(Ue=(he=(q=s.value)==null?void 0:q.popperRef)==null?void 0:he.contentRef)==null?void 0:Ue.querySelector)==null?void 0:st.call(Ue,`.${o.be("dropdown","wrap")}`);er&&xy(er,Ar)}(En=p.value)==null||En.handleScroll()},cn=A=>{a.options.set(A.value,A),a.cachedOptions.set(A.value,A)},fn=(A,q)=>{a.options.get(A)===q&&a.options.delete(A)},kt=k(()=>{var A,q;return(q=(A=s.value)==null?void 0:A.popperRef)==null?void 0:q.contentRef}),Pr=()=>{a.isBeforeHide=!1,qe(()=>{var A;(A=p.value)==null||A.update(),it(a.selected)})},Ir=()=>{var A;(A=f.value)==null||A.focus()},Fu=()=>{var A;if(_.value){_.value=!1,qe(()=>{var q;return(q=f.value)==null?void 0:q.blur()});return}(A=f.value)==null||A.blur()},Lu=A=>{ze(A)},zu=A=>{if(_.value=!1,w.value){const q=new FocusEvent("focus",A);qe(()=>O(q))}},Nu=()=>{a.inputValue.length>0?a.inputValue="":_.value=!1},Ja=()=>{M.value||(ma&&(a.inputHovering=!0),a.menuVisibleOnFocus?a.menuVisibleOnFocus=!1:_.value=!_.value)},Uu=()=>{if(!_.value)Ja();else{const A=se.value[a.hoveringIndex];A&&!A.isDisabled&&Je(A)}},Rr=A=>Et(A.value)?on(A.value,e.valueKey):A.value,Bu=k(()=>se.value.filter(A=>A.visible).every(A=>A.isDisabled)),Vu=k(()=>e.multiple?e.collapseTags?a.selected.slice(0,e.maxCollapseTags):a.selected:[]),Hu=k(()=>e.multiple?e.collapseTags?a.selected.slice(e.maxCollapseTags):[]:[]),ei=A=>{if(!_.value){_.value=!0;return}if(!(a.options.size===0||ne.value===0||g.value)&&!Bu.value){A==="next"?(a.hoveringIndex++,a.hoveringIndex===a.options.size&&(a.hoveringIndex=0)):A==="prev"&&(a.hoveringIndex--,a.hoveringIndex<0&&(a.hoveringIndex=a.options.size-1));const q=se.value[a.hoveringIndex];(q.isDisabled||!q.visible)&&ei(A),qe(()=>it($.value))}},Wu=()=>{if(!u.value)return 0;const A=window.getComputedStyle(u.value);return Number.parseFloat(A.gap||"6px")},ju=k(()=>{const A=Wu();return{maxWidth:`${v.value&&e.maxCollapseTags===1?a.selectionWidth-a.collapseItemWidth-A:a.selectionWidth}px`}}),Yu=k(()=>({maxWidth:`${a.selectionWidth}px`})),Ku=A=>{t("popup-scroll",A)};return nn(u,Gt),nn(m,le),nn(b,le),nn(y,$e),nn(v,H),Ne(()=>{Te()}),{inputId:V,contentId:r,nsSelect:o,nsInput:i,states:a,isFocused:w,expanded:_,optionsArray:se,hoverOption:$,selectSize:U,filteredOptionsCount:ne,updateTooltip:le,updateTagTooltip:$e,debouncedOnInputChange:W,onInput:F,deletePrevTag:ue,deleteTag:Oe,deleteSelected:ze,handleOptionSelect:Je,scrollToOption:it,hasModelValue:I,shouldShowPlaceholder:Ae,currentPlaceholder:Re,mouseEnterEventName:Q,needStatusIcon:Y,showClose:K,iconComponent:j,iconReverse:J,validateState:ee,validateIcon:Ce,showNewOption:re,updateOptions:ae,collapseTagSize:we,setSelected:Te,selectDisabled:M,emptyText:Me,handleCompositionStart:E,handleCompositionUpdate:C,handleCompositionEnd:T,onOptionCreate:cn,onOptionDestroy:fn,handleMenuEnter:Pr,focus:Ir,blur:Fu,handleClearClick:Lu,handleClickOutside:zu,handleEsc:Nu,toggleMenu:Ja,selectOption:Uu,getValueKey:Rr,navigateOptions:ei,dropdownMenuVisible:me,showTagList:Vu,collapseTagList:Hu,popupScroll:Ku,tagStyle:ju,collapseTagStyle:Yu,popperRef:kt,inputRef:f,tooltipRef:s,tagTooltipRef:d,prefixRef:c,suffixRef:h,selectRef:l,wrapperRef:b,selectionRef:u,scrollbarRef:p,menuRef:m,tagMenuRef:y,collapseItemRef:v}};var Kw=pe({name:"ElOptions",setup(e,{slots:t}){const n=Ie(Co);let r=[];return()=>{var o,i;const a=(o=t.default)==null?void 0:o.call(t),l=[];function u(s){Ct(s)&&s.forEach(d=>{var f,c,h,m;const y=(f=(d==null?void 0:d.type)||{})==null?void 0:f.name;y==="ElOptionGroup"?u(!io(d.children)&&!Ct(d.children)&&et((c=d.children)==null?void 0:c.default)?(h=d.children)==null?void 0:h.default():d.children):y==="ElOption"?l.push((m=d.props)==null?void 0:m.value):Ct(d.children)&&u(d.children)})}return a.length&&u((i=a[0])==null?void 0:i.children),mr(l,r)||(r=l,n&&(n.states.optionValues=l)),a}}});const Gw=Ye({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:_y,effect:{type:Ee(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ee(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Za.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ps,default:lu},fitInputWidth:Boolean,suffixIcon:{type:Ps,default:Dy},tagType:{..._a.type,default:"info"},tagEffect:{..._a.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Ee(String),values:So,default:"bottom-start"},fallbackPlacements:{type:Ee(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...$y,...wo(["ariaLabel"])}),el="ElSelect",qw=pe({name:el,componentName:el,components:{ElSelectMenu:jw,ElOption:Qa,ElOptions:Kw,ElTag:Lw,ElScrollbar:f1,ElTooltip:Pw,ElIcon:ya},directives:{ClickOutside:zw},props:Gw,emits:[Rn,iu,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:t}){const n=k(()=>{const{modelValue:u,multiple:s}=e,d=s?[]:void 0;return Ct(u)?s?u:d:s?d:u}),r=zn({...Sa(e),modelValue:n}),o=Yw(r,t),{calculatorRef:i,inputStyle:a}=Nw();Vt(Co,zn({props:r,states:o.states,optionsArray:o.optionsArray,handleOptionSelect:o.handleOptionSelect,onOptionCreate:o.onOptionCreate,onOptionDestroy:o.onOptionDestroy,selectRef:o.selectRef,setSelected:o.setSelected}));const l=k(()=>e.multiple?o.states.selected.map(u=>u.currentLabel):o.states.selectedLabel);return{...o,modelValue:n,selectedLabel:l,calculatorRef:i,inputStyle:a}}});function Xw(e,t,n,r,o,i){const a=Xt("el-tag"),l=Xt("el-tooltip"),u=Xt("el-icon"),s=Xt("el-option"),d=Xt("el-options"),f=Xt("el-scrollbar"),c=Xt("el-select-menu"),h=qo("click-outside");return We((N(),G("div",{ref:"selectRef",class:oe([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[fc(e.mouseEnterEventName)]:m=>e.states.inputHovering=!0,onMouseleave:m=>e.states.inputHovering=!1},[ke(l,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:m=>e.states.isBeforeHide=!1},{default:ye(()=>{var m;return[P("div",{ref:"wrapperRef",class:oe([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:Ge(e.toggleMenu,["prevent"])},[e.$slots.prefix?(N(),G("div",{key:0,ref:"prefixRef",class:oe(e.nsSelect.e("prefix"))},[Se(e.$slots,"prefix")],2)):be("v-if",!0),P("div",{ref:"selectionRef",class:oe([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?Se(e.$slots,"tag",{key:0},()=>[(N(!0),G(De,null,He(e.showTagList,y=>(N(),G("div",{key:e.getValueKey(y),class:oe(e.nsSelect.e("selected-item"))},[ke(a,{closable:!e.selectDisabled&&!y.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Fe(e.tagStyle),onClose:v=>e.deleteTag(v,y)},{default:ye(()=>[P("span",{class:oe(e.nsSelect.e("tags-text"))},[Se(e.$slots,"label",{label:y.currentLabel,value:y.value},()=>[wr(de(y.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(N(),xe(l,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:ye(()=>[P("div",{ref:"collapseItemRef",class:oe(e.nsSelect.e("selected-item"))},[ke(a,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Fe(e.collapseTagStyle)},{default:ye(()=>[P("span",{class:oe(e.nsSelect.e("tags-text"))}," + "+de(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ye(()=>[P("div",{ref:"tagMenuRef",class:oe(e.nsSelect.e("selection"))},[(N(!0),G(De,null,He(e.collapseTagList,y=>(N(),G("div",{key:e.getValueKey(y),class:oe(e.nsSelect.e("selected-item"))},[ke(a,{class:"in-tooltip",closable:!e.selectDisabled&&!y.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:v=>e.deleteTag(v,y)},{default:ye(()=>[P("span",{class:oe(e.nsSelect.e("tags-text"))},[Se(e.$slots,"label",{label:y.currentLabel,value:y.value},()=>[wr(de(y.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):be("v-if",!0)]):be("v-if",!0),P("div",{class:oe([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[We(P("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":y=>e.states.inputValue=y,type:"text",name:e.name,class:oe([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Fe(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((m=e.hoverOption)==null?void 0:m.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[In(Ge(y=>e.navigateOptions("next"),["stop","prevent"]),["down"]),In(Ge(y=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),In(Ge(e.handleEsc,["stop","prevent"]),["esc"]),In(Ge(e.selectOption,["stop","prevent"]),["enter"]),In(Ge(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:Ge(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[jr,e.states.inputValue]]),e.filterable?(N(),G("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:oe(e.nsSelect.e("input-calculator")),textContent:de(e.states.inputValue)},null,10,["textContent"])):be("v-if",!0)],2),e.shouldShowPlaceholder?(N(),G("div",{key:1,class:oe([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Se(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[P("span",null,de(e.currentPlaceholder),1)]):(N(),G("span",{key:1},de(e.currentPlaceholder),1))],2)):be("v-if",!0)],2),P("div",{ref:"suffixRef",class:oe(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(N(),xe(u,{key:0,class:oe([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:ye(()=>[(N(),xe(Br(e.iconComponent)))]),_:1},8,["class"])):be("v-if",!0),e.showClose&&e.clearIcon?(N(),xe(u,{key:1,class:oe([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:ye(()=>[(N(),xe(Br(e.clearIcon)))]),_:1},8,["class","onClick"])):be("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(N(),xe(u,{key:2,class:oe([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:ye(()=>[(N(),xe(Br(e.validateIcon)))]),_:1},8,["class"])):be("v-if",!0)],2)],10,["onClick"])]}),content:ye(()=>[ke(c,{ref:"menuRef"},{default:ye(()=>[e.$slots.header?(N(),G("div",{key:0,class:oe(e.nsSelect.be("dropdown","header")),onClick:Ge(()=>{},["stop"])},[Se(e.$slots,"header")],10,["onClick"])):be("v-if",!0),We(ke(f,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:oe([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:ye(()=>[e.showNewOption?(N(),xe(s,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):be("v-if",!0),ke(d,null,{default:ye(()=>[Se(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[sn,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(N(),G("div",{key:1,class:oe(e.nsSelect.be("dropdown","loading"))},[Se(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(N(),G("div",{key:2,class:oe(e.nsSelect.be("dropdown","empty"))},[Se(e.$slots,"empty",{},()=>[P("span",null,de(e.emptyText),1)])],2)):be("v-if",!0),e.$slots.footer?(N(),G("div",{key:3,class:oe(e.nsSelect.be("dropdown","footer")),onClick:Ge(()=>{},["stop"])},[Se(e.$slots,"footer")],10,["onClick"])):be("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[h,e.handleClickOutside,e.popperRef]])}var Zw=Ke(qw,[["render",Xw],["__file","select.vue"]]);const Qw=pe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=ot("select"),n=L(null),r=ft(),o=L([]);Vt(Ru,zn({...Sa(e)}));const i=k(()=>o.value.some(s=>s.visible===!0)),a=s=>{var d,f;return((d=s.type)==null?void 0:d.name)==="ElOption"&&!!((f=s.component)!=null&&f.proxy)},l=s=>{const d=tn(s),f=[];return d.forEach(c=>{var h,m;a(c)?f.push(c.component.proxy):(h=c.children)!=null&&h.length?f.push(...l(c.children)):(m=c.component)!=null&&m.subTree&&f.push(...l(c.component.subTree))}),f},u=()=>{o.value=l(r.subTree)};return Ne(()=>{u()}),ry(n,u,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:i,ns:t}}});function Jw(e,t,n,r,o,i){return We((N(),G("ul",{ref:"groupRef",class:oe(e.ns.be("group","wrap"))},[P("li",{class:oe(e.ns.be("group","title"))},de(e.label),3),P("li",null,[P("ul",{class:oe(e.ns.b("group"))},[Se(e.$slots,"default")],2)])],2)),[[sn,e.visible]])}var Au=Ke(Qw,[["render",Jw],["__file","option-group.vue"]]);const e_=Sn(Zw,{Option:Qa,OptionGroup:Au}),t_=su(Qa);su(Au);const Du=e=>(Xn("data-v-e14b4ed7"),e=e(),Zn(),e),n_={class:"input-container"},r_=Du(()=>P("div",{class:"header-title"},de(""),-1)),o_={class:"select-container"},a_={class:"select-container"},i_={class:"select-container"},s_={class:"slider-container"},l_={class:"slider-wrapper"},u_={class:"bar-container"},c_={class:"slider-label"},f_={class:"search-container"},d_=Du(()=>P("i",{class:"fa fa-search"},null,-1)),p_=[d_],h_=pe({__name:"TheViewHeader",props:{width:{},height:{}},setup(e){const t=e,n=k(()=>t.width),r=k(()=>t.height),o=L(parseFloat(getComputedStyle(document.documentElement).fontSize)),i=()=>{o.value=parseFloat(getComputedStyle(document.documentElement).fontSize)},a=L(null),l=al(),u=il(),s=sl(),d=L(""),f=k(()=>{const T=l.data.filter(B=>u.coordinateFilter(B)&&u.timeFilter(B)&&u.topicFilter(B)).map(B=>B.quality),b=g.value,w=10,O=b/w,_=Array(w).fill(0);T.forEach(B=>{const V=Math.floor(B/O);if(V===w){_[V-1]++;return}_[V]++});const $=2.125*o.value,R=_.reduce((B,V)=>Math.max(B,V),0);return _.map((B,V)=>({height:B/R*$}))}),c=k(()=>l.topics.map((b,w)=>({text:""+(w+1)+"-"+b.name,value:w}))),h=[{text:"",value:0},{text:"",value:$o.YEAR},{text:"",value:$o.MONTH},{text:"",value:$o.DAY}],m=[{text:"",value:"wiki_data"},{text:"",value:""},{text:"",value:"people_data"},{text:"",value:"data"},{text:"",value:"xiaomicar"}],y=L([]),v=L(h[0].value),p=L(m[0].value),g=k(()=>l.data.map(T=>T.quality).reduce((T,b)=>Math.max(T,b),0)<=1?1:100),E=L(Math.ceil(u.qualityThreshold/g.value*100));function C(){u.searchQuery=d.value.split(" ")}return ie(()=>[y.value],()=>{u.selectedTopics=y.value}),ie(()=>[E.value],()=>{u.qualityThreshold=E.value/100*g.value},{immediate:!0}),ie(()=>l.dataPrepared,()=>{l.dataPrepared&&(E.value=Math.ceil(u.qualityThreshold/g.value*100))},{immediate:!0}),ie(()=>[v.value],()=>{v.value===0?s.autoTimeGrain=!0:(s.autoTimeGrain=!1,u.timeGrainSelected=v.value)},{immediate:!0}),ie(()=>[p.value],()=>{dc(p.value);const T=L(window.innerWidth),b=L(window.innerHeight);window.addEventListener("resize",()=>{T.value=window.innerWidth,b.value=window.innerHeight})}),Ne(()=>{window.addEventListener("resize",i)}),Xe(()=>{window.removeEventListener("resize",i)}),(T,b)=>{const w=t_,O=e_;return N(),G("div",{class:"header",style:Fe({height:r.value+"px",width:n.value+"px"}),ref_key:"header",ref:a},[P("div",n_,[r_,P("div",o_,[ke(O,{modelValue:p.value,"onUpdate:modelValue":b[0]||(b[0]=_=>p.value=_),"popper-class":"header-select__popper"},{default:ye(()=>[(N(),G(De,null,He(m,_=>ke(w,{clearable:"false",key:_.value,label:_.text,value:_.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),P("div",a_,[ke(O,{modelValue:y.value,"onUpdate:modelValue":b[1]||(b[1]=_=>y.value=_),"popper-class":"header-select__popper",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:""},{default:ye(()=>[(N(!0),G(De,null,He(c.value,_=>(N(),xe(w,{clearable:"false",key:_.value,label:_.text,value:_.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),P("div",i_,[ke(O,{modelValue:v.value,"onUpdate:modelValue":b[2]||(b[2]=_=>v.value=_),placeholder:"","popper-class":"header-select__popper"},{default:ye(()=>[(N(),G(De,null,He(h,_=>ke(w,{clearable:"false",key:_.value,label:_.text,value:_.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),P("div",s_,[P("div",l_,[P("div",u_,[(N(!0),G(De,null,He(f.value,(_,$)=>(N(),G("div",{key:$,style:Fe({height:_.height+"px"}),class:"bar"},null,4))),128))]),We(P("input",{type:"range",class:"slider","onUpdate:modelValue":b[3]||(b[3]=_=>E.value=_),min:0,max:100,style:Fe({backgroundSize:`${E.value}% 100%`})},null,4),[[jr,E.value]])]),P("div",c_,""+de(E.value),1)])]),P("div",f_,[We(P("input",{class:"search-input",type:"text","onUpdate:modelValue":b[4]||(b[4]=_=>d.value=_),onKeyup:In(C,["enter"]),placeholder:"..."},null,544),[[jr,d.value]]),P("button",{onClick:C,class:"search-button"},p_)])],4)}}}),v_=Qn(h_,[["__scopeId","data-v-e14b4ed7"]]),m_=e=>(Xn("data-v-078dbb1a"),e=e(),Zn(),e),g_=["aria-expanded"],y_={class:"cs-selected"},b_=m_(()=>P("span",{class:"cs-arrow"},"",-1)),w_=["aria-activedescendant"],__=["id","onClick"],T_=pe({__name:"CustomSelect",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=L(!1),i=L(0),a=k(()=>{const f=n.options.find(c=>c.value===n.modelValue);return f?f.label:""});function l(){o.value=!o.value}function u(f){r("update:modelValue",n.options[f].value),o.value=!1}function s(f){if(!o.value&&(f.key==="Enter"||f.key===" ")){o.value=!0;return}o.value&&(f.key==="ArrowDown"?i.value=(i.value+1)%n.options.length:f.key==="ArrowUp"?i.value=(i.value-1+n.options.length)%n.options.length:f.key==="Enter"?u(i.value):f.key==="Escape"&&(o.value=!1))}function d(f){f.target.closest(".cs-container")||(o.value=!1)}return Ne(()=>document.addEventListener("click",d)),Xe(()=>document.removeEventListener("click",d)),(f,c)=>(N(),G("div",{class:"cs-container",onClick:l,onKeydown:Ge(s,["stop","prevent"]),role:"combobox","aria-expanded":o.value,"aria-haspopup":!0,tabindex:"0"},[P("span",y_,de(a.value),1),b_,o.value?(N(),G("ul",{key:0,class:"cs-dropdown",role:"listbox","aria-activedescendant":`opt-${i.value}`},[(N(!0),G(De,null,He(f.options,(h,m)=>(N(),G("li",{key:h.value,id:`opt-${m}`,class:oe(["cs-option",{"is-highlighted":m===i.value}]),role:"option",onClick:Ge(y=>u(m),["stop"])},de(h.label),11,__))),128))],8,w_)):be("",!0)],40,g_))}}),S_=Qn(T_,[["__scopeId","data-v-078dbb1a"]]),kr=e=>(Xn("data-v-3e9f22e4"),e=e(),Zn(),e),E_={class:"mapboxgl-control-container",style:{height:"100%",width:"100%"}},C_={class:"mapboxgl-ctrl-top-left"},O_=kr(()=>P("span",{class:"mapboxgl-ctrl-icon","aria-hidden":"true",title:""},null,-1)),$_=[O_],M_=kr(()=>P("span",{class:"mapboxgl-ctrl-icon","aria-hidden":"true",title:""},null,-1)),x_=[M_],k_=kr(()=>P("span",{class:"mapboxgl-ctrl-icon","aria-hidden":"true",title:""},null,-1)),P_=[k_],I_={class:"mapboxgl-ctrl-group mapboxgl-ctrl"},R_={class:"mapboxgl-ctrl-top-right"},A_={class:"mapboxgl-ctrl select-wrapper",style:{display:"flex",background:"none","box-shadow":"none","pointer-events":"auto"}},D_={class:"map-container"},F_=kr(()=>P("rect",{height:"100%",width:"100%",fill:"transparent"},null,-1)),L_={class:"map"},z_=["d"],N_=["d","fill-opacity","stroke-width"],U_=["cx","cy","id","onMouseover"],B_=["data-word","x","y","font-size","stroke-width","onMouseenter","onMouseleave","onClick"],V_=kr(()=>P("div",{class:"mapboxgl-popup mapboxgl-popup-anchor-bottom",style:{"max-width":"240px",transform:"translate(-50%, -100%)","font-size":"small",position:"fixed",display:"none"}},[P("div",{class:"mapboxgl-popup-tip"}),P("div",{class:"mapboxgl-popup-content"})],-1)),H_=pe({__name:"NewGalaxyView",props:{data:{},embeddingList:{},hoverKeyword:{},coordinateFilter:{type:Function},hoverPageID:{}},emits:["update:coordinateFilter","update:hoverPageID"],setup(e,{emit:t}){const n=new Oc,r=e,o=t,i=D=>{o("update:coordinateFilter",D)},a=D=>{o("update:hoverPageID",D)},l=L(null),u=L(0),s=L(0),d=L(0),f=L(0),c=L(parseFloat(getComputedStyle(document.documentElement).fontSize)),h=()=>{c.value=parseFloat(getComputedStyle(document.documentElement).fontSize)};let m=null;const y=k(()=>[.4*c.value,1.6*c.value]),v={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},p=L(0),g=k(()=>ve(M.value)),E=k(()=>C(g.value));function C(D){if(D.width/D.height>u.value/s.value){const W=u.value/D.width*1,te=0,Z=(s.value-D.height*W)/2,ue=-D.x*W+te,Oe=-D.y*W+Z;return{scale:W,offsetX:ue,offsetY:Oe}}else{const W=s.value/D.height*1,te=(u.value-D.width*W)/2,Z=0,ue=-D.x*W+te,Oe=-D.y*W+Z;return{scale:W,offsetX:ue,offsetY:Oe}}}const T=L(Ll()),b=k(()=>{const D=new Map;return S.value.forEach(F=>{D.set(F.id,F)}),D}),w=new Map([["text_embedding",""],["pure_embedding",""],["time_embedding",""],["concat_embedding",""],["pure_time_embedding",""]]),O=L(null),_=L(null),$=L(null),R=L(null),B=k(()=>en().domain([0,1]).range([0,u.value])),V=k(()=>en().domain([0,1]).range([0,s.value])),S=k(()=>r.data.map(D=>{let{x:F,y:W}=D.embedding[p.value].coords;return F=B.value(F),W=V.value(W),{x:F,y:W,title:D.title,intro:D.intro,id:D.id,keywords:D.keywords}})),z=k(()=>Mf().x(D=>D.x).y(D=>D.y).size([u.value,s.value]).bandwidth(18).weight(()=>1).thresholds(10)),M=k(()=>z.value(S.value)),I=k(()=>{const D={},F=[];return S.value.forEach(W=>{W.keywords.forEach(te=>{D[te]==null&&(D[te]=[]),D[te].push([W.x,W.y,W.id])})}),Object.entries(D).forEach(([W,te])=>{if(te.length<S.value.length*.01){const Z=te.length,ue=ri(te,ze=>ze[0])/Z,Oe=ri(te,ze=>ze[1])/Z;F.push({word:W,count:Z,x:ue,y:Oe,ids:te.map(ze=>ze[2])})}else{const Z=pc(te.map(Je=>[Je[0],Je[1]]),Math.ceil(te.length*.05)),ue=n.cluster(Z,.02),Oe=hc(ue),ze={};te.forEach(Je=>{let _t=1/0,it=-1;Oe.forEach((cn,fn)=>{const kt=vc([Je[0],Je[1]],cn);kt<_t&&(_t=kt,it=fn)}),ze[it]==null&&(ze[it]=[]),ze[it].push(Je)}),Object.entries(ze).forEach(([Je,_t])=>{const it=_t.length,cn=Oe[parseInt(Je)][0],fn=Oe[parseInt(Je)][1];F.push({word:W,count:it,x:cn,y:fn,ids:_t.map(kt=>kt[2])})})}}),F.sort((W,te)=>te.count-W.count),F}),Y=k(()=>{const D=en().domain(hr(I.value,Z=>Z.count)).range(y.value),W=new OffscreenCanvas(1,1).getContext("2d");W.textAlign="center",W.textBaseline="middle";const te=y.value[0]*.5;return I.value.map(Z=>{W.font=`${D(Z.count)+te}px Arial`;const ue=W.measureText(Z.word).width;return{...Z,width:ue,height:D(Z.count)+te}})}),K=L(1e3),j=k(()=>{const D=new mc(ce.value);let F=0;const W=[],te=performance.now();for(let ue in Y.value)if(gc(Y.value[ue],D)||(W.push(Y.value[ue]),F++),F>K.value)break;const Z=performance.now();return console.log("Time: "+(Z-te)+"ms"),W}),J=D=>{le(D.ids.map(F=>ge(`#p${F}.point`).node()))},ee=D=>{$e(D.ids.map(F=>ge(`#p${F}.point`).node()))},Ce=D=>{const W=D.ids.map(Oe=>ge(`#p${Oe}.point`)),te=hr(W,Oe=>Number(Oe.attr("cx"))),Z=hr(W,Oe=>Number(Oe.attr("cy"))),ue=C({x:te[0],y:Z[0],width:te[1]-te[0],height:Z[1]-Z[0]});ge(O.value).select("svg").transition().duration(500).call(T.value.transform,br.translate(ue.offsetX,ue.offsetY).scale(ue.scale))},ce=k(()=>Y.value.map(D=>({x:D.x-D.width/2,y:D.y-D.height/2,width:D.width,height:D.height})).reduce((D,F)=>D===null?{x:F.x,y:F.y,width:F.width,height:F.height}:{x:Math.min(D.x,F.x),y:Math.min(D.y,F.y),width:Math.max(D.x+D.width,F.x+F.width)-Math.min(D.x,F.x),height:Math.max(D.y+D.height,F.y+F.height)-Math.min(D.y,F.y)},null));function ve(D){const[F,W,te,Z]=D.reduce((ue,Oe)=>Oe.coordinates.reduce((ze,Je)=>Je[0].reduce(([_t,it,cn,fn],[kt,Pr])=>[Math.min(_t,kt),Math.min(it,Pr),Math.max(cn,kt),Math.max(fn,Pr)],ze),ue),[1/0,1/0,-1/0,-1/0]);return F===1/0?{x:0,y:0,width:u.value,height:s.value}:{x:F,y:W,width:te-F,height:Z-W}}const Me=en().domain([0,.7]).range([.05,.15]),ne=k(()=>en().domain([0,5]).range([.05*c.value,.125*c.value]));function se(){const F=ge(O.value).select("svg").select("foreignObject").node();F&&F.parentNode&&F.parentNode.appendChild(F)}function X(){const D=ge(O.value).select("svg"),F=D.select(".map");T.value.on("zoom",W=>{const te=W.transform;F.attr("transform",te.toString())}),D.call(T.value)}function re(){const D=ge(O.value).select("svg"),F=oi(D.node()),W=[u.value/2,s.value/2+0],te=F.invert(W),Z=F.k*1.5,ue=ai(ii(F,Z),W,te);D.transition().duration(500).call(T.value.transform,ue)}function ae(){const D=ge(O.value).select("svg"),F=oi(D.node()),W=[u.value/2,s.value/2+0],te=F.invert(W),Z=F.k/1.5,ue=ai(ii(F,Z),W,te);D.transition().duration(500).call(T.value.transform,ue)}function U(){const D=ge(O.value).select("svg");console.log(s.value,u.value,E.value);const{scale:F,offsetX:W,offsetY:te}=E.value??{scale:1,offsetX:0,offsetY:0};D.transition().duration(500).call(T.value.transform,br.translate(W,te).scale(F))}function we(){se(),X()}function me(){var ze;const D=ge(O.value).select(".mapboxgl-popup"),F=(ze=D.node())==null?void 0:ze.getBoundingClientRect();if(!F)return"bottom";const W={x:D.style("left")?parseFloat(D.style("left")):0,y:D.style("top")?parseFloat(D.style("top")):0},te=W.y<F.height,Z=W.y>s.value-F.height,ue=W.x<F.width/2,Oe=W.x>u.value-F.width/2;if(te)return ue?"top-left":Oe?"top-right":"top";if(Z){if(ue)return"bottom-left";if(Oe)return"bottom-right"}return ue?"left":Oe?"right":"bottom"}function Ae(){const D=ge(O.value).select(".mapboxgl-popup"),F=me();D.style("transform",v[F]??"translate(0%,0%)"),D.attr("class",`mapboxgl-popup mapboxgl-popup-anchor-${F}`)}const Re=D=>{f.value=D.x,d.value=D.y},Q=L(!1),fe=L(null),Le=L(0),Te=L(0),at=()=>{if(Q.value){Q.value=!1;return}Q.value=!0,fe.value&&fe.value.remove()},Kt=()=>{fe.value&&(fe.value.remove(),fe.value=null,l.value=null)},Gt=D=>{if(!Q.value)return;const F=ge(O.value).select("svg").select(".map"),[W,te]=ht(D,F.node());if(!Le.value||!Te.value)Le.value=W,Te.value=te,fe.value=F.append("rect").classed("select-rect",!0).attr("x",Le.value).attr("y",Te.value).attr("width",0).attr("height",0).attr("fill","#1b2b30").attr("fill-opacity",.3).attr("stroke","#1b2b30");else{const Z=Math.min(Le.value,W),ue=Math.max(Le.value,W),Oe=Math.min(Te.value,te),ze=Math.max(Te.value,te);l.value=[B.value.invert(Z),V.value.invert(Oe),B.value.invert(ue),V.value.invert(ze)],Le.value=0,Te.value=0,Q.value=!1}},H=D=>{if(fe.value){const F=ge(O.value).select("svg").select(".map");if(Q.value){const[W,te]=ht(D,F.node()),Z=W-Le.value,ue=te-Te.value;fe.value.attr("width",Math.abs(Z)).attr("height",Math.abs(ue)),Z<0&&fe.value.attr("x",W),ue<0&&fe.value.attr("y",te)}}};function le(D){D.forEach(F=>{const W=new MouseEvent("mouseenter",{bubbles:!0,cancelable:!0});F.dispatchEvent(W)})}function $e(D){D.forEach(F=>{const W=new MouseEvent("mouseleave",{bubbles:!0,cancelable:!0});F.dispatchEvent(W)})}return Ne(()=>{if(m=new ResizeObserver(D=>{const W=D[0].contentRect;u.value=W.width,s.value=W.height}),O.value){m.observe(O.value);const D=O.value.getBoundingClientRect();u.value=D.width,s.value=D.height}window.addEventListener("resize",h),we(),U()}),Xe(()=>{window.removeEventListener("resize",h)}),ie(()=>r.hoverPageID,D=>{const F=ge(O.value).select(".mapboxgl-popup"),W=F.select(".mapboxgl-popup-content");if(D===null)F.style("display","none");else{const te=ge(`#p${D}.point`),Z=b.value.get(D),ue=te.node().getBoundingClientRect();F.style("left",`${ue.x+ue.width/2-f.value}px`).style("top",`${ue.y+ue.height/2-d.value}px`).style("display","flex"),W.html(`<h3>${Z.title}</h3><p>${Z.intro}</p>`),Ae()}},{immediate:!0}),ie(()=>r.hoverKeyword,(D,F)=>{const W=ge(R.value);F!=null&&$e(W.selectAll(`text[data-word="${F}"]`).nodes()),D!=null&&le(W.selectAll(`text[data-word="${D}"]`).nodes())}),ie(()=>[p.value,l.value],()=>{i(D=>l.value===null?!0:yc(l.value,D.embedding[p.value].coords))}),(D,F)=>{const W=qo("hover-class"),te=qo("track-full-position");return We((N(),G("div",{ref_key:"mapView",ref:O},[P("div",E_,[P("div",C_,[P("div",{class:"mapboxgl-ctrl mapboxgl-ctrl-group"},[P("button",{class:"mapboxgl-ctrl-zoom-in",type:"button","aria-label":"Zoom in","aria-disabled":"false",onClick:re},$_),P("button",{class:"mapboxgl-ctrl-zoom-out",type:"button","aria-label":"Zoom out","aria-disabled":"false",onClick:ae},x_),P("button",{class:"mapboxgl-ctrl-geolocate",type:"button","aria-label":"Reset North","aria-disabled":"false",title:"reset",onClick:U},P_)]),P("div",I_,[P("button",{class:"mapbox-gl-draw_ctrl-draw-btn mapbox-gl-draw_polygon",title:"",onClick:at,style:Fe({backgroundColor:Q.value?"#d3d3d3":"white"})},null,4),P("button",{class:"mapbox-gl-draw_ctrl-draw-btn mapbox-gl-draw_trash",title:"",onClick:Kt})])]),P("div",R_,[P("div",A_,[ke(S_,{modelValue:p.value,"onUpdate:modelValue":F[0]||(F[0]=Z=>p.value=Z),options:D.embeddingList.map(Z=>({label:x(w).get(Z.name)??Z.name,value:Z.idx}))},null,8,["modelValue","options"])])])]),P("div",D_,[(N(),G("svg",{height:"100%",width:"100%",onClick:Gt,onMousemove:H},[F_,P("g",L_,[P("g",{class:"contours",ref_key:"contoursRef",ref:_},[(N(!0),G(De,null,He(M.value,(Z,ue)=>(N(),G("g",{class:"contour",key:ue},[P("path",{class:"contour-line",d:ki()(Z)},null,8,z_),P("path",{class:"contour-fill",d:ki()(Z),"fill-opacity":x(Me)(Z.value),"stroke-width":ne.value(Z.value)},null,8,N_)]))),128))],512),P("g",{class:"points",ref_key:"pointsRef",ref:$},[(N(!0),G(De,null,He(S.value,(Z,ue)=>We((N(),G("circle",{key:ue,cx:Z.x,cy:Z.y,id:"p"+Z.id,r:"1",class:"point",onMouseover:Oe=>a(Z.id),onMouseout:F[1]||(F[1]=Oe=>a(null))},null,40,U_)),[[W,"hover"]])),128))],512),We((N(),G("g",{class:"wordle",ref_key:"wordleRef",ref:R},[(N(!0),G(De,null,He(j.value,(Z,ue)=>We((N(),G("text",{key:ue,"data-word":Z.word,x:Z.x,y:Z.y,"font-size":Z.height-y.value[0]*.5,"stroke-width":Z.height*.01,onMouseenter:Oe=>J(Z),onMouseleave:Oe=>ee(Z),onClick:Oe=>Ce(Z),class:"wordle-text"},[wr(de(Z.word),1)],40,B_)),[[W,"hover"]])),128))])),[[W,"hover"]])])],32)),V_])])),[[te,Re]])}}}),W_=Qn(H_,[["__scopeId","data-v-3e9f22e4"]]),K_=pe({__name:"ThePage",setup(e){const t=al(),n=il(),r=sl(),o=L(window.innerWidth),i=L(window.innerHeight),a=L(parseFloat(getComputedStyle(document.documentElement).fontSize)),l=()=>{a.value=parseFloat(getComputedStyle(document.documentElement).fontSize)},u=k(()=>[.15*o.value,.6*o.value,.25*o.value]),s=k(()=>Array.from({length:u.value.length},(v,p)=>u.value.slice(0,p).reduce((g,E)=>g+E,0))),d=k(()=>t.data.filter(n.coordinateFilter)),f=k(()=>t.data.filter(v=>n.timeFilter(v)&&n.topicFilter(v))),c=k(()=>f.value.filter(v=>n.coordinateFilter(v))),h=k(()=>{const v=new Map;return c.value.forEach(p=>{p.keywords.forEach(g=>{v.has(g)?v.set(g,v.get(g)+1):v.set(g,1)})}),Array.from(v.entries()).sort((p,g)=>g[1]-p[1]).map((p,g)=>({id:g,label:p[0],values:[p[1]]}))}),m=k(()=>t.eras.map(v=>({label:v.name,start:new Date(v.start.year,v.start.month-1,v.start.day),end:new Date(v.end.year,v.end.month-1,v.end.day)}))),y=k(()=>t.eras.flatMap(v=>v.sub_eras).map(v=>({label:v.name,start:new Date(v.start.year,v.start.month-1,v.start.day),end:new Date(v.end.year,v.end.month-1,v.end.day)})));return Ne(()=>{window.addEventListener("resize",()=>{o.value=window.innerWidth,i.value=window.innerHeight,l()})}),Xe(()=>{window.removeEventListener("resize",()=>{o.value=window.innerWidth,i.value=window.innerHeight,l()})}),(v,p)=>(N(),G("div",{style:Fe({width:`${o.value}px`,height:`${i.value}px`,position:"relative"})},[ke(v_,{class:"component",width:o.value,height:.08*i.value},null,8,["width","height"]),x(t).dataPrepared?(N(),xe(jh,{key:0,style:Fe({height:"22.3rem",transform:`translate(${s.value[1]}px, ${i.value-22.3*a.value}px)`,position:"absolute"}),dynastyList:m.value,eraList:y.value,width:u.value[1],"event-list":y.value,"current-range":x(n).timeRangeViewed,"onUpdate:currentRange":p[0]||(p[0]=g=>x(n).timeRangeViewed=g),"select-range":x(n).timeRangeSelected,"onUpdate:selectRange":p[1]||(p[1]=g=>x(n).timeRangeSelected=g),"current-grain":x(n).timeGrainSelected,"onUpdate:currentGrain":p[2]||(p[2]=g=>x(n).timeGrainSelected=g),"auto-grain":x(r).autoTimeGrain,data:d.value,"quality-threshold":x(n).qualityThreshold,"hover-page-id":x(n).hoverPageID,topics:x(t).topics},null,8,["style","dynastyList","eraList","width","event-list","current-range","select-range","current-grain","auto-grain","data","quality-threshold","hover-page-id","topics"])):be("",!0),x(r).mapStyle=="galaxy"&&x(r).mapOn&&x(t).dataPrepared?(N(),xe(W_,{key:1,class:"component",style:Fe({transform:`translate(${s.value[1]}px, ${.08*i.value}px)`,width:u.value[1]+"px",height:.92*i.value-22.3*a.value+"px"}),data:f.value,"embedding-list":x(t).embeddings.map((g,E)=>({name:g,idx:E})),"hover-keyword":x(n).hoverKeyword,"hover-page-i-d":x(n).hoverPageID,"onUpdate:hoverPageID":p[3]||(p[3]=g=>x(n).hoverPageID=g),"coordinate-filter":x(n).coordinateFilter,"onUpdate:coordinateFilter":p[4]||(p[4]=g=>x(n).coordinateFilter=g)},null,8,["style","data","embedding-list","hover-keyword","hover-page-i-d","coordinate-filter"])):be("",!0),x(t).dataPrepared?(N(),xe(eh,{key:2,class:"component",style:Fe({transform:`translate(${s.value[2]}px, ${.08*i.value}px)`,width:u.value[2]+"px",height:.92*i.value+"px"}),data:c.value,"time-grain-selected":x(n).timeGrainSelected,"hover-page-i-d":x(n).hoverPageID,"onUpdate:hoverPageID":p[5]||(p[5]=g=>x(n).hoverPageID=g),"quality-threshold":x(n).qualityThreshold,"search-query":x(n).searchQuery},null,8,["style","data","time-grain-selected","hover-page-i-d","quality-threshold","search-query"])):be("",!0),x(t).dataPrepared?(N(),xe($c,{key:3,class:"component",width:u.value[0],height:.92*i.value,style:Fe({transform:`translate(${s.value[0]}px, ${.08*i.value}px)`}),"bar-data":h.value,title:"","lable-name":"","value-name":"",unit:"","toggle-labels":[],"hover-keyword":x(n).hoverKeyword,"onUpdate:hoverKeyword":p[6]||(p[6]=g=>x(n).hoverKeyword=g)},null,8,["width","height","style","bar-data","hover-keyword"])):be("",!0)],4))}});export{K_ as default};
